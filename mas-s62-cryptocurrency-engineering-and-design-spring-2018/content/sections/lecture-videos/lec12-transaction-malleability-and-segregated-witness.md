---
about_this_resource_text: ''
course_id: mas-s62-cryptocurrency-engineering-and-design-spring-2018
embedded_media:
- id: Video-YouTube-Stream
  media_location: 7o5shPC0R2k
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  title: Video-YouTube-Stream
  type: Video
  uid: 3f6603ec0205c3dad8385193b63db7c3
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/7o5shPC0R2k/default.jpg
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 1e32d3a28b9e891e7958e31fc60d442a
- id: 3Play-3PlayYouTubeid-MP4
  media_location: 7o5shPC0R2k
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: c6ec4745b65a315f83c3f95e0e143e42
- id: 7o5shPC0R2k.srt
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  technical_location: https://ocw.mit.edu/courses/media-arts-and-sciences/mas-s62-cryptocurrency-engineering-and-design-spring-2018/lecture-videos/lec12-transaction-malleability-and-segregated-witness/7o5shPC0R2k.srt
  title: 3play caption file
  type: null
  uid: 0f01ed1d227712e5d097ac7b45af046d
- id: 7o5shPC0R2k.pdf
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  technical_location: https://ocw.mit.edu/courses/media-arts-and-sciences/mas-s62-cryptocurrency-engineering-and-design-spring-2018/lecture-videos/lec12-transaction-malleability-and-segregated-witness/7o5shPC0R2k.pdf
  title: 3play pdf file
  type: null
  uid: 28972c1935810fe272c14b0577008db6
- id: Caption-3Play YouTube id-SRT
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: 4c1aab0c015e70770f681175daad6446
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: ac204af8bb3c37866abe0d3c2e2ad039
- id: Video-InternetArchive-MP4
  media_location: https://archive.org/download/MIT24.912S17/MITMAS_S62S18_lec12_300k.mp4
  parent_uid: 4a77377a8272fe153ff770c8b2089735
  title: Video-Internet Archive-MP4
  type: Video
  uid: 5fcfb8e1e22ed0f042afbe7547b1c09e
inline_embed_id: 92609027transactionmalleabilityandsegregatedwitness37750230
layout: video
order_index: null
parent_uid: 6396b119dea1934ebbe339b1c3062c94
related_resources_text: ''
short_url: lec12-transaction-malleability-and-segregated-witness
technical_location: https://ocw.mit.edu/courses/media-arts-and-sciences/mas-s62-cryptocurrency-engineering-and-design-spring-2018/lecture-videos/lec12-transaction-malleability-and-segregated-witness
template_type: Tabbed
title: 'Lecture 12: Transaction Malleability and Segregated Witness'
transcript: <p><span m='850'>The</span> <span m='940'>following</span> <span m='1390'>content</span>
  <span m='1900'>is</span> <span m='2020'>provided</span> <span m='2470'>under</span>
  <span m='2680'>a</span> <span m='2740'>Creative</span> <span m='3220'>Commons</span>
  <span m='3610'>license.</span> <span m='4610'>Your</span> <span m='4690'>support</span>
  <span m='5200'>will</span> <span m='5350'>help</span> <span m='5620'>MIT</span>
  <span m='6070'>OpenCourseWare</span> <span m='6820'>continue</span> <span m='7330'>to</span>
  <span m='7480'>offer</span> <span m='7810'>high</span> <span m='8020'>quality</span>
  <span m='8500'>educational</span> <span m='9160'>resources</span> <span m='9730'>for</span>
  <span m='9850'>free.</span> <span m='10910'>To</span> <span m='10930'>make</span>
  <span m='11140'>a</span> <span m='11200'>donation</span> <span m='11950'>or</span>
  <span m='12100'>to</span> <span m='12250'>view</span> <span m='12460'>additional</span>
  <span m='12850'>materials</span> <span m='13480'>from</span> <span m='13660'>hundreds</span>
  <span m='13990'>of</span> <span m='14080'>MIT</span> <span m='14470'>courses,</span>
  <span m='15770'>visit</span> <span m='15970'>MIT</span> <span m='16480'>OpenCourseWare</span>
  <span m='17440'>at</span> <span m='17590'>ocw.mit.edu.</span> </p><p><span m='24470'>PROFESSOR:</span>
  <span m='24595'>Sorry.</span> <span m='24720'>I</span> <span m='24800'>have</span>
  <span m='24950'>a</span> <span m='25100'>bit</span> <span m='25340'>of</span> <span
  m='25460'>a</span> <span m='26630'>sore</span> <span m='26900'>throat,</span> <span
  m='27260'>hoarse</span> <span m='27560'>voice.</span> <span m='28010'>I</span> <span
  m='28310'>was</span> <span m='28550'>talking</span> <span m='28880'>a</span> <span
  m='28940'>lot</span> <span m='29270'>this</span> <span m='29450'>weekend.</span>
  <span m='30220'>OK.</span> <span m='30590'>Also,</span> <span m='31220'>today</span>
  <span m='31490'>we're</span> <span m='31580'>going</span> <span m='31650'>to</span>
  <span m='31720'>do</span> <span m='32000'>transaction</span> <span m='32540'>malleability,</span>
  <span m='33140'>segregated</span> <span m='33570'>witness,</span> <span m='34400'>and</span>
  <span m='34580'>I'm</span> <span m='34820'>endorsing</span> <span m='35390'>an</span>
  <span m='35510'>ICO</span> <span m='36020'>for</span> <span m='36200'>the</span>
  <span m='36290'>first</span> <span m='36470'>time</span> <span m='36620'>ever</span>
  <span m='37730'>publicly,</span> <span m='38360'>and</span> <span m='38570'>it's</span>
  <span m='38900'>Anne's</span> <span m='39200'>intermittent</span> <span m='39650'>cookie</span>
  <span m='39950'>offering.</span> <span m='40280'>So</span> <span m='40430'>if</span>
  <span m='40550'>you</span> <span m='40610'>guys</span> <span m='40790'>want</span>
  <span m='40940'>cookies.</span> <span m='43960'>It's</span> <span m='44140'>an</span>
  <span m='44290'>airdrop</span> <span m='45360'>and</span> <span m='46120'>you</span>
  <span m='46270'>just</span> <span m='46420'>get</span> <span m='46600'>them.</span>
  <span m='54740'>so</span> <span m='55880'>it's</span> <span m='56120'>my</span>
  <span m='56240'>first</span> <span m='56990'>ICO</span> <span m='57690'>I'm</span>
  <span m='57890'>endorsing.</span> </p><p><span m='60990'>OK.</span> <span m='61280'>So</span>
  <span m='62260'>malleability.</span> <span m='64640'>So malleability</span> <span
  m='65480'>is</span> <span m='65810'>the</span> <span m='65930'>ability</span> <span
  m='66410'>to</span> <span m='66590'>deform</span> <span m='66950'>under</span> <span
  m='67160'>pressure</span> <span m='67730'>formateer.</span> <span m='68900'>And</span>
  <span m='69050'>so</span> <span m='69170'>bitcoin</span> <span m='69560'>is</span>
  <span m='69650'>modeled</span> <span m='69900'>off</span> <span m='70050'>of</span>
  <span m='70160'>gold,</span> <span m='70910'>which</span> <span m='71090'>is</span>
  <span m='71270'>the</span> <span m='71420'>most</span> <span m='71630'>malleable</span>
  <span m='72050'>metal.</span> <span m='72350'>You</span> <span m='72410'>can</span>
  <span m='72500'>make</span> <span m='72890'>gold</span> <span m='73160'>leaf</span>
  <span m='73430'>and</span> <span m='73520'>stuff.</span> <span m='74300'>So</span>
  <span m='74840'>clearly</span> <span m='75290'>we</span> <span m='75500'>need</span>
  <span m='75650'>to</span> <span m='75740'>design</span> <span m='76130'>bitcoin</span>
  <span m='76520'>to</span> <span m='76610'>be</span> <span m='76970'>malleable.</span>
  <span m='79290'>No,</span> <span m='79490'>I'm</span> <span m='79760'>joking.</span>
  </p><p><span m='80770'>OK.</span> <span m='81130'>Actually</span> <span m='82010'>in</span>
  <span m='82220'>the</span> <span m='82550'>context</span> <span m='83000'>of</span>
  <span m='83090'>cryptography,</span> <span m='86870'>it's</span> <span m='87200'>not</span>
  <span m='87500'>super</span> <span m='87830'>hard</span> <span m='87920'>definition,</span>
  <span m='88370'>but</span> <span m='88670'>it</span> <span m='88880'>started</span>
  <span m='89210'>with</span> <span m='89330'>Cipher</span> <span m='89600'>text,</span>
  <span m='89840'>where</span> <span m='90020'>if</span> <span m='90170'>you</span>
  <span m='90290'>can</span> <span m='90470'>modify</span> <span m='91190'>a</span>
  <span m='91340'>Cipher</span> <span m='91730'>text</span> <span m='92750'>and</span>
  <span m='93890'>that</span> <span m='94250'>modification</span> <span m='94940'>will</span>
  <span m='95150'>carry</span> <span m='95600'>over</span> <span m='95900'>into</span>
  <span m='96170'>the</span> <span m='96260'>plain</span> <span m='96500'>text</span>
  <span m='96770'>when</span> <span m='96890'>it's</span> <span m='97040'>encrypted.</span>
  <span m='98000'>It</span> <span m='98090'>also</span> <span m='98420'>applies</span>
  <span m='98870'>to</span> <span m='98960'>sort</span> <span m='99170'>of</span>
  <span m='99260'>messages</span> <span m='99680'>and</span> <span m='99800'>signatures.</span>
  <span m='100880'>In</span> <span m='101000'>our</span> <span m='101090'>case,</span>
  <span m='101990'>signatures</span> <span m='102470'>can</span> <span m='102590'>be</span>
  <span m='102710'>malleable,</span> <span m='103710'>which</span> <span m='103820'>means</span>
  <span m='104660'>you</span> <span m='104810'>can</span> <span m='104990'>change</span>
  <span m='105470'>the</span> <span m='105560'>signature</span> <span m='106220'>and</span>
  <span m='106370'>it's</span> <span m='106490'>still</span> <span m='106850'>a</span>
  <span m='106910'>valid</span> <span m='107240'>signature.</span> <span m='108660'>So</span>
  <span m='108820'>given</span> <span m='109130'>a</span> <span m='109190'>signature</span>
  <span m='109750'>S1</span> <span m='111680'>on</span> <span m='111950'>message</span>
  <span m='112370'>M1,</span> <span m='113660'>you</span> <span m='113780'>modify</span>
  <span m='114500'>the</span> <span m='114620'>signature</span> <span m='115100'>to</span>
  <span m='115220'>S2</span> <span m='115820'>or</span> <span m='116660'>S</span>
  <span m='116810'>prime</span> <span m='118130'>and</span> <span m='118460'>it</span>
  <span m='118610'>still</span> <span m='118850'>signs</span> <span m='119210'>the</span>
  <span m='119300'>same</span> <span m='119510'>message.</span> <span m='119960'>It</span>
  <span m='120080'>still</span> <span m='120290'>validates</span> <span m='120740'>as</span>
  <span m='120860'>true.</span> </p><p><span m='122450'>So</span> <span m='122930'>when</span>
  <span m='123260'>we</span> <span m='123440'>were</span> <span m='123560'>defining</span>
  <span m='124010'>signatures</span> <span m='124790'>this</span> <span m='124940'>wasn't</span>
  <span m='125240'>really</span> <span m='125480'>an</span> <span m='125540'>attack</span>
  <span m='125870'>we'd</span> <span m='126020'>considered.</span> <span m='128509'>There's</span>
  <span m='128690'>still</span> <span m='129110'>a</span> <span m='129289'>signature</span>
  <span m='130190'>and</span> <span m='130370'>you</span> <span m='130460'>can't</span>
  <span m='130729'>forge</span> <span m='131210'>a</span> <span m='131270'>signature,</span>
  <span m='132320'>but</span> <span m='132620'>you</span> <span m='132800'>can</span>
  <span m='133520'>dot an</span> <span m='133970'>I</span> <span m='134330'>or</span>
  <span m='134420'>something</span> <span m='134960'>and</span> <span m='135110'>the</span>
  <span m='135200'>signature</span> <span m='135680'>is</span> <span m='135800'>slightly</span>
  <span m='136220'>different.</span> <span m='137190'>You</span> <span m='137290'>can't</span>
  <span m='137360'>create</span> <span m='137630'>one</span> <span m='137810'>yourself,</span>
  <span m='138140'>but</span> <span m='138350'>given</span> <span m='138770'>a</span>
  <span m='138800'>valid</span> <span m='139130'>signature</span> <span m='139650'>you</span>
  <span m='139670'>can</span> <span m='139820'>make</span> <span m='140030'>a</span>
  <span m='140120'>slightly</span> <span m='140510'>different</span> <span m='141110'>valid</span>
  <span m='141380'>signature.</span> </p><p><span m='143700'>And</span> <span m='143890'>that's</span>
  <span m='144080'>how</span> <span m='144170'>it</span> <span m='144260'>works</span>
  <span m='145730'>in</span> <span m='145880'>the</span> <span m='145970'>bitcoin</span>
  <span m='146360'>signing</span> <span m='146690'>algorithm.</span> <span m='147950'>But</span>
  <span m='148040'>there's</span> <span m='148220'>all</span> <span m='148400'>sorts</span>
  <span m='148700'>of</span> <span m='148760'>different</span> <span m='149790'>contexts</span>
  <span m='150200'>where</span> <span m='150350'>malleability</span> <span m='151370'>exists</span>
  <span m='151910'>in</span> <span m='152810'>cryptography.</span> <span m='154160'>And</span>
  <span m='154280'>then</span> <span m='154400'>part</span> <span m='154580'>of</span>
  <span m='154670'>it</span> <span m='154760'>is</span> <span m='155540'>things</span>
  <span m='155770'>still</span> <span m='155900'>have</span> <span m='156050'>to</span>
  <span m='156140'>work</span> <span m='156710'>for</span> <span m='156860'>whatever</span>
  <span m='157160'>definition.</span> <span m='158250'>So</span> <span m='158360'>if</span>
  <span m='158450'>you</span> <span m='158900'>malleates</span> <span m='159800'>a</span>
  <span m='159920'>signature</span> <span m='160550'>and</span> <span m='160640'>it</span>
  <span m='160730'>no</span> <span m='160970'>longer</span> <span m='161240'>validates,</span>
  <span m='162410'>well,</span> <span m='162650'>that's</span> <span m='162800'>sort</span>
  <span m='162980'>of</span> <span m='163070'>a</span> <span m='163130'>trivial,</span>
  <span m='163620'>like--</span> <span m='163910'>yeah,</span> <span m='164390'>sure,</span>
  <span m='164630'>you</span> <span m='164720'>can</span> <span m='164810'>do</span>
  <span m='164900'>that</span> <span m='165030'>to</span> <span m='165080'>any</span>
  <span m='165830'>bunch</span> <span m='166130'>of</span> <span m='166220'>bytes.</span>
  <span m='166550'>You</span> <span m='166640'>can</span> <span m='166760'>just</span>
  <span m='167060'>flip</span> <span m='167360'>some</span> <span m='167560'>of</span>
  <span m='167650'>them</span> <span m='168200'>and</span> <span m='168320'>the</span>
  <span m='168380'>whole</span> <span m='168530'>thing</span> <span m='168710'>doesn't</span>
  <span m='168920'>work</span> <span m='169100'>anymore.</span> <span m='169520'>That's</span>
  <span m='169820'>easy.</span> <span m='170690'>But</span> <span m='171500'>properties</span>
  <span m='171860'>where</span> <span m='171950'>it</span> <span m='172010'>still</span>
  <span m='172160'>works.</span> </p><p><span m='173870'>So</span> <span m='174050'>this</span>
  <span m='174290'>leads</span> <span m='174530'>to</span> <span m='174590'>some</span>
  <span m='174740'>weird</span> <span m='174920'>stuff</span> <span m='175130'>in</span>
  <span m='175220'>bitcoin</span> <span m='175550'>where</span> <span m='176630'>you</span>
  <span m='176750'>can</span> <span m='176930'>change</span> <span m='177500'>a</span>
  <span m='177560'>transaction</span> <span m='179060'>and</span> <span m='179270'>it's</span>
  <span m='179540'>still</span> <span m='179930'>valid.</span> <span m='181550'>And</span>
  <span m='181670'>that's</span> <span m='182090'>generally</span> <span m='182630'>not</span>
  <span m='182810'>what</span> <span m='182900'>you</span> <span m='183050'>want.</span>
  <span m='184400'>If</span> <span m='184610'>you've</span> <span m='184730'>got</span>
  <span m='184880'>some</span> <span m='185030'>kind</span> <span m='185180'>of</span>
  <span m='185240'>contract</span> <span m='185870'>or</span> <span m='185930'>some</span>
  <span m='186080'>kind</span> <span m='186230'>of</span> <span m='186320'>payment</span>
  <span m='187700'>and</span> <span m='187850'>you</span> <span m='187970'>write</span>
  <span m='188180'>a</span> <span m='188240'>check,</span> <span m='189890'>you</span>
  <span m='190040'>don't</span> <span m='190190'>want</span> <span m='190370'>someone</span>
  <span m='190640'>to</span> <span m='190700'>be</span> <span m='190760'>able</span>
  <span m='190880'>to</span> <span m='190940'>modify</span> <span m='191360'>the</span>
  <span m='191450'>check</span> <span m='191750'>and</span> <span m='191840'>still</span>
  <span m='192020'>be</span> <span m='192110'>able</span> <span m='192260'>to</span>
  <span m='192320'>cash</span> <span m='192590'>it.</span> </p><p><span m='193700'>And</span>
  <span m='195590'>I</span> <span m='195650'>don't</span> <span m='195800'>really</span>
  <span m='195980'>use</span> <span m='196160'>checks</span> <span m='196400'>much,</span>
  <span m='196640'>but</span> <span m='197060'>they</span> <span m='197150'>draw</span>
  <span m='197330'>the</span> <span m='197450'>line.</span> <span m='198080'>Like</span>
  <span m='198880'>$100</span> <span m='199850'>and</span> <span m='199970'>then</span>
  <span m='200120'>they</span> <span m='200350'>draw</span> <span m='200530'>a</span>
  <span m='200570'>line</span> <span m='200870'>so</span> <span m='201020'>someone</span>
  <span m='201260'>doesn't</span> <span m='201440'>write</span> <span m='201890'>and</span>
  <span m='202040'>$0.99</span> <span m='202760'>or</span> <span m='202850'>something</span>
  <span m='203150'>after.</span> <span m='203960'>Not</span> <span m='204230'>that</span>
  <span m='204320'>that's</span> <span m='204530'>like</span> <span m='204860'>the</span>
  <span m='204950'>greatest</span> <span m='205280'>attack</span> <span m='205580'>ever.</span>
  <span m='206870'>Or</span> <span m='207170'>$100</span> <span m='207890'>and</span>
  <span m='208040'>then</span> <span m='208160'>someone</span> <span m='208380'>puts</span>
  <span m='208550'>like</span> <span m='208700'>$1,000.</span> <span m='210320'>I</span>
  <span m='210410'>don't</span> <span m='210560'>know.</span> <span m='211730'>But</span>
  <span m='212270'>it's</span> <span m='212420'>sort</span> <span m='212690'>of</span>
  <span m='212780'>like</span> <span m='212930'>that</span> <span m='213140'>where</span>
  <span m='213290'>someone</span> <span m='213560'>can</span> <span m='213680'>change</span>
  <span m='214130'>the</span> <span m='214220'>thing</span> <span m='214430'>you</span>
  <span m='214550'>sign,</span> <span m='214970'>can</span> <span m='215120'>change</span>
  <span m='215510'>the</span> <span m='215600'>thing</span> <span m='215780'>you</span>
  <span m='215920'>are</span> <span m='216020'>agreeing</span> <span m='216350'>to</span>
  <span m='216950'>after</span> <span m='217250'>the</span> <span m='217340'>fact,</span>
  <span m='218120'>and</span> <span m='218390'>it's</span> <span m='218540'>still</span>
  <span m='218780'>valid</span> <span m='219260'>and</span> <span m='219560'>it</span>
  <span m='219650'>does</span> <span m='219800'>something</span> <span m='220070'>you</span>
  <span m='220130'>don't</span> <span m='220280'>expect.</span> </p><p><span m='222000'>OK.</span>
  <span m='223150'>So</span> <span m='225460'>a</span> <span m='225570'>review</span>
  <span m='226200'>of</span> <span m='226530'>the</span> <span m='226650'>transaction</span>
  <span m='227280'>format,</span> <span m='227670'>which</span> <span m='228450'>should</span>
  <span m='228660'>be</span> <span m='229020'>probably</span> <span m='229440'>in</span>
  <span m='229560'>people's</span> <span m='229890'>minds</span> <span m='230160'>if</span>
  <span m='230250'>you were</span> <span m='230400'>looking</span> <span m='230610'>at</span>
  <span m='230670'>the</span> <span m='230730'>homework,</span> <span m='231330'>the</span>
  <span m='231580'>problem</span> <span m='231860'>set.</span> <span m='233660'>And</span>
  <span m='233820'>one</span> <span m='234090'>thing</span> <span m='234540'>to</span>
  <span m='234750'>focus</span> <span m='235080'>on</span> <span m='235200'>is</span>
  <span m='235320'>that</span> <span m='235500'>the</span> <span m='235770'>outputs</span>
  <span m='236310'>don't</span> <span m='236730'>look</span> <span m='237570'>like</span>
  <span m='237750'>the</span> <span m='237900'>inputs.</span> <span m='238860'>These</span>
  <span m='239130'>are</span> <span m='239700'>fundamentally</span> <span m='240480'>different</span>
  <span m='240870'>things.</span> <span m='242190'>The</span> <span m='242340'>outputs</span>
  <span m='243330'>specify</span> <span m='244080'>a</span> <span m='244170'>transaction</span>
  <span m='244800'>ID</span> <span m='245370'>and</span> <span m='248030'>the</span>
  <span m='248130'>inputs,</span> <span m='248640'>and</span> <span m='248760'>then</span>
  <span m='248880'>the</span> <span m='249030'>outputs</span> <span m='250050'>specify</span>
  <span m='250530'>a</span> <span m='250590'>script</span> <span m='251130'>and</span>
  <span m='251220'>an</span> <span m='251310'>amount.</span> </p><p><span m='252790'>There's</span>
  <span m='253230'>another</span> <span m='254010'>4</span> <span m='254280'>byte</span>
  <span m='254460'>field</span> <span m='254760'>here</span> <span m='254880'>that</span>
  <span m='255000'>doesn't</span> <span m='255240'>matter.</span> <span m='256100'>So</span>
  <span m='256230'>basically</span> <span m='256680'>you're</span> <span m='257070'>spending</span>
  <span m='257670'>from</span> <span m='258180'>a</span> <span m='258329'>transaction</span>
  <span m='259560'>and</span> <span m='259800'>a</span> <span m='260010'>sort</span>
  <span m='260220'>of</span> <span m='260339'>row</span> <span m='261420'>and</span>
  <span m='261540'>you're</span> <span m='261660'>spending</span> <span m='262170'>too</span>
  <span m='262470'>just</span> <span m='262680'>this</span> <span m='262890'>arbitrary</span>
  <span m='263400'>pub</span> <span m='263680'>key,</span> <span m='264510'>but</span>
  <span m='264630'>you're</span> <span m='264720'>not</span> <span m='264870'>spending</span>
  <span m='265350'>from</span> <span m='265890'>a</span> <span m='265950'>pub</span>
  <span m='266220'>key</span> <span m='266790'>and</span> <span m='266880'>you're</span>
  <span m='266970'>not</span> <span m='267810'>spending</span> <span m='268320'>to</span>
  <span m='268860'>a</span> <span m='268920'>transaction.</span> <span m='269780'>You</span>
  <span m='269850'>don't</span> <span m='270150'>identify</span> <span m='270780'>your</span>
  <span m='271500'>transaction</span> <span m='272100'>itself</span> <span m='272400'>here.</span>
  <span m='278410'>Almost</span> <span m='278650'>every</span> <span m='278920'>website</span>
  <span m='279400'>that</span> <span m='279580'>shows</span> <span m='280580'>blockchains</span>
  <span m='282160'>is</span> <span m='282430'>it</span> <span m='282500'>gets</span>
  <span m='282640'>this</span> <span m='282820'>wrong.</span> </p><p><span m='283970'>So</span>
  <span m='284050'>if</span> <span m='284170'>you</span> <span m='284290'>look</span>
  <span m='284500'>at</span> <span m='284650'>like,</span> <span m='284950'>I</span>
  <span m='285310'>don't know,</span> <span m='285670'>blockchain.info</span> <span
  m='286540'>is</span> <span m='288175'>probably</span> <span m='288650'>the</span>
  <span m='288740'>most</span> <span m='288920'>popular</span> <span m='291390'>and</span>
  <span m='291570'>you</span> <span m='291690'>just</span> <span m='291840'>look</span>
  <span m='292020'>at</span> <span m='292080'>a</span> <span m='292140'>transaction.</span>
  <span m='294190'>They</span> <span m='294690'>don't</span> <span m='294840'>have</span>
  <span m='294980'>it</span> <span m='295050'>anymore.</span> <span m='295410'>OK.</span>
  <span m='295670'>So</span> <span m='295740'>you</span> <span m='295830'>look</span>
  <span m='295960'>at</span> <span m='296030'>a</span> <span m='296070'>block</span>
  <span m='297430'>and</span> <span m='297550'>then</span> <span m='297760'>you</span>
  <span m='297850'>look</span> <span m='297970'>at</span> <span m='298050'>a</span>
  <span m='298090'>transaction</span> <span m='298600'>in</span> <span m='298690'>the</span>
  <span m='298750'>block.</span> <span m='300460'>We're</span> <span m='300970'>going.</span>
  <span m='301350'>No.</span> <span m='301700'>No.</span> <span m='302010'>No,</span>
  <span m='302150'>not yet.</span> <span m='303102'>There we</span> <span m='303580'>go</span>
  <span m='303950'>OK.</span> <span m='304320'>So you</span> <span m='304400'>look</span>
  <span m='304520'>at</span> <span m='304580'>a</span> <span m='304610'>transaction.</span>
  <span m='305030'>Yeah,</span> <span m='305360'>it</span> <span m='305630'>shows.</span>
  <span m='306860'>This</span> <span m='307070'>address</span> <span m='307550'>is</span>
  <span m='307700'>sending</span> <span m='308030'>to</span> <span m='308150'>these</span>
  <span m='308330'>two</span> <span m='308450'>addresses.</span> <span m='310070'>And</span>
  <span m='310640'>blockchain.info</span> <span m='311510'>is</span> <span m='311600'>particularly</span>
  <span m='312230'>egregious</span> <span m='312810'>and</span> <span m='312920'>that</span>
  <span m='313070'>there</span> <span m='313190'>may</span> <span m='313340'>actually</span>
  <span m='313640'>be</span> <span m='314300'>more</span> <span m='314510'>than</span>
  <span m='314630'>one</span> <span m='314780'>input</span> <span m='315080'>and two</span>
  <span m='315650'>outputs</span> <span m='315980'>in</span> <span m='316070'>this</span>
  <span m='316220'>transaction.</span> <span m='319455'>They</span> <span m='320070'>hide</span>
  <span m='320490'>change</span> <span m='320880'>transactions.</span> </p><p><span
  m='321860'>So</span> <span m='322590'>it</span> <span m='322740'>looks</span> <span
  m='322980'>like,</span> <span m='323200'>hey,</span> <span m='324060'>this</span>
  <span m='324270'>address</span> <span m='325230'>had</span> <span m='325590'>some</span>
  <span m='326010'>money</span> <span m='326370'>in</span> <span m='326460'>it</span>
  <span m='326640'>and</span> <span m='326760'>it</span> <span m='326880'>sent</span>
  <span m='327210'>it</span> <span m='327270'>to</span> <span m='327420'>these</span>
  <span m='327630'>two</span> <span m='327750'>addresses.</span> <span m='328890'>And</span>
  <span m='329040'>if</span> <span m='329160'>I</span> <span m='329250'>click,</span>
  <span m='329580'>oh, where</span> <span m='329760'>did</span> <span m='329850'>this</span>
  <span m='329970'>money come?</span> <span m='330150'>It come</span> <span m='330570'>from</span>
  <span m='330780'>18eecz,</span> <span m='333460'>and</span> <span m='333600'>it</span>
  <span m='333660'>shows</span> <span m='333990'>here's</span> <span m='334200'>the</span>
  <span m='334290'>bitcoin</span> <span m='334560'>address,</span> <span m='335190'>and,</span>
  <span m='335510'>oh,</span> <span m='335970'>it's</span> <span m='336300'>got</span>
  <span m='338580'>multiple</span> <span m='338940'>transactions</span> <span m='339630'>this</span>
  <span m='339810'>addresses</span> <span m='340140'>has</span> <span m='340230'>been</span>
  <span m='340350'>involved</span> <span m='340710'>in.</span> <span m='342180'>This</span>
  <span m='342420'>is</span> <span m='342600'>not</span> <span m='342990'>how</span>
  <span m='343170'>bitcoin</span> <span m='343530'>works.</span> <span m='344580'>They</span>
  <span m='345030'>are</span> <span m='345450'>running</span> <span m='345840'>their</span>
  <span m='345990'>own</span> <span m='346530'>database</span> <span m='347790'>and</span>
  <span m='347940'>sort</span> <span m='348120'>of</span> <span m='348240'>making</span>
  <span m='348555'>up</span> <span m='348870'>this</span> <span m='349680'>view</span>
  <span m='350160'>of</span> <span m='350310'>the</span> <span m='350400'>network,</span>
  <span m='351490'>which</span> <span m='351570'>is</span> <span m='352170'>incorrect.</span>
  <span m='353730'>Transactions</span> <span m='355200'>don't</span> <span m='355800'>send</span>
  <span m='356100'>from</span> <span m='356310'>an</span> <span m='356400'>address,</span>
  <span m='356790'>they</span> <span m='356940'>send</span> <span m='357240'>from</span>
  <span m='357600'>another</span> <span m='358020'>transactions</span> <span m='358710'>previous</span>
  <span m='359100'>output.</span> </p><p><span m='360960'>And</span> <span m='361080'>this</span>
  <span m='361200'>is</span> <span m='361290'>very</span> <span m='361560'>confusing</span>
  <span m='362190'>because</span> <span m='362610'>in</span> <span m='362760'>the</span>
  <span m='362820'>case,</span> <span m='363240'>let's</span> <span m='363420'>say</span>
  <span m='363630'>in</span> <span m='363750'>this</span> <span m='363900'>transaction,</span>
  <span m='364650'>there</span> <span m='364860'>is</span> <span m='365150'>a--</span>
  <span m='365900'>what is it?</span> <span m='369440'>767</span> <span m='370490'>something.</span>
  <span m='374880'>So</span> <span m='375480'>it</span> <span m='375600'>says,</span>
  <span m='375930'>yeah,</span> <span m='376380'>it's</span> <span m='376500'>coming</span>
  <span m='376770'>from</span> <span m='376980'>18ee</span> <span m='379280'>whatever,</span>
  <span m='380040'>and</span> <span m='380220'>if</span> <span m='380310'>I</span>
  <span m='380370'>click</span> <span m='380610'>on</span> <span m='380730'>it</span>
  <span m='380920'>I</span> <span m='381020'>get</span> <span m='381120'>three</span>
  <span m='381210'>different</span> <span m='381450'>transactions.</span> <span m='382110'>There</span>
  <span m='382290'>is</span> <span m='382440'>a</span> <span m='382530'>specific</span>
  <span m='383100'>transaction</span> <span m='383910'>that</span> <span m='384790'>18ee</span>
  <span m='385470'>was</span> <span m='385650'>involved</span> <span m='386100'>in</span>
  <span m='386460'>that</span> <span m='386610'>is</span> <span m='386760'>being</span>
  <span m='387030'>spent</span> <span m='387240'>from</span> <span m='387480'>in</span>
  <span m='387600'>this</span> <span m='387750'>transaction.</span> <span m='388250'>I</span>
  <span m='388320'>can</span> <span m='388440'>look</span> <span m='388560'>it</span>
  <span m='388650'>up</span> <span m='389040'>because</span> <span m='389250'>I</span>
  <span m='389310'>have</span> <span m='389400'>an</span> <span m='389460'>actual</span>
  <span m='390300'>full</span> <span m='390530'>node.</span> </p><p><span m='391240'>So</span>
  <span m='391260'>if</span> <span m='391380'>I</span> <span m='391470'>say</span>
  <span m='391680'>get</span> <span m='391860'>raw</span> <span m='392010'>transaction</span>
  <span m='393670'>and</span> <span m='393900'>I</span> <span m='395140'>put</span>
  <span m='395410'>it</span> <span m='395500'>in</span> <span m='395650'>here</span>
  <span m='397730'>and</span> <span m='398020'>I</span> <span m='398080'>can</span>
  <span m='398200'>see,</span> <span m='398570'>OK,</span> <span m='398880'>it</span>
  <span m='398950'>was</span> <span m='399130'>spending</span> <span m='399610'>from</span>
  <span m='401770'>c838.</span> <span m='403410'>It was</span> <span m='403610'>spending</span>
  <span m='403930'>from</span> <span m='404170'>this</span> <span m='404560'>transaction,</span>
  <span m='406210'>not</span> <span m='406600'>just</span> <span m='406870'>an</span>
  <span m='406960'>address.</span> <span m='407710'>So</span> <span m='409570'>I</span>
  <span m='409630'>mean</span> <span m='409780'>if</span> <span m='410200'>you're</span>
  <span m='410290'>coming</span> <span m='410560'>at</span> <span m='410740'>this</span>
  <span m='411040'>sort</span> <span m='411310'>of</span> <span m='411400'>new</span>
  <span m='411640'>it's</span> <span m='411790'>like,</span> <span m='411970'>OK,</span>
  <span m='412210'>fine,</span> <span m='413200'>why do</span> <span m='413600'>you</span>
  <span m='413800'>keep</span> <span m='413980'>talking</span> <span m='414250'>about</span>
  <span m='414400'>this?</span> <span m='415450'>But</span> <span m='415690'>if</span>
  <span m='415840'>you've</span> <span m='416020'>been</span> <span m='416170'>working</span>
  <span m='416530'>on</span> <span m='416650'>these</span> <span m='416770'>things,</span>
  <span m='417160'>a</span> <span m='417220'>lot</span> <span m='417430'>of</span>
  <span m='417520'>people,</span> <span m='418010'>myself</span> <span m='418330'>included,</span>
  <span m='419170'>for</span> <span m='419440'>like</span> <span m='420100'>six</span>
  <span m='420400'>months</span> <span m='420640'>a</span> <span m='420700'>year</span>
  <span m='421780'>I</span> <span m='421870'>looked</span> <span m='422050'>at</span>
  <span m='422110'>these</span> <span m='422230'>websites</span> <span m='422710'>and</span>
  <span m='422800'>I'm</span> <span m='422890'>like,</span> <span m='423040'>oh,</span>
  <span m='423100'>this</span> <span m='423250'>is</span> <span m='423340'>how</span>
  <span m='423460'>it</span> <span m='423520'>works</span> <span m='423850'>and</span>
  <span m='423970'>then</span> <span m='425316'>six</span> <span m='425740'>months
  in</span> <span m='426100'>or</span> <span m='426220'>something</span> <span m='426490'>looking</span>
  <span m='426700'>for code,</span> <span m='426750'>and I'm</span> <span m='426960'>like,</span>
  <span m='427090'>wait,</span> <span m='427910'>huh?</span> <span m='429100'>This</span>
  <span m='429450'>code</span> <span m='430000'>is</span> <span m='430150'>wrong,</span>
  <span m='430510'>but no,</span> <span m='430810'>this</span> <span m='430960'>is</span>
  <span m='431050'>the</span> <span m='431110'>bitcoin</span> <span m='431770'>code</span>
  <span m='432070'>that</span> <span m='432220'>actually</span> <span m='432460'>is</span>
  <span m='432550'>running.</span> <span m='433780'>And</span> <span m='433930'>so</span>
  <span m='434140'>it's</span> <span m='434530'>a</span> <span m='434710'>weird</span>
  <span m='435130'>thing</span> <span m='435340'>to</span> <span m='435430'>sort</span>
  <span m='435610'>of</span> <span m='435670'>get</span> <span m='435790'>used</span>
  <span m='435970'>to.</span> <span m='436060'>Like</span> <span m='436180'>no,</span>
  <span m='436420'>you're</span> <span m='436570'>not</span> <span m='436690'>spending</span>
  <span m='436930'>from an</span> <span m='437080'>address.</span> <span m='437680'>You</span>
  <span m='438100'>don't</span> <span m='438760'>show</span> <span m='439000'>the</span>
  <span m='439120'>address</span> <span m='439360'>at</span> <span m='439450'>all</span>
  <span m='439550'>when</span> <span m='439660'>you</span> <span m='439750'>spend</span>
  <span m='439930'>from</span> <span m='440110'>it,</span> <span m='440440'>you</span>
  <span m='440530'>spend</span> <span m='440740'>from</span> <span m='440920'>a</span>
  <span m='440950'>specific</span> <span m='441370'>output.</span> </p><p><span m='442170'>OK.</span>
  <span m='442750'>So</span> <span m='442900'>that</span> <span m='443110'>leads</span>
  <span m='443500'>to</span> <span m='443590'>some</span> <span m='443800'>weird</span>
  <span m='444040'>issues.</span> <span m='447810'>Specifically,</span> <span m='448420'>what</span>
  <span m='448720'>gets</span> <span m='449070'>signed?</span> <span m='450250'>So</span>
  <span m='450610'>to</span> <span m='450760'>some</span> <span m='450940'>extent</span>
  <span m='451210'>you're</span> <span m='451330'>signing</span> <span m='451720'>the</span>
  <span m='451810'>whole</span> <span m='452050'>transaction.</span> <span m='453160'>You</span>
  <span m='453250'>sign.</span> <span m='454820'>You</span> <span m='454870'>want</span>
  <span m='454990'>to</span> <span m='455050'>sign</span> <span m='455290'>everything.</span>
  <span m='456070'>When</span> <span m='456250'>you're</span> <span m='456400'>saying</span>
  <span m='457180'>I'm</span> <span m='457300'>sending</span> <span m='457600'>money</span>
  <span m='457810'>from</span> <span m='457960'>here,</span> <span m='458200'>I'm</span>
  <span m='458290'>sending</span> <span m='458560'>it</span> <span m='458620'>to</span>
  <span m='458770'>here,</span> <span m='459700'>you</span> <span m='459790'>want</span>
  <span m='460000'>to</span> <span m='460100'>make</span> <span m='460600'>sure</span>
  <span m='460810'>that</span> <span m='460930'>your</span> <span m='461320'>signature</span>
  <span m='461770'>covers</span> <span m='462340'>the</span> <span m='462460'>entire</span>
  <span m='463030'>transaction</span> <span m='463720'>so</span> <span m='463870'>that</span>
  <span m='464080'>people</span> <span m='464350'>can't</span> <span m='464560'>add</span>
  <span m='464800'>stuff</span> <span m='465130'>after or</span> <span m='465610'>remove</span>
  <span m='465970'>stuff.</span> </p><p><span m='468300'>So</span> <span m='468400'>you</span>
  <span m='468500'>want</span> <span m='468520'>to</span> <span m='468580'>sign</span>
  <span m='468710'>the</span> <span m='468790'>inputs</span> <span m='469000'>and</span>
  <span m='469090'>outputs.</span> <span m='469330'>But</span> <span m='469440'>the</span>
  <span m='469510'>inputs</span> <span m='470220'>contain</span> <span m='470680'>signatures</span>
  <span m='471460'>and</span> <span m='471700'>you</span> <span m='471880'>can't</span>
  <span m='472240'>sign</span> <span m='472840'>the</span> <span m='472960'>signature.</span>
  <span m='473850'>That</span> <span m='474010'>doesn't</span> <span m='474220'>make</span>
  <span m='474340'>any</span> <span m='474460'>sense.</span> <span m='475630'>The</span>
  <span m='475720'>signature</span> <span m='476060'>is</span> <span m='476200'>the</span>
  <span m='476260'>thing</span> <span m='476440'>you're</span> <span m='476590'>putting</span>
  <span m='477010'>on</span> <span m='477190'>at</span> <span m='477250'>the</span>
  <span m='477370'>end.</span> <span m='478040'>So</span> <span m='478120'>it's</span>
  <span m='478240'>sort</span> <span m='478420'>of</span> <span m='478510'>weird.</span>
  <span m='478920'>You've</span> <span m='479020'>got</span> <span m='479170'>this</span>
  <span m='479290'>document</span> <span m='479860'>and</span> <span m='479980'>you</span>
  <span m='480190'>have</span> <span m='480310'>a</span> <span m='480370'>little</span>
  <span m='480550'>line</span> <span m='480790'>at</span> <span m='480850'>the</span>
  <span m='480940'>bottom</span> <span m='481180'>for</span> <span m='481330'>the</span>
  <span m='481420'>signature.</span> <span m='482200'>But</span> <span m='482410'>should</span>
  <span m='482550'>the</span> <span m='482620'>signatures</span> <span m='483070'>be</span>
  <span m='483370'>maybe</span> <span m='483640'>a</span> <span m='483730'>separate</span>
  <span m='484750'>page</span> <span m='485320'>that</span> <span m='485560'>refers</span>
  <span m='486190'>to</span> <span m='486280'>the</span> <span m='486340'>previous</span>
  <span m='486640'>page?</span> <span m='487420'>It's</span> <span m='487780'>actually</span>
  <span m='488050'>kind</span> <span m='488200'>of</span> <span m='488260'>a</span>
  <span m='488290'>weird</span> <span m='488470'>confusing</span> <span m='488800'>problem.</span>
  </p><p><span m='490450'>So</span> <span m='490690'>in</span> <span m='490870'>practice,</span>
  <span m='491500'>in</span> <span m='491620'>bitcoin,</span> <span m='492190'>what</span>
  <span m='492400'>Satoshi</span> <span m='492760'>did</span> <span m='493180'>in</span>
  <span m='493750'>2009,</span> <span m='496390'>you</span> <span m='496780'>take</span>
  <span m='496990'>the</span> <span m='497080'>whole</span> <span m='497200'>transaction,</span>
  <span m='497680'>but</span> <span m='497830'>you</span> <span m='498190'>remove</span>
  <span m='498760'>the</span> <span m='498880'>signature</span> <span m='499300'>fields.</span>
  <span m='499740'>You</span> <span m='499840'>basically</span> <span m='500230'>zero</span>
  <span m='500590'>them</span> <span m='500740'>out.</span> <span m='501010'>Just</span>
  <span m='501160'>put</span> <span m='501310'>a</span> <span m='501340'>zero</span>
  <span m='501610'>there</span> <span m='502390'>and</span> <span m='502510'>then</span>
  <span m='502630'>you</span> <span m='502750'>sign</span> <span m='503710'>that</span>
  <span m='503950'>sort</span> <span m='504160'>of</span> <span m='505000'>signatureless</span>
  <span m='506290'>transaction.</span> <span m='507610'>And</span> <span m='507790'>then</span>
  <span m='508150'>you</span> <span m='508270'>put</span> <span m='508480'>that</span>
  <span m='508690'>signature</span> <span m='509140'>in</span> <span m='509860'>after</span>
  <span m='510100'>the</span> <span m='510190'>fact.</span> <span m='513000'>And</span>
  <span m='513140'>so</span> <span m='513260'>that</span> <span m='513440'>means</span>
  <span m='514760'>if</span> <span m='514880'>you</span> <span m='514970'>change</span>
  <span m='515419'>any</span> <span m='515630'>bit</span> <span m='515900'>of</span>
  <span m='516049'>the</span> <span m='516230'>stuff</span> <span m='516620'>that</span>
  <span m='516799'>gets</span> <span m='517070'>signed</span> <span m='517880'>other</span>
  <span m='518090'>than</span> <span m='518240'>the</span> <span m='518330'>signature,</span>
  <span m='520370'>the</span> <span m='520460'>signature</span> <span m='520850'>will</span>
  <span m='520970'>break.</span> <span m='522409'>So</span> <span m='522530'>does</span>
  <span m='522650'>that</span> <span m='522770'>make</span> <span m='522890'>sense?</span>
  </p><p><span m='525760'>You</span> <span m='525820'>have</span> <span m='525980'>these</span>
  <span m='526340'>empty</span> <span m='526640'>lines</span> <span m='527120'>kind</span>
  <span m='527360'>of,</span> <span m='528080'>and</span> <span m='528200'>the</span>
  <span m='528260'>idea</span> <span m='528490'>is</span> <span m='528965'>you</span>
  <span m='529250'>empty</span> <span m='529550'>them</span> <span m='529700'>out,</span>
  <span m='529880'>you</span> <span m='529970'>make</span> <span m='530120'>them</span>
  <span m='530270'>blank</span> <span m='530540'>lines,</span> <span m='531440'>and</span>
  <span m='531530'>then</span> <span m='531710'>you</span> <span m='531890'>take</span>
  <span m='532160'>that</span> <span m='532310'>whole</span> <span m='532430'>message,</span>
  <span m='532880'>hash</span> <span m='533270'>it,</span> <span m='534110'>including</span>
  <span m='534530'>the</span> <span m='534650'>empty</span> <span m='534890'>parts,</span>
  <span m='536360'>and</span> <span m='536510'>then</span> <span m='537190'>paste</span>
  <span m='537550'>in</span> <span m='537740'>those</span> <span m='537920'>signatures</span>
  <span m='538520'>after</span> <span m='539030'>you've</span> <span m='539150'>signed.</span>
  <span m='544490'>You</span> <span m='544580'>don't</span> <span m='544760'>empty</span>
  <span m='545000'>out</span> <span m='545450'>every</span> <span m='545690'>line,</span>
  <span m='545990'>the</span> <span m='546140'>line</span> <span m='546410'>that</span>
  <span m='546530'>you're</span> <span m='546680'>specifically</span> <span m='547400'>putting</span>
  <span m='547700'>the</span> <span m='547790'>signature</span> <span m='548210'>in,</span>
  <span m='548480'>you</span> <span m='548660'>actually</span> <span m='549260'>put</span>
  <span m='549710'>a</span> <span m='549860'>different</span> <span m='550370'>few</span>
  <span m='550550'>bytes</span> <span m='550820'>in</span> <span m='550940'>there,</span>
  <span m='552590'>which</span> <span m='553040'>leads</span> <span m='553310'>to</span>
  <span m='553370'>other</span> <span m='553550'>problems</span> <span m='553970'>that</span>
  <span m='554090'>I</span> <span m='554150'>can</span> <span m='554270'>maybe</span>
  <span m='554480'>mention</span> <span m='554720'>if</span> <span m='554810'>I've</span>
  <span m='554900'>done.</span> </p><p><span m='556700'>So</span> <span m='556930'>this</span>
  <span m='557180'>seems</span> <span m='557510'>OK.</span> <span m='558110'>It's</span>
  <span m='558200'>like</span> <span m='558350'>well,</span> <span m='558470'>look,</span>
  <span m='559430'>I</span> <span m='559490'>can't</span> <span m='559730'>sign</span>
  <span m='559910'>the</span> <span m='560000'>signatures,</span> <span m='560270'>sure,</span>
  <span m='561260'>but</span> <span m='561560'>if</span> <span m='561680'>you</span>
  <span m='561770'>change</span> <span m='562190'>any</span> <span m='562430'>bit</span>
  <span m='562910'>of</span> <span m='563030'>the</span> <span m='563120'>stuff</span>
  <span m='563450'>I'm</span> <span m='563600'>signing,</span> <span m='564500'>the</span>
  <span m='564590'>signatures</span> <span m='565040'>now</span> <span m='565220'>break.</span>
  <span m='566070'>So</span> <span m='566150'>this</span> <span m='566300'>seems</span>
  <span m='566810'>perfectly</span> <span m='567500'>safe.</span> <span m='568670'>No</span>
  <span m='568820'>one</span> <span m='568940'>can</span> <span m='569090'>change</span>
  <span m='569450'>the</span> <span m='569570'>amounts</span> <span m='570080'>I'm</span>
  <span m='570230'>sending.</span> <span m='570650'>No</span> <span m='570770'>one</span>
  <span m='570890'>can</span> <span m='571010'>change</span> <span m='571550'>where</span>
  <span m='571790'>I'm</span> <span m='571880'>sending</span> <span m='572210'>it</span>
  <span m='572270'>to.</span> <span m='573400'>No</span> <span m='573530'>one</span>
  <span m='573650'>can</span> <span m='573770'>change</span> <span m='573980'>where</span>
  <span m='574100'>I'm</span> <span m='574220'>sending</span> <span m='574520'>from.</span>
  <span m='575780'>All</span> <span m='575990'>these</span> <span m='576140'>things</span>
  <span m='576350'>get</span> <span m='576500'>covered</span> <span m='576740'>in</span>
  <span m='576800'>my</span> <span m='576920'>signature,</span> <span m='577310'>so</span>
  <span m='577490'>I'm</span> <span m='577610'>good.</span> </p><p><span m='579330'>Problem.</span>
  <span m='580560'>The</span> <span m='580650'>transaction</span> <span m='580965'>ID,</span>
  <span m='581700'>the</span> <span m='581820'>way</span> <span m='581970'>you</span>
  <span m='582060'>refer</span> <span m='582450'>to</span> <span m='582570'>transactions</span>
  <span m='583800'>is</span> <span m='583980'>the</span> <span m='584070'>hash</span>
  <span m='584520'>of</span> <span m='584730'>the</span> <span m='584880'>whole</span>
  <span m='585240'>thing.</span> <span m='586020'>The</span> <span m='586200'>txid</span>
  <span m='586740'>does</span> <span m='586920'>not</span> <span m='587130'>zero</span>
  <span m='587400'>out</span> <span m='587820'>the</span> <span m='587940'>signature</span>
  <span m='588330'>fields.</span> <span m='590070'>So</span> <span m='590700'>the</span>
  <span m='590880'>identity</span> <span m='591900'>of</span> <span m='592020'>the</span>
  <span m='592110'>transaction</span> <span m='592710'>itself,</span> <span m='593040'>the</span>
  <span m='593130'>way</span> <span m='593310'>to</span> <span m='593430'>point</span>
  <span m='593760'>to</span> <span m='594060'>and</span> <span m='594510'>indicate</span>
  <span m='595020'>where</span> <span m='595230'>you're</span> <span m='595380'>spending</span>
  <span m='595710'>from,</span> <span m='597180'>that</span> <span m='597510'>includes</span>
  <span m='598080'>the</span> <span m='598200'>signatures.</span> <span m='600150'>So</span>
  <span m='600870'>that</span> <span m='601080'>also</span> <span m='601320'>seems</span>
  <span m='601590'>like,</span> <span m='601720'>well,</span> <span m='601860'>that's</span>
  <span m='602070'>OK.</span> <span m='602850'>When</span> <span m='603030'>I</span>
  <span m='603150'>point</span> <span m='603510'>to</span> <span m='603600'>something</span>
  <span m='604030'>I'm</span> <span m='604350'>indicating</span> <span m='605280'>the</span>
  <span m='605370'>whole</span> <span m='605550'>transaction,</span> <span m='606420'>the</span>
  <span m='606510'>whole</span> <span m='606690'>signed</span> <span m='607140'>transaction.</span>
  <span m='609620'>But</span> <span m='609780'>the</span> <span m='609840'>problem</span>
  <span m='610050'>is</span> <span m='611690'>that</span> <span m='611840'>can</span>
  <span m='611960'>change.</span> <span m='612770'>The</span> <span m='612860'>signature</span>
  <span m='613460'>itself</span> <span m='614330'>may</span> <span m='614510'>be</span>
  <span m='614630'>malleable,</span> <span m='615590'>and</span> <span m='615740'>in</span>
  <span m='615830'>bitcoin</span> <span m='616400'>it</span> <span m='616520'>is.</span>
  </p><p><span m='617700'>There's</span> <span m='617960'>third</span> <span m='618260'>party</span>
  <span m='618560'>malleability</span> <span m='619100'>problems.</span> <span m='620070'>So</span>
  <span m='620330'>the</span> <span m='620450'>simplest</span> <span m='620900'>one</span>
  <span m='621170'>was</span> <span m='621410'>leading</span> <span m='621680'>zeros</span>
  <span m='622480'>where</span> <span m='622700'>all</span> <span m='622820'>these</span>
  <span m='622940'>things</span> <span m='623120'>are</span> <span m='623180'>numbers.</span>
  <span m='624830'>You</span> <span m='624950'>could</span> <span m='625100'>say,</span>
  <span m='625280'>OK,</span> <span m='625670'>someone's</span> <span m='625970'>got</span>
  <span m='626120'>a</span> <span m='626180'>signature.</span> <span m='626900'>It's</span>
  <span m='627380'>this</span> <span m='627650'>big,</span> <span m='628080'>long</span>
  <span m='628400'>string</span> <span m='628670'>of</span> <span m='628790'>bytes.</span>
  <span m='630180'>I'm</span> <span m='630200'>just</span> <span m='630350'>going</span>
  <span m='630420'>to</span> <span m='630500'>put</span> <span m='630620'>zeros</span>
  <span m='630980'>in</span> <span m='631070'>the</span> <span m='631130'>front.</span>
  <span m='632180'>I'm going</span> <span m='632600'>to</span> <span m='632780'>put</span>
  <span m='632930'>a</span> <span m='632960'>zero</span> <span m='633260'>byte</span>
  <span m='633770'>in</span> <span m='633890'>the</span> <span m='633950'>front</span>
  <span m='634160'>of</span> <span m='634250'>it,</span> <span m='634750'>and</span>
  <span m='634880'>that</span> <span m='635000'>doesn't</span> <span m='635240'>change</span>
  <span m='635480'>the</span> <span m='635600'>meaning.</span> <span m='636290'>If</span>
  <span m='636410'>someone</span> <span m='636740'>says,</span> <span m='638030'>I'm</span>
  <span m='638600'>sending</span> <span m='639040'>you</span> <span m='639530'>$1,000</span>
  <span m='640310'>and</span> <span m='640400'>I</span> <span m='640460'>put</span>
  <span m='640610'>a 0</span> <span m='641060'>front</span> <span m='641210'>of</span>
  <span m='641270'>the</span> <span m='641590'>one</span> <span m='641850'>and</span>
  <span m='641940'>1,000.</span> <span m='642255'>Well, it's</span> <span m='642570'>still</span>
  <span m='642800'>1,000.</span> <span m='643700'>However,</span> <span m='644630'>for</span>
  <span m='644970'>the</span> <span m='645320'>purpose</span> <span m='645620'>of</span>
  <span m='645710'>a</span> <span m='645740'>hash</span> <span m='646010'>function,</span>
  <span m='647190'>if</span> <span m='647210'>you</span> <span m='647300'>have</span>
  <span m='647390'>a</span> <span m='647450'>zero</span> <span m='647750'>byte</span>
  <span m='647930'>in</span> <span m='648020'>front,</span> <span m='648590'>that</span>
  <span m='648860'>changes</span> <span m='649340'>the</span> <span m='649430'>whole</span>
  <span m='649640'>hash.</span> </p><p><span m='651380'>And</span> <span m='651470'>so</span>
  <span m='652520'>they</span> <span m='652640'>got</span> <span m='652790'>rid</span>
  <span m='652940'>of</span> <span m='653000'>this</span> <span m='653210'>pretty</span>
  <span m='653480'>early.</span> <span m='654140'>They</span> <span m='654290'>sort</span>
  <span m='654470'>of</span> <span m='655780'>made</span> <span m='655970'>it</span>
  <span m='656060'>so</span> <span m='656180'>that</span> <span m='656270'>you</span>
  <span m='656390'>had</span> <span m='656630'>to</span> <span m='656690'>have</span>
  <span m='656930'>the</span> <span m='657020'>exact</span> <span m='657350'>right</span>
  <span m='657830'>number.</span> <span m='658220'>You</span> <span m='658280'>can't</span>
  <span m='658460'>have</span> <span m='658580'>any</span> <span m='658730'>leading</span>
  <span m='658940'>zeros.</span> <span m='659660'>But</span> <span m='660380'>the</span>
  <span m='660470'>first</span> <span m='660680'>one</span> <span m='660810'>was</span>
  <span m='660890'>just,</span> <span m='661020'>oh,</span> <span m='661160'>I</span>
  <span m='661450'>put</span> <span m='661640'>a</span> <span m='661700'>0</span>
  <span m='661820'>in</span> <span m='661880'>the</span> <span m='661940'>front.</span>
  <span m='663060'>The</span> <span m='663500'>harder</span> <span m='663830'>one</span>
  <span m='664040'>is</span> <span m='664160'>called</span> <span m='664370'>low</span>
  <span m='664700'>s,</span> <span m='665150'>where</span> <span m='666020'>part</span>
  <span m='666260'>of</span> <span m='666380'>the</span> <span m='666470'>ecdsa</span>
  <span m='667610'>signature</span> <span m='667970'>scheme.</span> <span m='670080'>I</span>
  <span m='670180'>showed</span> <span m='670420'>before</span> <span m='670720'>that</span>
  <span m='671080'>it's</span> <span m='671260'>this</span> <span m='671470'>curve</span>
  <span m='671800'>that's</span> <span m='671930'>symmetric</span> <span m='672310'>about</span>
  <span m='672490'>the</span> <span m='673690'>x-axis.</span> <span m='675070'>Whether</span>
  <span m='675460'>the</span> <span m='675920'>thing</span> <span m='676120'>you're</span>
  <span m='676240'>indicating</span> <span m='676690'>is</span> <span m='676810'>on</span>
  <span m='676930'>top</span> <span m='677200'>of</span> <span m='677290'>the</span>
  <span m='677350'>curve</span> <span m='677890'>or</span> <span m='678370'>it's</span>
  <span m='678550'>sort</span> <span m='678850'>of</span> <span m='678970'>reflection</span>
  <span m='679840'>on</span> <span m='679960'>the</span> <span m='680050'>bottom,</span>
  <span m='680800'>it's</span> <span m='680950'>valid</span> <span m='681220'>either</span>
  <span m='681400'>way.</span> <span m='682660'>So</span> <span m='682870'>for</span>
  <span m='683050'>any</span> <span m='683230'>given</span> <span m='683470'>signature,</span>
  <span m='683860'>there's</span> <span m='684220'>another</span> <span m='684730'>signature</span>
  <span m='685270'>that</span> <span m='685420'>will</span> <span m='685600'>be</span>
  <span m='685750'>valid.</span> <span m='686080'>You</span> <span m='686170'>just</span>
  <span m='686290'>sort</span> <span m='686440'>of</span> <span m='686740'>flip</span>
  <span m='686980'>it,</span> <span m='687250'>make</span> <span m='687430'>it</span>
  <span m='687520'>negative</span> <span m='687850'>or</span> <span m='687940'>positive.</span>
  </p><p><span m='689730'>So</span> <span m='689890'>now</span> <span m='690190'>there's</span>
  <span m='690400'>a</span> <span m='690460'>standard,</span> <span m='690910'>OK,</span>
  <span m='691180'>you</span> <span m='691270'>need</span> <span m='691450'>to</span>
  <span m='691540'>have</span> <span m='691750'>high</span> <span m='691990'>s.</span>
  <span m='692440'>Low</span> <span m='692860'>s</span> <span m='693030'>signatures</span>
  <span m='693610'>should</span> <span m='693790'>be</span> <span m='693940'>invalid.</span>
  <span m='694960'>Both</span> <span m='695320'>of</span> <span m='695440'>these</span>
  <span m='697090'>are</span> <span m='697190'>really</span> <span m='697850'>tricky</span>
  <span m='698150'>because</span> <span m='698390'>they're</span> <span m='698540'>third</span>
  <span m='698870'>party</span> <span m='699140'>malleability.</span> <span m='700010'>Anyone</span>
  <span m='700430'>can</span> <span m='700550'>just</span> <span m='700700'>listen</span>
  <span m='700970'>on</span> <span m='701060'>the</span> <span m='701120'>network,</span>
  <span m='701700'>see</span> <span m='701860'>a</span> <span m='701900'>transaction,</span>
  <span m='703130'>change</span> <span m='703610'>the</span> <span m='703700'>signature.</span>
  <span m='704540'>And</span> <span m='704690'>in</span> <span m='704780'>doing</span>
  <span m='705050'>so</span> <span m='705230'>they</span> <span m='705350'>will</span>
  <span m='705470'>change</span> <span m='705890'>the</span> <span m='706010'>txid,</span>
  <span m='706820'>which</span> <span m='707000'>is</span> <span m='707090'>how</span>
  <span m='707240'>all</span> <span m='707480'>the</span> <span m='707540'>software</span>
  <span m='707930'>refers</span> <span m='708320'>to</span> <span m='708380'>transactions.</span>
  <span m='709250'>So</span> <span m='709400'>it</span> <span m='709490'>looks</span>
  <span m='709760'>like</span> <span m='709940'>a</span> <span m='710000'>new</span>
  <span m='710120'>transaction</span> <span m='712470'>to</span> <span m='712610'>most</span>
  <span m='712820'>of</span> <span m='712880'>the</span> <span m='712940'>software.</span>
  <span m='713970'>And</span> <span m='714080'>the</span> <span m='714140'>transactions</span>
  <span m='714650'>are</span> <span m='714740'>still</span> <span m='714920'>valid.</span>
  <span m='715410'>The</span> <span m='715510'>signatures</span> <span m='715820'>are</span>
  <span m='715910'>still</span> <span m='716060'>valid</span> <span m='716930'>and</span>
  <span m='717080'>you're</span> <span m='717170'>not</span> <span m='717350'>sure</span>
  <span m='717530'>which</span> <span m='717740'>one</span> <span m='717890'>will</span>
  <span m='718010'>get</span> <span m='718190'>in.</span> </p><p><span m='719510'>There's</span>
  <span m='719690'>also</span> <span m='719990'>first</span> <span m='720470'>party</span>
  <span m='720740'>malleability,</span> <span m='721670'>or</span> <span m='721850'>in</span>
  <span m='721970'>some</span> <span m='722150'>cases</span> <span m='722390'>second</span>
  <span m='722690'>party</span> <span m='722900'>if</span> <span m='722970'>you're</span>
  <span m='723260'>doing</span> <span m='723590'>transactions</span> <span m='724130'>with</span>
  <span m='724250'>multiple</span> <span m='724850'>people</span> <span m='725150'>signing.</span>
  <span m='726890'>So</span> <span m='727970'>I'm</span> <span m='728110'>not</span>
  <span m='728240'>going</span> <span m='728360'>to</span> <span m='728420'>go</span>
  <span m='728570'>back</span> <span m='728930'>into</span> <span m='729200'>the</span>
  <span m='729640'>elliptic</span> <span m='729950'>curve</span> <span m='730160'>signature</span>
  <span m='730540'>algorithms,</span> <span m='730970'>but</span> <span m='731120'>there</span>
  <span m='731300'>is</span> <span m='731450'>a</span> <span m='731600'>nonce.</span>
  <span m='732260'>There's</span> <span m='732470'>randomness</span> <span m='733100'>that</span>
  <span m='733220'>you</span> <span m='733370'>inject</span> <span m='733850'>into</span>
  <span m='734120'>the</span> <span m='734210'>signing</span> <span m='734540'>process.</span>
  <span m='737000'>It's</span> <span m='737180'>not</span> <span m='737330'>deterministic.</span>
  <span m='738080'>It's</span> <span m='738230'>not</span> <span m='738410'>that</span>
  <span m='738950'>given</span> <span m='739220'>a</span> <span m='739250'>message</span>
  <span m='739700'>and</span> <span m='739820'>my</span> <span m='740210'>private</span>
  <span m='740600'>key.</span> <span m='741320'>I</span> <span m='741440'>always</span>
  <span m='741860'>compute</span> <span m='742130'>the</span> <span m='742220'>same</span>
  <span m='742520'>signature.</span> <span m='743000'>No, that's not</span> <span
  m='743310'>how it</span> <span m='743480'>works.</span> </p><p><span m='744750'>There</span>
  <span m='744800'>are</span> <span m='744980'>signature</span> <span m='745340'>schemes</span>
  <span m='745610'>like</span> <span m='745760'>that,</span> <span m='746040'>but</span>
  <span m='746090'>in</span> <span m='746390'>the</span> <span m='746450'>case</span>
  <span m='746720'>of</span> <span m='747520'>the</span> <span m='747650'>elliptic</span>
  <span m='747950'>curve</span> <span m='748130'>stuff</span> <span m='748340'>that</span>
  <span m='748460'>bitcoin</span> <span m='748760'>uses,</span> <span m='749510'>you</span>
  <span m='749630'>have</span> <span m='749750'>to</span> <span m='749840'>make</span>
  <span m='750020'>up</span> <span m='750140'>a</span> <span m='750200'>random</span>
  <span m='750560'>number</span> <span m='751460'>to</span> <span m='751580'>make</span>
  <span m='751790'>each</span> <span m='751940'>signature,</span> <span m='753310'>and</span>
  <span m='753410'>no</span> <span m='753560'>one</span> <span m='753680'>knows</span>
  <span m='753860'>what</span> <span m='753950'>that</span> <span m='754070'>random</span>
  <span m='754310'>number</span> <span m='754550'>is.</span> <span m='755360'>So</span>
  <span m='756560'>you</span> <span m='756770'>could</span> <span m='756890'>make</span>
  <span m='757070'>up</span> <span m='757190'>different</span> <span m='757520'>random</span>
  <span m='757790'>numbers.</span> <span m='758240'>You</span> <span m='758330'>can</span>
  <span m='758450'>make</span> <span m='758630'>as</span> <span m='758720'>many</span>
  <span m='759050'>signatures</span> <span m='759530'>as</span> <span m='759650'>you</span>
  <span m='759710'>want.</span> <span m='760110'>So</span> <span m='761150'>given</span>
  <span m='761360'>a</span> <span m='761420'>message</span> <span m='762860'>and</span>
  <span m='763010'>your</span> <span m='763400'>private</span> <span m='763730'>key,</span>
  <span m='764600'>you</span> <span m='764720'>can</span> <span m='764840'>make</span>
  <span m='765980'>arbitrary</span> <span m='766430'>number</span> <span m='766670'>of</span>
  <span m='766760'>signatures</span> <span m='767210'>that</span> <span m='767360'>are</span>
  <span m='767450'>all</span> <span m='767600'>different</span> <span m='767990'>signatures,</span>
  <span m='768500'>but</span> <span m='768620'>they're</span> <span m='768740'>all</span>
  <span m='768890'>valid</span> <span m='769340'>signatures.</span> </p><p><span m='772040'>There</span>
  <span m='772370'>is</span> <span m='772910'>a</span> <span m='773630'>sort</span>
  <span m='773930'>of</span> <span m='774020'>standard</span> <span m='774860'>for</span>
  <span m='775100'>how</span> <span m='775370'>to</span> <span m='775580'>make</span>
  <span m='775880'>them</span> <span m='776180'>the</span> <span m='776300'>right</span>
  <span m='776570'>way</span> <span m='777020'>not</span> <span m='777320'>randomly.</span>
  <span m='778340'>It's</span> <span m='778520'>basically</span> <span m='779900'>take</span>
  <span m='780140'>the</span> <span m='780260'>hash</span> <span m='780650'>of</span>
  <span m='780800'>your</span> <span m='780920'>private</span> <span m='781310'>key</span>
  <span m='781580'>and</span> <span m='781700'>the</span> <span m='781790'>message</span>
  <span m='782150'>being</span> <span m='782390'>signed.</span> <span m='784280'>Put</span>
  <span m='784430'>them</span> <span m='784520'>together,</span> <span m='784820'>hash</span>
  <span m='785210'>that,</span> <span m='785780'>and</span> <span m='785900'>use</span>
  <span m='786200'>that</span> <span m='787040'>as</span> <span m='787190'>your</span>
  <span m='787280'>random</span> <span m='787580'>number</span> <span m='788220'>because</span>
  <span m='788440'>then</span> <span m='788540'>the</span> <span m='788630'>idea</span>
  <span m='788780'>is</span> <span m='788870'>well,</span> <span m='790155'>it's</span>
  <span m='790520'>got</span> <span m='790850'>secret</span> <span m='791240'>information</span>
  <span m='791750'>in</span> <span m='791870'>it</span> <span m='792260'>as</span>
  <span m='792440'>well</span> <span m='792800'>as</span> <span m='792980'>the</span>
  <span m='793070'>message</span> <span m='793400'>specific</span> <span m='793940'>information</span>
  <span m='794210'>in</span> <span m='794480'>it.</span> <span m='795110'>So</span>
  <span m='795230'>no</span> <span m='795350'>one's</span> <span m='795470'>going</span>
  <span m='795540'>to</span> <span m='795630'>be</span> <span m='795710'>able</span>
  <span m='795830'>to</span> <span m='795890'>guess</span> <span m='796070'>what</span>
  <span m='796190'>it</span> <span m='796280'>is</span> <span m='796670'>so,</span>
  <span m='797000'>and</span> <span m='797180'>it's</span> <span m='797330'>still</span>
  <span m='797720'>kind</span> <span m='797960'>of</span> <span m='798170'>message</span>
  <span m='798560'>dependent</span> <span m='798940'>so</span> <span m='799070'>it'll</span>
  <span m='799190'>change</span> <span m='799430'>each</span> <span m='799490'>time.</span>
  </p><p><span m='801410'>So</span> <span m='801830'>there</span> <span m='802070'>is</span>
  <span m='802250'>that,</span> <span m='802430'>but</span> <span m='802940'>that's</span>
  <span m='803270'>something</span> <span m='803570'>you</span> <span m='803750'>can</span>
  <span m='803930'>do.</span> <span m='804870'>It's</span> <span m='804980'>a</span>
  <span m='805190'>really</span> <span m='805400'>good</span> <span m='805490'>idea</span>
  <span m='806480'>because</span> <span m='807155'>if</span> <span m='807560'>you</span>
  <span m='807680'>use</span> <span m='808070'>a</span> <span m='808400'>non-random</span>
  <span m='809180'>k,</span> <span m='809510'>if</span> <span m='809660'>someone</span>
  <span m='809900'>can</span> <span m='810050'>guess</span> <span m='810290'>k</span>
  <span m='810650'>or</span> <span m='810710'>if</span> <span m='810800'>your</span>
  <span m='810920'>random</span> <span m='811220'>number</span> <span m='811430'>generator's</span>
  <span m='811820'>broken,</span> <span m='812870'>they</span> <span m='812990'>can</span>
  <span m='813320'>steal</span> <span m='813590'>all</span> <span m='813710'>your</span>
  <span m='813800'>money.</span> <span m='814070'>They</span> <span m='814160'>can</span>
  <span m='815060'>figure</span> <span m='815510'>out</span> <span m='815570'>your</span>
  <span m='815660'>private</span> <span m='815930'>key.</span> <span m='818550'>So</span>
  <span m='818740'>you</span> <span m='818860'>don't</span> <span m='819040'>want</span>
  <span m='819280'>to</span> <span m='819340'>be</span> <span m='819430'>dependent</span>
  <span m='820090'>on</span> <span m='820330'>generating</span> <span m='820780'>randomness.</span>
  <span m='821530'>A</span> <span m='821620'>nice</span> <span m='821920'>way</span>
  <span m='822130'>to</span> <span m='822250'>model</span> <span m='822550'>it</span>
  <span m='822610'>is,</span> <span m='823200'>OK,</span> <span m='823390'>have</span>
  <span m='823570'>some</span> <span m='823990'>initial</span> <span m='824440'>event</span>
  <span m='824770'>where</span> <span m='825270'>you're</span> <span m='825580'>putting</span>
  <span m='825820'>in</span> <span m='825910'>random</span> <span m='826150'>numbers</span>
  <span m='826660'>and</span> <span m='826780'>you're</span> <span m='826870'>storing</span>
  <span m='827200'>them</span> <span m='827800'>and</span> <span m='827950'>then</span>
  <span m='828070'>from</span> <span m='828310'>then</span> <span m='828520'>on</span>
  <span m='828670'>you</span> <span m='828790'>want</span> <span m='828970'>everything</span>
  <span m='829300'>to</span> <span m='829390'>be</span> <span m='829510'>deterministic,</span>
  <span m='831040'>then</span> <span m='831190'>you</span> <span m='831250'>don't</span>
  <span m='831370'>have</span> <span m='831460'>to</span> <span m='831790'>rely</span>
  <span m='832180'>on</span> <span m='832270'>random</span> <span m='832510'>number</span>
  <span m='832690'>generators.</span> </p><p><span m='833890'>So</span> <span m='833980'>it's</span>
  <span m='834180'>really</span> <span m='834400'>a</span> <span m='834460'>good</span>
  <span m='834550'>idea</span> <span m='834850'>to</span> <span m='835030'>use</span>
  <span m='835330'>this.</span> <span m='835810'>And</span> <span m='836230'>I</span>
  <span m='836320'>use</span> <span m='836440'>it in my</span> <span m='836530'>software.</span>
  <span m='837355'>Most</span> <span m='837640'>things</span> <span m='837850'>use</span>
  <span m='838030'>this</span> <span m='838180'>kind</span> <span m='838360'>of</span>
  <span m='838750'>standard.</span> <span m='839690'>However,</span> <span m='840220'>you</span>
  <span m='840340'>can't</span> <span m='840580'>verify</span> <span m='841060'>that</span>
  <span m='841210'>anyone's</span> <span m='841540'>actually</span> <span m='841840'>using</span>
  <span m='842110'>it.</span> <span m='842410'>It's</span> <span m='842710'>purely</span>
  <span m='843070'>internal.</span> <span m='843610'>It's</span> <span m='843790'>a</span>
  <span m='844030'>internal</span> <span m='844660'>way</span> <span m='844780'>for</span>
  <span m='844930'>you</span> <span m='845110'>to</span> <span m='845200'>make</span>
  <span m='845380'>your</span> <span m='845500'>own</span> <span m='845620'>signatures,</span>
  <span m='846430'>but</span> <span m='846610'>no</span> <span m='846730'>one</span>
  <span m='846850'>can</span> <span m='846970'>actually--</span> <span m='848890'>can</span>
  <span m='849160'>you</span> <span m='849250'>prove?</span> <span m='849530'>No.</span>
  <span m='850660'>I'm</span> <span m='850750'>not</span> <span m='850840'>going</span>
  <span m='850960'>to</span> <span m='851020'>say</span> <span m='851110'>you</span>
  <span m='851230'>can't</span> <span m='851500'>prove</span> <span m='851740'>you're</span>
  <span m='851860'>using</span> <span m='852160'>it,</span> <span m='852250'>but</span>
  <span m='853730'>not</span> <span m='854110'>in</span> <span m='854230'>any</span>
  <span m='854560'>reasonable</span> <span m='855160'>fashion.</span> <span m='856930'>Yeah.</span>
  <span m='857090'>So</span> <span m='857170'>no</span> <span m='857260'>one</span>
  <span m='857350'>knows</span> <span m='857530'>if</span> <span m='857590'>you're</span>
  <span m='857680'>doing</span> <span m='857950'>it.</span> </p><p><span m='859110'>So</span>
  <span m='859300'>this</span> <span m='859510'>is</span> <span m='859690'>an</span>
  <span m='859780'>attack</span> <span m='860110'>where</span> <span m='860350'>you</span>
  <span m='860500'>can</span> <span m='860650'>say,</span> <span m='860830'>OK,</span>
  <span m='861790'>I'm</span> <span m='861930'>going</span> <span m='862020'>to</span>
  <span m='862090'>make</span> <span m='862210'>a</span> <span m='862300'>whole</span>
  <span m='862420'>bunch</span> <span m='862630'>of</span> <span m='862690'>different</span>
  <span m='862930'>signatures.</span> <span m='863590'>They're</span> <span m='863710'>all</span>
  <span m='863770'>going</span> <span m='863890'>to</span> <span m='863950'>be</span>
  <span m='864040'>valid,</span> <span m='864700'>but</span> <span m='864880'>that</span>
  <span m='865090'>will</span> <span m='865240'>mean</span> <span m='865660'>I've</span>
  <span m='865780'>got</span> <span m='865960'>a</span> <span m='865990'>whole</span>
  <span m='866170'>bunch</span> <span m='866410'>of</span> <span m='866560'>different</span>
  <span m='866980'>transactions</span> <span m='868540'>that</span> <span m='868660'>are</span>
  <span m='868720'>doing</span> <span m='869050'>the</span> <span m='869140'>same</span>
  <span m='869320'>thing.</span> <span m='871900'>So</span> <span m='872070'>maybe</span>
  <span m='872310'>the</span> <span m='872400'>question</span> <span m='872640'>is,</span>
  <span m='873480'>what</span> <span m='873720'>does</span> <span m='873840'>this</span>
  <span m='873990'>really</span> <span m='874230'>do?</span> <span m='874440'>Does</span>
  <span m='874620'>this</span> <span m='874770'>really</span> <span m='875310'>hurt?</span>
  <span m='875640'>If</span> <span m='875790'>someone</span> <span m='877110'>dots</span>
  <span m='877440'>an</span> <span m='877530'>eye</span> <span m='877830'>on</span>
  <span m='877950'>your</span> <span m='878070'>check,</span> <span m='878610'>it's</span>
  <span m='878730'>the</span> <span m='878790'>same</span> <span m='879030'>amount.</span>
  <span m='879460'>It's</span> <span m='879510'>going</span> <span m='879690'>to</span>
  <span m='879750'>the</span> <span m='879840'>same</span> <span m='880020'>place.</span>
  <span m='882150'>Who</span> <span m='882240'>cares.</span> <span m='884290'>Outputs</span>
  <span m='884600'>are</span> <span m='884790'>the</span> <span m='884850'>same.</span>
  <span m='886160'>Inputs</span> <span m='886590'>it's</span> <span m='886650'>pointing</span>
  <span m='886920'>to</span> <span m='887040'>are</span> <span m='887100'>the</span>
  <span m='887190'>same.</span> <span m='888090'>It's</span> <span m='888240'>just</span>
  <span m='888450'>this</span> <span m='889200'>sort</span> <span m='889410'>of</span>
  <span m='889500'>annoying</span> <span m='889860'>thing.</span> <span m='890120'>OK,</span>
  <span m='890310'>I</span> <span m='890470'>tweaked it</span> <span m='890830'>and</span>
  <span m='891110'>I</span> <span m='891210'>changed</span> <span m='891450'>the</span>
  <span m='891650'>txid.</span> <span m='892320'>No</span> <span m='892410'>big</span>
  <span m='892530'>deal.</span> </p><p><span m='893620'>Well,</span> <span m='896110'>in</span>
  <span m='896500'>some</span> <span m='896800'>ways,</span> <span m='897100'>yeah,</span>
  <span m='897310'>it's</span> <span m='897430'>no</span> <span m='897550'>big</span>
  <span m='897700'>deal,</span> <span m='898100'>but</span> <span m='898300'>a</span>
  <span m='898390'>lot</span> <span m='898600'>of</span> <span m='898720'>wallets</span>
  <span m='899290'>didn't</span> <span m='899620'>deal</span> <span m='899890'>with</span>
  <span m='900070'>this</span> <span m='900250'>well.</span> <span m='901060'>So</span>
  <span m='901630'>let's</span> <span m='901780'>say</span> <span m='901900'>you're</span>
  <span m='902050'>running</span> <span m='902320'>a</span> <span m='902350'>wallet,</span>
  <span m='903220'>you</span> <span m='903340'>make</span> <span m='903550'>a</span>
  <span m='903610'>transaction</span> <span m='904510'>and</span> <span m='904750'>you</span>
  <span m='904870'>sign</span> <span m='905650'>and</span> <span m='905740'>you</span>
  <span m='905830'>broadcast</span> <span m='906310'>transaction</span> <span m='907060'>2d5cac</span>
  <span m='909850'>and</span> <span m='909970'>it</span> <span m='910030'>never</span>
  <span m='910240'>gets</span> <span m='910390'>confirmed,</span> <span m='911590'>and</span>
  <span m='911710'>instead</span> <span m='912610'>someone</span> <span m='913150'>out</span>
  <span m='913300'>there</span> <span m='914380'>flips</span> <span m='914650'>a</span>
  <span m='914710'>bit,</span> <span m='915430'>changes</span> <span m='915910'>your</span>
  <span m='916240'>transaction</span> <span m='916960'>to</span> <span m='917350'>9cba3e</span>
  <span m='919450'>and</span> <span m='919570'>that</span> <span m='919750'>gets</span>
  <span m='919930'>confirmed,</span> <span m='920860'>and</span> <span m='920950'>your</span>
  <span m='921070'>wallet</span> <span m='921370'>just</span> <span m='921550'>says,</span>
  <span m='921790'>yeah,</span> <span m='922260'>this</span> <span m='922630'>transaction</span>
  <span m='923110'>you</span> <span m='923200'>sent</span> <span m='923380'>never</span>
  <span m='923590'>got</span> <span m='923710'>confirmed.</span> <span m='925825'>There's</span>
  <span m='926210'>wallets that</span> <span m='926530'>did</span> <span m='926680'>that.</span>
  <span m='927250'>Most</span> <span m='927550'>of</span> <span m='927640'>them</span>
  <span m='927760'>have</span> <span m='927850'>fixed</span> <span m='928090'>it</span>
  <span m='928180'>by</span> <span m='928300'>now.</span> </p><p><span m='929070'>But</span>
  <span m='929320'>if</span> <span m='929410'>you're</span> <span m='929530'>thinking</span>
  <span m='929920'>of</span> <span m='930130'>transaction</span> <span m='930760'>IDs</span>
  <span m='931120'>as</span> <span m='931270'>the</span> <span m='931690'>identity</span>
  <span m='932770'>txid,</span> <span m='933775'>this</span> <span m='934120'>is</span>
  <span m='934240'>the</span> <span m='934330'>name</span> <span m='934570'>of</span>
  <span m='934630'>the</span> <span m='934690'>transaction.</span> <span m='936360'>I</span>
  <span m='936460'>create</span> <span m='936880'>it,</span> <span m='937720'>I'm</span>
  <span m='938020'>watching</span> <span m='938500'>it</span> <span m='938980'>to</span>
  <span m='939160'>see</span> <span m='939310'>when</span> <span m='939460'>it</span>
  <span m='939520'>gets</span> <span m='939670'>confirmed,</span> <span m='940420'>and</span>
  <span m='940540'>I'm</span> <span m='940630'>not</span> <span m='940780'>looking</span>
  <span m='941080'>for</span> <span m='941890'>some</span> <span m='942145'>malleated</span>
  <span m='942400'>version.</span> <span m='942850'>I'm</span> <span m='942910'>just</span>
  <span m='943060'>watching</span> <span m='943390'>this</span> <span m='943540'>thing</span>
  <span m='943720'>that</span> <span m='943840'>I</span> <span m='943930'>created,</span>
  <span m='944980'>never</span> <span m='945190'>gets</span> <span m='945370'>in</span>
  <span m='945470'>a</span> <span m='945490'>block.</span> <span m='946720'>Weird,</span>
  <span m='947230'>and</span> <span m='947320'>it's</span> <span m='947400'>just</span>
  <span m='947560'>stuck</span> <span m='948070'>in</span> <span m='948190'>the</span>
  <span m='948250'>wallet.</span> <span m='948670'>So</span> <span m='949300'>there</span>
  <span m='949430'>are</span> <span m='949510'>definitely</span> <span m='949870'>wallets,</span>
  <span m='950320'>and</span> <span m='950690'>I</span> <span m='950890'>think</span>
  <span m='951100'>everyone's</span> <span m='951430'>fixed</span> <span m='951660'>it</span>
  <span m='951730'>by</span> <span m='951850'>now.</span> <span m='952550'>But</span>
  <span m='953070'>a</span> <span m='953200'>couple</span> <span m='953440'>years</span>
  <span m='953590'>ago,</span> <span m='953770'>definitely</span> <span m='954120'>wallets</span>
  <span m='954310'>that</span> <span m='954490'>would</span> <span m='954580'>have</span>
  <span m='954730'>these</span> <span m='954910'>problems.</span> </p><p><span m='957310'>It's</span>
  <span m='957430'>a</span> <span m='957460'>wallet</span> <span m='957700'>problem.</span>
  <span m='958660'>Your</span> <span m='958840'>money</span> <span m='959800'>got</span>
  <span m='960070'>to</span> <span m='960220'>the</span> <span m='960310'>right</span>
  <span m='960550'>place.</span> <span m='961210'>You</span> <span m='961390'>just</span>
  <span m='961600'>need</span> <span m='961810'>to</span> <span m='961900'>sort</span>
  <span m='962140'>of</span> <span m='962680'>either</span> <span m='963520'>delete</span>
  <span m='963850'>stuff</span> <span m='964150'>in</span> <span m='964210'>your</span>
  <span m='964330'>wallet</span> <span m='964630'>or</span> <span m='964720'>upgrade</span>
  <span m='964990'>the</span> <span m='965050'>software</span> <span m='965650'>or</span>
  <span m='966070'>tell</span> <span m='966280'>it</span> <span m='966360'>to</span>
  <span m='966550'>somehow</span> <span m='966910'>forget</span> <span m='967210'>about</span>
  <span m='967420'>this</span> <span m='967540'>transaction</span> <span m='968050'>and</span>
  <span m='968320'>actually</span> <span m='968680'>look</span> <span m='968830'>on</span>
  <span m='968950'>the</span> <span m='969010'>blockchain</span> <span m='969400'>for</span>
  <span m='969550'>everything</span> <span m='970270'>similar</span> <span m='970750'>to</span>
  <span m='970840'>your</span> <span m='970960'>transaction.</span> <span m='972100'>But</span>
  <span m='972340'>it</span> <span m='972580'>did</span> <span m='973030'>do</span>
  <span m='973540'>some</span> <span m='973690'>damage.</span> </p><p><span m='976280'>So,</span>
  <span m='976710'>I</span> <span m='976990'>don't</span> <span m='977160'>know,</span>
  <span m='977950'>2014</span> <span m='978970'>the</span> <span m='979300'>Mt.</span>
  <span m='979540'>Gox</span> <span m='979810'>thing</span> <span m='980290'>where</span>
  <span m='980590'>Mt.</span> <span m='980800'>Gox</span> <span m='981100'>got</span>
  <span m='981940'>hacked</span> <span m='982390'>supposedly</span> <span m='982790'>and</span>
  <span m='982980'>lost</span> <span m='983260'>all</span> <span m='983350'>the</span>
  <span m='983410'>money,</span> <span m='984190'>they</span> <span m='984580'>blamed</span>
  <span m='985000'>transaction</span> <span m='985540'>malleability,</span> <span
  m='986350'>which</span> <span m='986500'>was</span> <span m='986590'>kind</span>
  <span m='986740'>of</span> <span m='986830'>interesting.</span> <span m='988340'>There</span>
  <span m='988450'>may</span> <span m='988810'>have</span> <span m='989050'>been</span>
  <span m='989740'>an</span> <span m='989860'>attack</span> <span m='990730'>on</span>
  <span m='991390'>Mt</span> <span m='991600'>Gox</span> <span m='992140'>that</span>
  <span m='992290'>used</span> <span m='992530'>transaction</span> <span m='993070'>malleability.</span>
  <span m='995380'>The</span> <span m='995530'>attack</span> <span m='995830'>probably</span>
  <span m='996190'>was</span> <span m='996550'>this,</span> <span m='996970'>which</span>
  <span m='997390'>was</span> <span m='1000920'>log</span> <span m='1001270'>into</span>
  <span m='1001390'>Mt.</span> <span m='1001540'>Gox,</span> <span m='1002170'>withdraw</span>
  <span m='1002740'>some</span> <span m='1002950'>coins,</span> <span m='1004300'>modify</span>
  <span m='1004960'>the</span> <span m='1005050'>txid</span> <span m='1005650'>to</span>
  <span m='1005740'>this,</span> <span m='1007900'>and</span> <span m='1008080'>then</span>
  <span m='1008620'>it</span> <span m='1008710'>gets</span> <span m='1008860'>confirmed,</span>
  <span m='1009400'>you</span> <span m='1009490'>get</span> <span m='1009610'>your</span>
  <span m='1009730'>coins,</span> <span m='1010600'>and</span> <span m='1010750'>then</span>
  <span m='1011410'>log</span> <span m='1011830'>into</span> <span m='1012040'>Mt.</span>
  <span m='1012250'>Gox</span> <span m='1012460'>and</span> <span m='1012550'>say,</span>
  <span m='1012640'>hey,</span> <span m='1012790'>this</span> <span m='1012940'>never</span>
  <span m='1013150'>happened.</span> <span m='1013660'>My</span> <span m='1013810'>withdrawal</span>
  <span m='1014200'>didn't</span> <span m='1014380'>work</span> <span m='1015040'>and</span>
  <span m='1015160'>then</span> <span m='1015280'>their</span> <span m='1015400'>system</span>
  <span m='1015730'>would</span> <span m='1015850'>automatically</span> <span m='1016450'>issue</span>
  <span m='1016690'>a</span> <span m='1016750'>new</span> <span m='1016930'>withdrawal</span>
  <span m='1017290'>transaction.</span> </p><p><span m='1018820'>And</span> <span
  m='1018970'>so</span> <span m='1019090'>you</span> <span m='1019210'>could</span>
  <span m='1019360'>just</span> <span m='1019510'>start</span> <span m='1020440'>taking</span>
  <span m='1020800'>all</span> <span m='1020890'>the</span> <span m='1020980'>money</span>
  <span m='1021250'>out</span> <span m='1021520'>and</span> <span m='1022270'>your</span>
  <span m='1022420'>balance</span> <span m='1022900'>on</span> <span m='1023050'>the</span>
  <span m='1023110'>system's</span> <span m='1023430'>like,</span> <span m='1023980'>well,</span>
  <span m='1024069'>we</span> <span m='1024190'>keep</span> <span m='1024369'>trying</span>
  <span m='1024579'>to</span> <span m='1024640'>send</span> <span m='1024819'>you</span>
  <span m='1024910'>money</span> <span m='1025300'>and</span> <span m='1025510'>it</span>
  <span m='1025599'>keeps</span> <span m='1026140'>never</span> <span m='1026410'>getting</span>
  <span m='1026619'>confirmed.</span> <span m='1027200'>And</span> <span m='1027300'>so</span>
  <span m='1027400'>we</span> <span m='1027790'>keep</span> <span m='1027970'>making</span>
  <span m='1028150'>new</span> <span m='1028329'>ones.</span> <span m='1029260'>I</span>
  <span m='1029560'>don't</span> <span m='1029710'>know</span> <span m='1029890'>to</span>
  <span m='1030010'>what</span> <span m='1030160'>extent</span> <span m='1030520'>that</span>
  <span m='1030730'>that</span> <span m='1031000'>actually</span> <span m='1031450'>happened.</span>
  <span m='1034839'>It</span> <span m='1034960'>couldn't</span> <span m='1035230'>have</span>
  <span m='1035319'>been</span> <span m='1035440'>the</span> <span m='1035530'>whole</span>
  <span m='1035680'>thing</span> <span m='1036130'>for</span> <span m='1036260'>Mt.</span>
  <span m='1036430'>Gox</span> <span m='1036700'>definitely.</span> <span m='1037390'>There's</span>
  <span m='1037510'>still</span> <span m='1037720'>a</span> <span m='1037750'>lot</span>
  <span m='1037900'>of</span> <span m='1037990'>uncertainty</span> <span m='1038410'>about</span>
  <span m='1038589'>that.</span> </p><p><span m='1039099'>But</span> <span m='1040720'>it's</span>
  <span m='1040930'>indicative.</span> <span m='1041410'>If</span> <span m='1041530'>you</span>
  <span m='1041619'>write</span> <span m='1041829'>your</span> <span m='1041920'>own</span>
  <span m='1042010'>software</span> <span m='1042490'>and</span> <span m='1042609'>it's</span>
  <span m='1042790'>not</span> <span m='1043060'>accounting</span> <span m='1043480'>for</span>
  <span m='1043599'>these</span> <span m='1043750'>things,</span> <span m='1044230'>you</span>
  <span m='1044380'>may</span> <span m='1044710'>be</span> <span m='1045460'>losing</span>
  <span m='1045760'>money</span> <span m='1046270'>once</span> <span m='1046720'>people</span>
  <span m='1046930'>say,</span> <span m='1047050'>hey,</span> <span m='1047200'>this</span>
  <span m='1047319'>didn't</span> <span m='1047470'>work,</span> <span m='1048250'>make</span>
  <span m='1048430'>a</span> <span m='1048490'>new</span> <span m='1048610'>one,</span>
  <span m='1049030'>and</span> <span m='1049150'>then</span> <span m='1049270'>you</span>
  <span m='1049360'>keep</span> <span m='1049630'>doing</span> <span m='1049870'>that</span>
  <span m='1049990'>and</span> <span m='1050080'>losing</span> <span m='1050320'>a</span>
  <span m='1050380'>ton</span> <span m='1050500'>of</span> <span m='1050560'>money.</span>
  <span m='1051790'>But</span> <span m='1051910'>that's</span> <span m='1052090'>pretty</span>
  <span m='1052450'>sloppy</span> <span m='1053220'>practice.</span> </p><p><span
  m='1056080'>Another</span> <span m='1056440'>issue.</span> <span m='1057130'>If</span>
  <span m='1057280'>you're</span> <span m='1057430'>spending</span> <span m='1058090'>from</span>
  <span m='1059440'>a</span> <span m='1061510'>unconfirmed</span> <span m='1062120'>change</span>
  <span m='1062440'>output</span> <span m='1062890'>or</span> <span m='1063280'>an</span>
  <span m='1063370'>unconfirmed</span> <span m='1063860'>output--</span> <span m='1064090'>so</span>
  <span m='1064690'>you</span> <span m='1064840'>make</span> <span m='1065020'>a</span>
  <span m='1065080'>transaction,</span> <span m='1066070'>you</span> <span m='1066160'>send</span>
  <span m='1066340'>the</span> <span m='1066430'>two</span> <span m='1066550'>different</span>
  <span m='1066790'>outputs,</span> <span m='1067690'>you've</span> <span m='1067810'>got</span>
  <span m='1067950'>a txid.</span> <span m='1068890'>And</span> <span m='1069850'>you're</span>
  <span m='1069970'>sending</span> <span m='1070270'>five</span> <span m='1070510'>coins
  to</span> <span m='1070840'>this</span> <span m='1070990'>person</span> <span m='1071440'>and</span>
  <span m='1071650'>three</span> <span m='1071860'>coins</span> <span m='1072100'>back</span>
  <span m='1072250'>to</span> <span m='1072310'>yourself.</span> <span m='1073650'>That</span>
  <span m='1073870'>three</span> <span m='1074110'>coins</span> <span m='1074380'>back</span>
  <span m='1074560'>to</span> <span m='1074650'>yourself</span> <span m='1075020'>output,</span>
  <span m='1075610'>you</span> <span m='1075700'>might</span> <span m='1075880'>want</span>
  <span m='1076030'>to</span> <span m='1076090'>use</span> <span m='1076330'>it</span>
  <span m='1076390'>again</span> <span m='1077350'>pretty</span> <span m='1077530'>quickly.</span>
  <span m='1078070'>Sometimes</span> <span m='1078460'>this</span> <span m='1078580'>happens.</span>
  </p><p><span m='1080560'>And</span> <span m='1081070'>so</span> <span m='1082000'>you've</span>
  <span m='1082330'>got</span> <span m='1082840'>a</span> <span m='1082900'>change</span>
  <span m='1083290'>output</span> <span m='1084780'>that's</span> <span m='1085390'>from</span>
  <span m='1085570'>transaction</span> <span m='1086000'>1,</span> <span m='1086180'>7feec1.</span>
  <span m='1087610'>So</span> <span m='1087760'>you're</span> <span m='1087940'>going</span>
  <span m='1088060'>to</span> <span m='1088360'>now</span> <span m='1088810'>spend</span>
  <span m='1089230'>that</span> <span m='1089410'>change</span> <span m='1089690'>output,</span>
  <span m='1091330'>however</span> <span m='1092380'>the</span> <span m='1092500'>txid</span>
  <span m='1093160'>of</span> <span m='1093490'>transaction</span> <span m='1093980'>one</span>
  <span m='1094180'>changes.</span> <span m='1094870'>So</span> <span m='1095840'>you're</span>
  <span m='1096220'>saying</span> <span m='1096490'>where</span> <span m='1096730'>you're</span>
  <span m='1096880'>spending</span> <span m='1097300'>from</span> <span m='1097720'>is</span>
  <span m='1097840'>no</span> <span m='1097990'>longer</span> <span m='1098260'>valid.</span>
  <span m='1100000'>And</span> <span m='1100210'>this</span> <span m='1100540'>is</span>
  <span m='1100660'>a</span> <span m='1100720'>big</span> <span m='1100870'>problem</span>
  <span m='1101110'>because</span> <span m='1101290'>now</span> <span m='1101440'>you've</span>
  <span m='1101680'>signed</span> <span m='1101920'>a</span> <span m='1101980'>transaction</span>
  <span m='1103090'>that</span> <span m='1103210'>you</span> <span m='1103330'>think</span>
  <span m='1103690'>is</span> <span m='1103810'>going</span> <span m='1103890'>to</span>
  <span m='1103990'>be</span> <span m='1104050'>valid,</span> <span m='1104380'>but</span>
  <span m='1105090'>the</span> <span m='1105370'>money</span> <span m='1105670'>you</span>
  <span m='1105850'>thought</span> <span m='1106090'>you</span> <span m='1106180'>were</span>
  <span m='1106270'>spending</span> <span m='1106630'>sort</span> <span m='1106810'>of</span>
  <span m='1106900'>moves</span> <span m='1107770'>out</span> <span m='1107890'>from</span>
  <span m='1108070'>under</span> <span m='1108280'>you.</span> <span m='1109270'>And</span>
  <span m='1109420'>so</span> <span m='1109540'>that</span> <span m='1109720'>transaction's</span>
  <span m='1110200'>no</span> <span m='1110260'>longer</span> <span m='1110380'>valid.</span>
  </p><p><span m='1111460'>tx2</span> <span m='1111910'>is</span> <span m='1112010'>now</span>
  <span m='1112150'>invalid.</span> <span m='1112780'>It</span> <span m='1112900'>refers</span>
  <span m='1113260'>to</span> <span m='1113350'>something</span> <span m='1114130'>which</span>
  <span m='1114280'>can</span> <span m='1114400'>never</span> <span m='1114610'>be</span>
  <span m='1114730'>confirmed</span> <span m='1115750'>because</span> <span m='1116080'>there's</span>
  <span m='1116320'>a</span> <span m='1117280'>different</span> <span m='1117730'>transaction</span>
  <span m='1118270'>that's</span> <span m='1118390'>almost</span> <span m='1118690'>the</span>
  <span m='1118750'>same,</span> <span m='1120010'>but</span> <span m='1120190'>they're</span>
  <span m='1120340'>mutually</span> <span m='1120670'>exclusive</span> <span m='1121120'>that</span>
  <span m='1121300'>did</span> <span m='1121600'>get</span> <span m='1121750'>confirmed.</span>
  </p><p><span m='1123130'>OK.</span> <span m='1123340'>So</span> <span m='1123460'>this</span>
  <span m='1123610'>is</span> <span m='1125360'>bad.</span> <span m='1128870'>It</span>
  <span m='1129350'>doesn't</span> <span m='1129620'>seem</span> <span m='1129830'>that</span>
  <span m='1130040'>bad.</span> <span m='1130430'>And</span> <span m='1130520'>so</span>
  <span m='1130670'>for</span> <span m='1130940'>years</span> <span m='1131390'>in</span>
  <span m='1131480'>bitcoin</span> <span m='1132080'>this</span> <span m='1132350'>was</span>
  <span m='1132530'>a</span> <span m='1132620'>problem</span> <span m='1133100'>that</span>
  <span m='1133440'>while</span> <span m='1133650'>it</span> <span m='1133790'>dealt</span>
  <span m='1134030'>with,</span> <span m='1134450'>software</span> <span m='1134930'>and</span>
  <span m='1135050'>people</span> <span m='1135260'>would</span> <span m='1135380'>be
  like,</span> <span m='1136100'>oh</span> <span m='1136430'>yeah,</span> <span m='1136640'>you</span>
  <span m='1136760'>have</span> <span m='1136910'>to</span> <span m='1137480'>backup</span>
  <span m='1137900'>your</span> <span m='1138020'>keys,</span> <span m='1138890'>delete</span>
  <span m='1139220'>your</span> <span m='1139310'>whole</span> <span m='1139460'>database,</span>
  <span m='1140060'>and</span> <span m='1140330'>rethink</span> <span m='1140840'>the</span>
  <span m='1140930'>blockchain</span> <span m='1141530'>and</span> <span m='1141620'>then</span>
  <span m='1141770'>it'll</span> <span m='1141920'>find</span> <span m='1142190'>the</span>
  <span m='1142250'>right</span> <span m='1142460'>transactions.</span> <span m='1144045'>Kind</span>
  <span m='1144320'>of</span> <span m='1144380'>hacky</span> <span m='1144740'>work</span>
  <span m='1145080'>arounds</span> <span m='1145280'>like</span> <span m='1145460'>that</span>
  <span m='1146450'>where</span> <span m='1146930'>it</span> <span m='1146990'>didn't</span>
  <span m='1147200'>happen</span> <span m='1147500'>too</span> <span m='1147620'>much.</span>
  <span m='1149782'>It wasn't a</span> <span m='1150140'>great</span> <span m='1150380'>attack.</span>
  <span m='1151640'>You</span> <span m='1151730'>can</span> <span m='1151820'>annoy</span>
  <span m='1152090'>people.</span> <span m='1152570'>You</span> <span m='1152660'>don't</span>
  <span m='1152780'>get</span> <span m='1152930'>any</span> <span m='1153050'>money.</span>
  <span m='1154490'>So</span> <span m='1154880'>wasn't</span> <span m='1155150'>a</span>
  <span m='1155180'>huge</span> <span m='1155420'>deal,</span> <span m='1156230'>but</span>
  <span m='1156380'>it</span> <span m='1156440'>was</span> <span m='1156530'>annoying.</span>
  </p><p><span m='1158280'>But</span> <span m='1158330'>the</span> <span m='1158420'>idea</span>
  <span m='1158600'>is</span> <span m='1158690'>you</span> <span m='1158750'>can</span>
  <span m='1158840'>always</span> <span m='1159080'>re-sign.</span> <span m='1159680'>You've</span>
  <span m='1159800'>got</span> <span m='1159920'>your</span> <span m='1160010'>private</span>
  <span m='1160280'>keys.</span> <span m='1160810'>If</span> <span m='1161210'>the</span>
  <span m='1161360'>money</span> <span m='1161690'>you</span> <span m='1162740'>are</span>
  <span m='1162830'>receiving</span> <span m='1163910'>sort</span> <span m='1164090'>of</span>
  <span m='1164330'>shifts</span> <span m='1164660'>around</span> <span m='1165080'>and</span>
  <span m='1165170'>changes</span> <span m='1165530'>its</span> <span m='1165650'>location,</span>
  <span m='1166100'>well</span> <span m='1166190'>it's</span> <span m='1166280'>still</span>
  <span m='1166430'>yours.</span> <span m='1167030'>You</span> <span m='1167090'>just</span>
  <span m='1167240'>need</span> <span m='1167360'>to</span> <span m='1167420'>re-sign.</span>
  <span m='1168860'>But</span> <span m='1169010'>what</span> <span m='1169100'>if</span>
  <span m='1169190'>you</span> <span m='1169310'>can't</span> <span m='1169820'>re-sign?</span>
  </p><p><span m='1171320'>So</span> <span m='1173820'>the</span> <span m='1173940'>case</span>
  <span m='1174210'>of</span> <span m='1174330'>multisig</span> <span m='1174990'>where</span>
  <span m='1175590'>in</span> <span m='1175740'>most</span> <span m='1176070'>cases</span>
  <span m='1176580'>when</span> <span m='1176760'>you're</span> <span m='1176910'>doing</span>
  <span m='1177450'>transactions</span> <span m='1178110'>if</span> <span m='1178230'>you</span>
  <span m='1178290'>just</span> <span m='1178470'>have</span> <span m='1178560'>one</span>
  <span m='1178740'>key,</span> <span m='1179190'>it's</span> <span m='1179340'>just</span>
  <span m='1179490'>you,</span> <span m='1180480'>that's</span> <span m='1180630'>fine.</span>
  <span m='1181560'>In</span> <span m='1181650'>the</span> <span m='1181740'>case</span>
  <span m='1181920'>of</span> <span m='1181980'>multisig</span> <span m='1182610'>usually</span>
  <span m='1183150'>you're</span> <span m='1183570'>all</span> <span m='1184050'>friends</span>
  <span m='1184530'>to</span> <span m='1184620'>some</span> <span m='1184860'>extent</span>
  <span m='1185900'>and</span> <span m='1186060'>you're</span> <span m='1186210'>all</span>
  <span m='1186390'>in</span> <span m='1186510'>the</span> <span m='1186630'>same</span>
  <span m='1186870'>organization</span> <span m='1187620'>or</span> <span m='1188340'>multiple</span>
  <span m='1188760'>devices</span> <span m='1189270'>that</span> <span m='1189390'>you</span>
  <span m='1189570'>own.</span> <span m='1191160'>But</span> <span m='1191820'>you</span>
  <span m='1192000'>can</span> <span m='1192180'>have</span> <span m='1192330'>sort</span>
  <span m='1192480'>of</span> <span m='1192720'>adversarial</span> <span m='1193470'>multisig</span>
  <span m='1194490'>where</span> <span m='1194640'>you're</span> <span m='1194870'>assigning</span>
  <span m='1195330'>transactions</span> <span m='1195930'>with</span> <span m='1196050'>people</span>
  <span m='1196320'>who</span> <span m='1196500'>are</span> <span m='1196890'>you're</span>
  <span m='1197190'>sort</span> <span m='1197340'>of</span> <span m='1197430'>cooperating</span>
  <span m='1197880'>with</span> <span m='1198030'>them,</span> <span m='1198390'>but</span>
  <span m='1198480'>you</span> <span m='1198570'>may</span> <span m='1198810'>not</span>
  <span m='1198990'>really</span> <span m='1199200'>trust</span> <span m='1199410'>them,</span>
  <span m='1200610'>or</span> <span m='1200940'>they</span> <span m='1201120'>might</span>
  <span m='1201300'>be</span> <span m='1201990'>potentially</span> <span m='1202470'>attackers,</span>
  <span m='1203220'>things</span> <span m='1203400'>like</span> <span m='1203550'>that.</span>
  </p><p><span m='1203730'>You</span> <span m='1203850'>can</span> <span m='1203970'>definitely</span>
  <span m='1204390'>sort</span> <span m='1204570'>of</span> <span m='1204660'>extend</span>
  <span m='1205020'>your</span> <span m='1205140'>multisig</span> <span m='1205590'>model</span>
  <span m='1205920'>into</span> <span m='1206100'>that.</span> <span m='1207840'>And</span>
  <span m='1207960'>there</span> <span m='1208080'>could</span> <span m='1208230'>be</span>
  <span m='1208320'>multisig</span> <span m='1208830'>pre-signed</span> <span m='1209340'>transactions</span>
  <span m='1209910'>where,</span> <span m='1210090'>OK,</span> <span m='1210600'>we've</span>
  <span m='1210780'>got</span> <span m='1210960'>this</span> <span m='1211200'>two</span>
  <span m='1211440'>of</span> <span m='1211590'>three</span> <span m='1212280'>output</span>
  <span m='1212610'>address,</span> <span m='1214310'>this</span> <span m='1214440'>output</span>
  <span m='1214710'>that</span> <span m='1214830'>exists,</span> <span m='1215820'>and</span>
  <span m='1216060'>one</span> <span m='1216270'>of</span> <span m='1216330'>the</span>
  <span m='1216450'>two</span> <span m='1216600'>or</span> <span m='1216660'>three</span>
  <span m='1217080'>has</span> <span m='1217290'>pre-signed</span> <span m='1217900'>a</span>
  <span m='1217950'>transaction</span> <span m='1218520'>and</span> <span m='1218610'>hands</span>
  <span m='1218880'>it</span> <span m='1218970'>over</span> <span m='1219120'>to</span>
  <span m='1219210'>me</span> <span m='1219540'>and</span> <span m='1219660'>then</span>
  <span m='1219780'>they</span> <span m='1219870'>disappear.</span> <span m='1220650'>And</span>
  <span m='1220980'>they</span> <span m='1221070'>say,</span> <span m='1221220'>oh</span>
  <span m='1221320'>OK,</span> <span m='1221700'>well</span> <span m='1221910'>I'm</span>
  <span m='1222060'>going</span> <span m='1222180'>to</span> <span m='1222420'>now</span>
  <span m='1222810'>sign</span> <span m='1223050'>my</span> <span m='1223230'>side.</span>
  <span m='1224400'>But</span> <span m='1224580'>if</span> <span m='1224730'>malleability</span>
  <span m='1225390'>occurs</span> <span m='1225900'>and</span> <span m='1226050'>the</span>
  <span m='1226560'>transaction</span> <span m='1227220'>ID</span> <span m='1227460'>changes,</span>
  <span m='1228510'>that</span> <span m='1228960'>signature</span> <span m='1230160'>is</span>
  <span m='1230280'>no</span> <span m='1230430'>longer</span> <span m='1230700'>valid,</span>
  <span m='1232770'>signing</span> <span m='1233160'>something</span> <span m='1233430'>that's</span>
  <span m='1233550'>not</span> <span m='1233730'>there</span> <span m='1233880'>anymore.</span>
  </p><p><span m='1234940'>So</span> <span m='1235040'>this</span> <span m='1235110'>is</span>
  <span m='1235260'>very</span> <span m='1235560'>important</span> <span m='1235960'>in</span>
  <span m='1236250'>payment</span> <span m='1236520'>channels</span> <span m='1236910'>lightning</span>
  <span m='1237140'>network</span> <span m='1237430'>stuff</span> <span m='1237690'>that</span>
  <span m='1237840'>I'll</span> <span m='1238350'>get</span> <span m='1238530'>to</span>
  <span m='1239340'>in</span> <span m='1239430'>a</span> <span m='1239460'>few</span>
  <span m='1239610'>days.</span> <span m='1241780'>And</span> <span m='1242250'>so</span>
  <span m='1242640'>it</span> <span m='1242730'>wasn't</span> <span m='1243060'>so</span>
  <span m='1243210'>much</span> <span m='1243450'>that</span> <span m='1243660'>malleability</span>
  <span m='1244530'>was</span> <span m='1245400'>like</span> <span m='1245580'>a</span>
  <span m='1245670'>showstopper</span> <span m='1246330'>bug</span> <span m='1246690'>and</span>
  <span m='1246780'>everyone</span> <span m='1247030'>was</span> <span m='1247170'>losing</span>
  <span m='1247440'>tons</span> <span m='1247650'>of</span> <span m='1247710'>money,</span>
  <span m='1248400'>it</span> <span m='1248490'>was</span> <span m='1248640'>that</span>
  <span m='1248730'>it</span> <span m='1248790'>was</span> <span m='1248910'>preventing</span>
  <span m='1250140'>kind</span> <span m='1250320'>of</span> <span m='1250410'>new,</span>
  <span m='1250680'>cool</span> <span m='1250980'>things</span> <span m='1251280'>from</span>
  <span m='1251430'>happening</span> <span m='1252480'>because</span> <span m='1253680'>there</span>
  <span m='1253890'>were</span> <span m='1254130'>a</span> <span m='1254190'>lot</span>
  <span m='1254400'>of</span> <span m='1254820'>problems</span> <span m='1255120'>with,</span>
  <span m='1255420'>OK,</span> <span m='1256470'>let's</span> <span m='1256770'>make</span>
  <span m='1257010'>this</span> <span m='1257250'>construction</span> <span m='1257730'>where</span>
  <span m='1257880'>we</span> <span m='1258030'>put</span> <span m='1258240'>money</span>
  <span m='1258570'>into</span> <span m='1258780'>a</span> <span m='1258930'>multisig</span>
  <span m='1259220'>account</span> <span m='1259560'>and</span> <span m='1259680'>then</span>
  <span m='1260310'>I</span> <span m='1260430'>sign</span> <span m='1260750'>like</span>
  <span m='1260910'>a</span> <span m='1260970'>refund</span> <span m='1261420'>transaction</span>
  <span m='1262080'>that's</span> <span m='1262230'>got</span> <span m='1262440'>a</span>
  <span m='1262500'>lock</span> <span m='1262750'>time</span> <span m='1263640'>before</span>
  <span m='1264180'>I</span> <span m='1264270'>actually</span> <span m='1264630'>fund</span>
  <span m='1264900'>it</span> <span m='1265620'>and</span> <span m='1265920'>things</span>
  <span m='1266160'>like</span> <span m='1266310'>that</span> <span m='1266520'>where</span>
  <span m='1266700'>you</span> <span m='1267060'>couldn't</span> <span m='1267330'>reliably</span>
  <span m='1267840'>do</span> <span m='1268020'>it</span> <span m='1268090'>because</span>
  <span m='1268350'>if</span> <span m='1268470'>either</span> <span m='1268740'>party</span>
  <span m='1269070'>modified</span> <span m='1269730'>their</span> <span m='1269880'>signature,</span>
  <span m='1270720'>they</span> <span m='1270810'>could</span> <span m='1271320'>break</span>
  <span m='1271560'>the</span> <span m='1271680'>whole</span> <span m='1271830'>thing</span>
  <span m='1272550'>and</span> <span m='1272670'>they</span> <span m='1272760'>could</span>
  <span m='1272880'>have</span> <span m='1273030'>a</span> <span m='1273090'>tax</span>
  <span m='1273390'>where</span> <span m='1273540'>it's</span> <span m='1273660'>like,</span>
  <span m='1273810'>OK,</span> <span m='1274050'>we're</span> <span m='1274140'>doing</span>
  <span m='1274350'>something</span> <span m='1274590'>together.</span> <span m='1274950'>Oh</span>
  <span m='1275100'>look,</span> <span m='1275370'>it's</span> <span m='1275700'>got</span>
  <span m='1275850'>stuck.</span> </p><p><span m='1276780'>Well</span> <span m='1276960'>both</span>
  <span m='1277230'>of</span> <span m='1277350'>our</span> <span m='1277500'>coins</span>
  <span m='1277980'>got</span> <span m='1278160'>stuck</span> <span m='1278430'>in</span>
  <span m='1278520'>this</span> <span m='1278670'>place.</span> <span m='1279405'>Hmm.</span>
  <span m='1279720'>Now</span> <span m='1279960'>it's</span> <span m='1280080'>sort</span>
  <span m='1280260'>of</span> <span m='1280320'>a</span> <span m='1280380'>hostage</span>
  <span m='1280740'>situation</span> <span m='1281600'>and</span> <span m='1281700'>you</span>
  <span m='1281760'>can</span> <span m='1281880'>say,</span> <span m='1282130'>well,</span>
  <span m='1282940'>I</span> <span m='1282960'>think</span> <span m='1283140'>I</span>
  <span m='1283230'>should</span> <span m='1283350'>get</span> <span m='1283500'>1</span>
  <span m='1283650'>and</span> <span m='1283800'>1/2</span> <span m='1283950'>and</span>
  <span m='1284040'>you should</span> <span m='1284280'>get</span> <span m='1284340'>1.5.</span>
  <span m='1285660'>It's</span> <span m='1285750'>like</span> <span m='1285870'>wait,</span>
  <span m='1286050'>we</span> <span m='1286170'>both</span> <span m='1286350'>wanted</span>
  <span m='1286570'>1.</span> <span m='1287610'>So</span> <span m='1287990'>there</span>
  <span m='1288200'>is</span> <span m='1288360'>a</span> <span m='1288420'>tax</span>
  <span m='1288660'>that</span> <span m='1288750'>could</span> <span m='1288870'>happen.</span>
  <span m='1289770'>And</span> <span m='1289870'>so</span> <span m='1290220'>this</span>
  <span m='1290490'>malleability</span> <span m='1291090'>was</span> <span m='1291300'>a</span>
  <span m='1291330'>problem</span> <span m='1291600'>for</span> <span m='1291720'>people</span>
  <span m='1292080'>trying</span> <span m='1292320'>to</span> <span m='1292380'>do</span>
  <span m='1292680'>new, cool</span> <span m='1293010'>things.</span> </p><p><span
  m='1295890'>So</span> <span m='1296270'>how</span> <span m='1296420'>do</span> <span
  m='1296510'>you</span> <span m='1296570'>fix</span> <span m='1296810'>this?</span>
  <span m='1297290'>Any</span> <span m='1297440'>ideas?</span> <span m='1300270'>Non-malleable</span>
  <span m='1300900'>signatures?</span> <span m='1301770'>So</span> <span m='1302460'>the</span>
  <span m='1302550'>one</span> <span m='1302700'>we</span> <span m='1302820'>did</span>
  <span m='1302970'>for</span> <span m='1303190'>the</span> <span m='1303360'>first</span>
  <span m='1303570'>homework.</span> <span m='1305970'>Does</span> <span m='1306090'>anyone</span>
  <span m='1306330'>have</span> <span m='1306720'>an</span> <span m='1306810'>idea</span>
  <span m='1307020'>about</span> <span m='1307200'>why</span> <span m='1307650'>the</span>
  <span m='1308020'>lamport</span> <span m='1308310'>signatures</span> <span m='1308730'>were</span>
  <span m='1308970'>non-malleable,</span> <span m='1311490'>like</span> <span m='1311910'>from</span>
  <span m='1312180'>problems</span> <span m='1312540'>at</span> <span m='1312660'>one?</span>
  <span m='1317530'>Yes,</span> <span m='1317800'>it was</span> <span m='1317950'>right.</span>
  <span m='1320330'>But</span> <span m='1320680'>yeah,</span> <span m='1321100'>they</span>
  <span m='1321220'>weren't.</span> <span m='1324350'>There's</span> <span m='1324530'>no</span>
  <span m='1324620'>randomness</span> <span m='1325340'>for</span> <span m='1325490'>one.</span>
  <span m='1326610'>I'm</span> <span m='1326660'>pretty</span> <span m='1326900'>sure</span>
  <span m='1327050'>if</span> <span m='1327140'>you</span> <span m='1327350'>flip</span>
  <span m='1327710'>any</span> <span m='1327860'>of</span> <span m='1327920'>the</span>
  <span m='1327980'>bits</span> <span m='1328590'>it's</span> <span m='1329030'>not</span>
  <span m='1329150'>going</span> <span m='1329270'>to</span> <span m='1329330'>work.</span>
  <span m='1329540'>So</span> <span m='1330350'>lamport</span> <span m='1330740'>signatures</span>
  <span m='1331160'>are</span> <span m='1331250'>an</span> <span m='1331310'>example</span>
  <span m='1331670'>where,</span> <span m='1331910'>yeah,</span> <span m='1332090'>it's</span>
  <span m='1332210'>non-malleable.</span> <span m='1333540'>You</span> <span m='1333620'>can't</span>
  <span m='1334070'>produce</span> <span m='1337250'>multiple</span> <span m='1337610'>different</span>
  <span m='1337970'>signatures</span> <span m='1338390'>on</span> <span m='1338480'>the</span>
  <span m='1338540'>same</span> <span m='1338720'>message.</span> <span m='1340550'>So</span>
  <span m='1340670'>that's</span> <span m='1340820'>good.</span> </p><p><span m='1342050'>The</span>
  <span m='1342170'>thing</span> <span m='1342380'>is</span> <span m='1342980'>many</span>
  <span m='1343490'>useful</span> <span m='1343820'>signature</span> <span m='1344210'>schemes</span>
  <span m='1344540'>are</span> <span m='1344720'>malleable.</span> <span m='1345320'>So</span>
  <span m='1345560'>to</span> <span m='1345740'>just</span> <span m='1346010'>say</span>
  <span m='1346190'>no,</span> <span m='1346460'>you</span> <span m='1346550'>have</span>
  <span m='1346670'>to</span> <span m='1346760'>use</span> <span m='1346880'>a</span>
  <span m='1347000'>non-malleable</span> <span m='1347420'>signature</span> <span
  m='1347750'>scheme,</span> <span m='1348500'>it's</span> <span m='1348590'>not</span>
  <span m='1348770'>a</span> <span m='1348830'>great</span> <span m='1349250'>answer</span>
  <span m='1349520'>to</span> <span m='1349580'>the</span> <span m='1349670'>question.</span>
  <span m='1353400'>I'm</span> <span m='1353550'>pretty</span> <span m='1353820'>sure</span>
  <span m='1354000'>there's</span> <span m='1354150'>some</span> <span m='1354330'>weird</span>
  <span m='1354570'>malleability</span> <span m='1355260'>stuff</span> <span m='1355470'>in</span>
  <span m='1355560'>RSA.</span> <span m='1357250'>A</span> <span m='1357750'>lot</span>
  <span m='1357960'>of</span> <span m='1358050'>the</span> <span m='1358500'>systems</span>
  <span m='1359760'>have</span> <span m='1360000'>randomness</span> <span m='1360450'>in</span>
  <span m='1360570'>there</span> <span m='1360840'>and</span> <span m='1360950'>they're</span>
  <span m='1361060'>malleable.</span> </p><p><span m='1363030'>So</span> <span m='1363450'>an</span>
  <span m='1363570'>idea</span> <span m='1363930'>that</span> <span m='1364260'>I</span>
  <span m='1364470'>had</span> <span m='1364770'>like</span> <span m='1365280'>2014</span>
  <span m='1366060'>and</span> <span m='1366180'>I</span> <span m='1366270'>was</span>
  <span m='1366390'>sort</span> <span m='1366570'>of</span> <span m='1367410'>going</span>
  <span m='1367680'>for</span> <span m='1367890'>was</span> <span m='1368550'>just</span>
  <span m='1368730'>don't</span> <span m='1368910'>sign</span> <span m='1369120'>your</span>
  <span m='1369210'>inputs</span> <span m='1369510'>at</span> <span m='1369570'>all,</span>
  <span m='1371640'>only</span> <span m='1371910'>sign</span> <span m='1372150'>your</span>
  <span m='1372270'>outputs.</span> <span m='1373150'>So</span> <span m='1373170'>you</span>
  <span m='1373260'>don't</span> <span m='1373470'>actually</span> <span m='1373830'>specify</span>
  <span m='1374340'>where</span> <span m='1374610'>you're</span> <span m='1374760'>sending</span>
  <span m='1375060'>money</span> <span m='1375300'>from</span> <span m='1375930'>in</span>
  <span m='1376050'>your</span> <span m='1376170'>signature.</span> <span m='1376830'>You</span>
  <span m='1376920'>do</span> <span m='1377040'>have</span> <span m='1377160'>to</span>
  <span m='1377250'>still</span> <span m='1377520'>specify</span> <span m='1377970'>in</span>
  <span m='1378030'>your</span> <span m='1378120'>transaction</span> <span m='1379530'>because</span>
  <span m='1379770'>people</span> <span m='1379980'>need</span> <span m='1380070'>to</span>
  <span m='1380160'>know,</span> <span m='1380370'>but</span> <span m='1381090'>you</span>
  <span m='1381540'>say</span> <span m='1381750'>I'm</span> <span m='1382140'>only</span>
  <span m='1382290'>going</span> <span m='1382410'>to</span> <span m='1382470'>sign</span>
  <span m='1382740'>off</span> <span m='1383010'>on</span> <span m='1383250'>the</span>
  <span m='1383370'>outputs.</span> <span m='1384280'>The</span> <span m='1385410'>endorsement</span>
  <span m='1386370'>of</span> <span m='1386490'>my</span> <span m='1386670'>inputs</span>
  <span m='1387150'>is</span> <span m='1387360'>implicit</span> <span m='1387990'>because</span>
  <span m='1388290'>the</span> <span m='1388410'>keys</span> <span m='1388740'>match.</span>
  <span m='1390150'>So</span> <span m='1390270'>I</span> <span m='1390300'>don't</span>
  <span m='1390480'>actually</span> <span m='1390810'>sign</span> <span m='1391230'>off</span>
  <span m='1391470'>on</span> <span m='1391620'>which</span> <span m='1391830'>key</span>
  <span m='1392130'>I'm</span> <span m='1392280'>sending</span> <span m='1392610'>from</span>
  <span m='1393960'>to</span> <span m='1394230'>something</span> <span m='1394770'>that's</span>
  <span m='1394980'>redundant.</span> <span m='1396780'>You</span> <span m='1397140'>know</span>
  <span m='1397350'>I'm</span> <span m='1397470'>sending</span> <span m='1397740'>from</span>
  <span m='1397890'>these</span> <span m='1398040'>inputs</span> <span m='1398320'>because</span>
  <span m='1398460'>the</span> <span m='1398550'>keys</span> <span m='1398820'>match</span>
  <span m='1399060'>up</span> <span m='1399250'>and</span> <span m='1399330'>the</span>
  <span m='1399420'>signature's</span> <span m='1399840'>valid</span> <span m='1400140'>for</span>
  <span m='1400410'>this</span> <span m='1400680'>key.</span> </p><p><span m='1402210'>I</span>
  <span m='1402420'>really</span> <span m='1402690'>like</span> <span m='1402840'>this</span>
  <span m='1403020'>idea</span> <span m='1403270'>still.</span> <span m='1404010'>I</span>
  <span m='1404100'>think</span> <span m='1404280'>it's</span> <span m='1404400'>really</span>
  <span m='1404610'>fun.</span> <span m='1404970'>You</span> <span m='1405030'>can</span>
  <span m='1405150'>do</span> <span m='1405240'>a</span> <span m='1405300'>lot</span>
  <span m='1405420'>of</span> <span m='1405480'>cool</span> <span m='1405750'>stuff</span>
  <span m='1405990'>with</span> <span m='1406140'>it.</span> <span m='1406830'>It's</span>
  <span m='1406950'>also</span> <span m='1407190'>dangerous.</span> <span m='1408780'>It</span>
  <span m='1408960'>allows</span> <span m='1409350'>signatures</span> <span m='1409920'>to</span>
  <span m='1410010'>be</span> <span m='1410130'>replayed,</span> <span m='1411630'>which</span>
  <span m='1411810'>is</span> <span m='1411930'>sort of</span> <span m='1412335'>one</span>
  <span m='1412740'>of</span> <span m='1412800'>the</span> <span m='1412860'>big</span>
  <span m='1412980'>points</span> <span m='1413320'>of</span> <span m='1413670'>having</span>
  <span m='1413880'>utxo's</span> <span m='1415140'>because</span> <span m='1415710'>if</span>
  <span m='1415980'>you</span> <span m='1416100'>send</span> <span m='1417120'>two</span>
  <span m='1417360'>outputs--</span> <span m='1421590'>I</span> <span m='1421800'>have</span>
  <span m='1423360'>address</span> <span m='1423780'>one.</span> <span m='1424860'>I</span>
  <span m='1424980'>send</span> <span m='1426000'>two</span> <span m='1426210'>outputs.</span>
  <span m='1426620'>So</span> <span m='1426900'>I've</span> <span m='1427020'>got</span>
  <span m='1427260'>output</span> <span m='1428190'>one,</span> <span m='1428850'>output</span>
  <span m='1429240'>two,</span> <span m='1431640'>and</span> <span m='1432310'>this</span>
  <span m='1432530'>one</span> <span m='1432780'>has</span> <span m='1432960'>five</span>
  <span m='1433170'>coins,</span> <span m='1433530'>this</span> <span m='1433650'>one</span>
  <span m='1433800'>has</span> <span m='1433950'>three</span> <span m='1434160'>coins,</span>
  <span m='1435780'>and</span> <span m='1437890'>they're</span> <span m='1437990'>both</span>
  <span m='1438090'>the</span> <span m='1438150'>same</span> <span m='1438330'>address,</span>
  <span m='1438630'>both</span> <span m='1438810'>the</span> <span m='1438870'>same</span>
  <span m='1439050'>public</span> <span m='1439460'>key,</span> <span m='1440070'>and</span>
  <span m='1440190'>then</span> <span m='1440280'>I</span> <span m='1440340'>want</span>
  <span m='1440490'>to</span> <span m='1440550'>spend</span> <span m='1440880'>them.</span>
  </p><p><span m='1441330'>And</span> <span m='1441450'>if</span> <span m='1441540'>I</span>
  <span m='1441600'>use</span> <span m='1441900'>this</span> <span m='1442080'>sort</span>
  <span m='1442290'>of</span> <span m='1442440'>signature</span> <span m='1442860'>scheme</span>
  <span m='1443190'>where</span> <span m='1443370'>I</span> <span m='1443430'>don't</span>
  <span m='1443700'>actually</span> <span m='1444090'>sign</span> <span m='1444600'>which</span>
  <span m='1444870'>input</span> <span m='1445170'>I'm</span> <span m='1445260'>spending</span>
  <span m='1445620'>from,</span> <span m='1446430'>it</span> <span m='1446520'>can</span>
  <span m='1446640'>be</span> <span m='1446730'>used</span> <span m='1446940'>on</span>
  <span m='1447060'>either.</span> <span m='1447790'>So</span> <span m='1447960'>maybe</span>
  <span m='1448260'>I'm</span> <span m='1448410'>not</span> <span m='1448650'>aware</span>
  <span m='1449250'>of</span> <span m='1450540'>this</span> <span m='1450870'>5-1</span>
  <span m='1451320'>yet,</span> <span m='1451550'>or</span> <span m='1451650'>it</span>
  <span m='1451700'>just</span> <span m='1451890'>hasn't</span> <span m='1452130'>happened</span>
  <span m='1452370'>yet,</span> <span m='1452520'>or</span> <span m='1452580'>I</span>
  <span m='1452610'>haven't</span> <span m='1452790'>seen</span> <span m='1452940'>it,</span>
  <span m='1453330'>and</span> <span m='1453390'>I</span> <span m='1453480'>say,</span>
  <span m='1453630'>yeah,</span> <span m='1453870'>I'm</span> <span m='1454040'>going</span>
  <span m='1454110'>to</span> <span m='1454200'>make</span> <span m='1454380'>a</span>
  <span m='1454440'>signature</span> <span m='1455280'>sending</span> <span m='1455790'>three</span>
  <span m='1456030'>coins</span> <span m='1456420'>over</span> <span m='1456600'>here</span>
  <span m='1457740'>and</span> <span m='1457920'>then</span> <span m='1458100'>someone</span>
  <span m='1458730'>can</span> <span m='1458940'>malleate</span> <span m='1459420'>the</span>
  <span m='1459510'>transaction</span> <span m='1460260'>without</span> <span m='1460530'>touching</span>
  <span m='1460830'>the</span> <span m='1460890'>signature,</span> <span m='1462410'>and</span>
  <span m='1462770'>pointing</span> <span m='1463070'>over</span> <span m='1463190'>here,</span>
  <span m='1464360'>and</span> <span m='1464630'>the</span> <span m='1464690'>signature</span>
  <span m='1465050'>wouldn't</span> <span m='1465170'>apply</span> <span m='1465410'>to</span>
  <span m='1465530'>either.</span> </p><p><span m='1466550'>And</span> <span m='1466670'>then</span>
  <span m='1467510'>this</span> <span m='1467840'>is</span> <span m='1467990'>a</span>
  <span m='1468050'>really</span> <span m='1468440'>good</span> <span m='1468590'>deal</span>
  <span m='1468770'>for</span> <span m='1468890'>the</span> <span m='1468980'>miners</span>
  <span m='1469430'>because</span> <span m='1469670'>now</span> <span m='1469790'>I'm</span>
  <span m='1469910'>spending</span> <span m='1470270'>five</span> <span m='1470480'>coins</span>
  <span m='1470900'>and</span> <span m='1471230'>only</span> <span m='1471620'>outputting</span>
  <span m='1472010'>three</span> <span m='1472430'>and</span> <span m='1472550'>the</span>
  <span m='1472640'>miners</span> <span m='1472940'>get</span> <span m='1473120'>the</span>
  <span m='1473240'>two</span> <span m='1473450'>coins</span> <span m='1473750'>difference.</span>
  <span m='1475280'>And</span> <span m='1475430'>so</span> <span m='1475550'>that's</span>
  <span m='1476300'>pretty</span> <span m='1476510'>dangerous.</span> <span m='1476990'>And</span>
  <span m='1477050'>also,</span> <span m='1477290'>even</span> <span m='1477530'>if</span>
  <span m='1477650'>they're</span> <span m='1477770'>the</span> <span m='1477860'>same</span>
  <span m='1479710'>I</span> <span m='1479910'>just</span> <span m='1480090'>say,</span>
  <span m='1480370'>hey,</span> <span m='1480750'>I'm</span> <span m='1481470'>sending</span>
  <span m='1481800'>three</span> <span m='1481980'>coins</span> <span m='1482220'>to</span>
  <span m='1482310'>you</span> <span m='1483120'>and</span> <span m='1483270'>then</span>
  <span m='1483690'>as</span> <span m='1483780'>soon</span> <span m='1483930'>as</span>
  <span m='1484260'>the</span> <span m='1484650'>receiver</span> <span m='1485100'>sees</span>
  <span m='1485400'>this</span> <span m='1485610'>output,</span> <span m='1486090'>oh,</span>
  <span m='1486330'>it'll</span> <span m='1486540'>also</span> <span m='1486870'>work</span>
  <span m='1487110'>here.</span> <span m='1487470'>I'm</span> <span m='1487530'>going</span>
  <span m='1487640'>to</span> <span m='1487710'>take</span> <span m='1487830'>another</span>
  <span m='1488100'>three</span> <span m='1488280'>coins.</span> <span m='1490020'>So</span>
  <span m='1490140'>this</span> <span m='1490350'>is</span> <span m='1490560'>mitigated</span>
  <span m='1491070'>by</span> <span m='1491280'>not</span> <span m='1491850'>reusing</span>
  <span m='1493470'>addresses,</span> <span m='1494970'>but</span> <span m='1495480'>people</span>
  <span m='1496110'>reuse</span> <span m='1496560'>addresses.</span> <span m='1498960'>So</span>
  <span m='1499140'>it</span> <span m='1499260'>is</span> <span m='1499470'>dangerous.</span>
  </p><p><span m='1500910'>I</span> <span m='1501000'>think</span> <span m='1501240'>in</span>
  <span m='1501390'>the</span> <span m='1501450'>context</span> <span m='1502050'>of</span>
  <span m='1502200'>multisig</span> <span m='1502890'>you</span> <span m='1503040'>can</span>
  <span m='1503340'>reliably</span> <span m='1503880'>say</span> <span m='1504060'>like,</span>
  <span m='1504270'>OK,</span> <span m='1504480'>we're</span> <span m='1504570'>not</span>
  <span m='1504750'>reusing</span> <span m='1505050'>addresses</span> <span m='1505380'>because</span>
  <span m='1505620'>these</span> <span m='1505770'>addresses</span> <span m='1506160'>are</span>
  <span m='1506550'>the</span> <span m='1506640'>combination</span> <span m='1507210'>of</span>
  <span m='1507330'>multiple</span> <span m='1507720'>people</span> <span m='1507960'>working</span>
  <span m='1508230'>together.</span> <span m='1509470'>But</span> <span m='1509490'>it</span>
  <span m='1509550'>would</span> <span m='1509670'>allow</span> <span m='1509940'>really</span>
  <span m='1510210'>cool</span> <span m='1510390'>things</span> <span m='1510690'>where</span>
  <span m='1511680'>you</span> <span m='1511800'>could</span> <span m='1511920'>sort</span>
  <span m='1512070'>of</span> <span m='1512160'>work</span> <span m='1512340'>backwards,</span>
  <span m='1512910'>compute</span> <span m='1513480'>a</span> <span m='1513540'>public</span>
  <span m='1514050'>key</span> <span m='1514230'>that</span> <span m='1514350'>you</span>
  <span m='1514410'>could</span> <span m='1514530'>prove</span> <span m='1514950'>no</span>
  <span m='1515130'>one</span> <span m='1515250'>knew</span> <span m='1515370'>the</span>
  <span m='1515460'>private</span> <span m='1515790'>key</span> <span m='1515940'>to,</span>
  <span m='1516180'>but</span> <span m='1516300'>you</span> <span m='1516360'>could</span>
  <span m='1516480'>still</span> <span m='1516690'>sign</span> <span m='1517020'>with</span>
  <span m='1517140'>it.</span> <span m='1517440'>Like</span> <span m='1517740'>really</span>
  <span m='1517980'>weird</span> <span m='1518340'>crazy</span> <span m='1518640'>stuff.</span>
  </p><p><span m='1519540'>Anyway,</span> <span m='1522760'>people</span> <span m='1522970'>were</span>
  <span m='1523060'>still</span> <span m='1523240'>talking</span> <span m='1523510'>about</span>
  <span m='1523690'>it</span> <span m='1523930'>a</span> <span m='1523960'>week</span>
  <span m='1524140'>or</span> <span m='1524200'>two</span> <span m='1524320'>ago.</span>
  <span m='1524690'>Like,</span> <span m='1524860'>oh,</span> <span m='1524980'>we</span>
  <span m='1525130'>could</span> <span m='1525250'>do</span> <span m='1525340'>these</span>
  <span m='1525520'>cool</span> <span m='1525670'>things</span> <span m='1525850'>with</span>
  <span m='1525970'>it.</span> <span m='1526090'>But</span> <span m='1526990'>it's</span>
  <span m='1527410'>dangerous</span> <span m='1527920'>and</span> <span m='1528010'>so</span>
  <span m='1528190'>it's</span> <span m='1528340'>like</span> <span m='1528970'>we're</span>
  <span m='1529300'>not</span> <span m='1529480'>sure</span> <span m='1529690'>if</span>
  <span m='1529810'>it's</span> <span m='1530310'>worth</span> <span m='1530570'>it.</span>
  <span m='1531720'>OK.</span> <span m='1532020'>Any</span> <span m='1532170'>questions</span>
  <span m='1532530'>about</span> <span m='1533610'>this</span> <span m='1533850'>transaction</span>
  <span m='1534330'>malleability</span> <span m='1534810'>so</span> <span m='1534960'>far?</span>
  </p><p><span m='1536720'>OK.</span> <span m='1536900'>So</span> <span m='1537160'>any</span>
  <span m='1537400'>ideas</span> <span m='1537730'>of</span> <span m='1537880'>what</span>
  <span m='1538270'>you</span> <span m='1538450'>actually</span> <span m='1539020'>do</span>
  <span m='1539590'>to</span> <span m='1540400'>fix</span> <span m='1540910'>malleability?</span>
  <span m='1545710'>Nobody?</span> <span m='1546760'>OK.</span> <span m='1548800'>we'll</span>
  <span m='1548950'>find</span> <span m='1549250'>out</span> <span m='1549460'>in</span>
  <span m='1549850'>one</span> <span m='1550090'>minute.</span> <span m='1551590'>Segregated</span>
  <span m='1552090'>Witness.</span> <span m='1553660'>I</span> <span m='1553720'>don't</span>
  <span m='1553840'>think</span> <span m='1553990'>it's</span> <span m='1554080'>a</span>
  <span m='1554140'>good</span> <span m='1554290'>name.</span> <span m='1556730'>Separate</span>
  <span m='1557270'>signatures</span> <span m='1558290'>would</span> <span m='1558410'>be</span>
  <span m='1558530'>a</span> <span m='1558590'>much</span> <span m='1558830'>easier</span>
  <span m='1559100'>to</span> <span m='1559250'>understand</span> <span m='1560210'>name.</span>
  <span m='1562850'>So</span> <span m='1563060'>Peter</span> <span m='1563360'>Wuille</span>
  <span m='1563650'>who</span> <span m='1564170'>is</span> <span m='1564290'>really</span>
  <span m='1564500'>good</span> <span m='1564590'>at</span> <span m='1564680'>bitcoin</span>
  <span m='1565010'>and</span> <span m='1565100'>makes</span> <span m='1565280'>all</span>
  <span m='1565370'>these</span> <span m='1565490'>cool</span> <span m='1565610'>things,</span>
  <span m='1566360'>he's</span> <span m='1566450'>not</span> <span m='1566690'>the</span>
  <span m='1566750'>best</span> <span m='1566990'>at</span> <span m='1567050'>naming</span>
  <span m='1567350'>things.</span> <span m='1568920'>Makes</span> <span m='1569210'>lots</span>
  <span m='1569460'>of</span> <span m='1569540'>cool</span> <span m='1569690'>stuff,</span>
  <span m='1570020'>but</span> <span m='1570170'>just</span> <span m='1570890'>makes</span>
  <span m='1571100'>whatever</span> <span m='1571400'>weird</span> <span m='1571670'>technical</span>
  <span m='1572030'>name.</span> </p><p><span m='1574910'>So</span> <span m='1575630'>it's</span>
  <span m='1575810'>a</span> <span m='1575840'>pretty</span> <span m='1576050'>straightforward</span>
  <span m='1576470'>idea.</span> <span m='1576740'>The</span> <span m='1576860'>idea</span>
  <span m='1577070'>is</span> <span m='1579040'>when</span> <span m='1579480'>you're</span>
  <span m='1579570'>signing</span> <span m='1579930'>a</span> <span m='1579990'>transaction</span>
  <span m='1581920'>you</span> <span m='1582130'>hash</span> <span m='1582460'>a</span>
  <span m='1582490'>bunch</span> <span m='1582760'>of</span> <span m='1582850'>data</span>
  <span m='1583150'>design,</span> <span m='1583940'>but</span> <span m='1584080'>you</span>
  <span m='1584170'>don't</span> <span m='1584950'>include</span> <span m='1585340'>the</span>
  <span m='1585430'>signatures</span> <span m='1586330'>in</span> <span m='1586420'>the</span>
  <span m='1586510'>data</span> <span m='1586720'>you're</span> <span m='1586810'>hashing</span>
  <span m='1587110'>to</span> <span m='1587200'>sign</span> <span m='1587530'>them</span>
  <span m='1588040'>because</span> <span m='1588190'>that</span> <span m='1588340'>wouldn't</span>
  <span m='1588550'>make</span> <span m='1588700'>any</span> <span m='1588820'>sense.</span>
  <span m='1589210'>You</span> <span m='1589280'>can't.</span> <span m='1592070'>Do</span>
  <span m='1592220'>the</span> <span m='1592310'>same</span> <span m='1592550'>thing</span>
  <span m='1592730'>when</span> <span m='1592880'>you're</span> <span m='1593000'>referring</span>
  <span m='1593390'>to</span> <span m='1593480'>transactions</span> <span m='1594080'>themselves</span>
  <span m='1594920'>as</span> <span m='1595040'>txids.</span> <span m='1596100'>So</span>
  <span m='1596845'>in</span> <span m='1597300'>the</span> <span m='1597390'>exact</span>
  <span m='1597710'>same</span> <span m='1597920'>way</span> <span m='1598070'>that</span>
  <span m='1598190'>when</span> <span m='1598310'>you're</span> <span m='1598400'>signing,</span>
  <span m='1598880'>you</span> <span m='1599000'>hash</span> <span m='1599210'>the</span>
  <span m='1599300'>data</span> <span m='1599510'>without</span> <span m='1599720'>the</span>
  <span m='1599780'>signatures.</span> <span m='1600560'>When</span> <span m='1600770'>you're</span>
  <span m='1600920'>pointing</span> <span m='1601400'>to</span> <span m='1601580'>a</span>
  <span m='1601640'>transaction</span> <span m='1602420'>to</span> <span m='1602540'>say</span>
  <span m='1602720'>I'm</span> <span m='1602840'>spending</span> <span m='1603170'>from</span>
  <span m='1603320'>there,</span> <span m='1604190'>also</span> <span m='1604490'>don't</span>
  <span m='1604700'>include</span> <span m='1605170'>the</span> <span m='1605450'>signature</span>
  <span m='1605840'>data.</span> <span m='1606680'>Just</span> <span m='1608780'>take</span>
  <span m='1608990'>the</span> <span m='1609110'>hash</span> <span m='1609470'>of</span>
  <span m='1609590'>the</span> <span m='1609680'>data</span> <span m='1610100'>without</span>
  <span m='1610340'>the</span> <span m='1610430'>signatures.</span> </p><p><span m='1615660'>Yeah.</span>
  <span m='1616030'>You</span> <span m='1616150'>just</span> <span m='1616270'>sort</span>
  <span m='1616390'>of</span> <span m='1616480'>have</span> <span m='1616600'>this</span>
  <span m='1616750'>pointer.</span> <span m='1617980'>You've</span> <span m='1618970'>got</span>
  <span m='1619150'>a</span> <span m='1619210'>pointer</span> <span m='1619690'>of</span>
  <span m='1619960'>previous</span> <span m='1620320'>input</span> <span m='1620860'>and</span>
  <span m='1620950'>you've</span> <span m='1621040'>got</span> <span m='1621160'>the</span>
  <span m='1621250'>outputs,</span> <span m='1621680'>but</span> <span m='1621700'>the</span>
  <span m='1621790'>signatures</span> <span m='1622180'>aren't</span> <span m='1622330'>in</span>
  <span m='1622450'>there.</span> <span m='1623750'>So</span> <span m='1623770'>the</span>
  <span m='1623890'>idea</span> <span m='1624100'>is</span> <span m='1624580'>the</span>
  <span m='1624700'>signature</span> <span m='1625150'>can</span> <span m='1625300'>change</span>
  <span m='1626070'>and</span> <span m='1626170'>the</span> <span m='1626230'>transaction</span>
  <span m='1626750'>ID</span> <span m='1626950'>doesn't.</span> </p><p><span m='1630900'>But</span>
  <span m='1631020'>what</span> <span m='1631140'>about</span> <span m='1631440'>backwards</span>
  <span m='1631890'>compatibility?</span> <span m='1632860'>So</span> <span m='1632880'>this</span>
  <span m='1633030'>is</span> <span m='1633090'>a</span> <span m='1633120'>great</span>
  <span m='1633330'>idea.</span> <span m='1634600'>Why</span> <span m='1634650'>not</span>
  <span m='1634800'>go</span> <span m='1634950'>for</span> <span m='1635160'>it?</span>
  <span m='1635670'>But</span> <span m='1636180'>how</span> <span m='1636450'>do</span>
  <span m='1636510'>you</span> <span m='1636660'>make</span> <span m='1636960'>it</span>
  <span m='1637230'>backwards</span> <span m='1637710'>compatible</span> <span m='1639180'>so</span>
  <span m='1639390'>that</span> <span m='1639540'>old</span> <span m='1639900'>software</span>
  <span m='1640380'>can</span> <span m='1640560'>still</span> <span m='1640890'>work</span>
  <span m='1641160'>with</span> <span m='1641310'>it?</span> <span m='1643230'>This</span>
  <span m='1643310'>seems</span> <span m='1643700'>like</span> <span m='1645190'>a</span>
  <span m='1645620'>soft</span> <span m='1645980'>fork</span> <span m='1646370'>is</span>
  <span m='1646700'>I'm</span> <span m='1646880'>adding</span> <span m='1647210'>new</span>
  <span m='1647420'>rules</span> <span m='1647840'>to</span> <span m='1647960'>the</span>
  <span m='1648050'>system</span> <span m='1649280'>I'm</span> <span m='1649640'>putting</span>
  <span m='1649910'>further</span> <span m='1650210'>restrictions</span> <span m='1650495'>on.</span>
  <span m='1653070'>This</span> <span m='1653370'>seems</span> <span m='1653820'>like</span>
  <span m='1654030'>just</span> <span m='1654270'>a</span> <span m='1654300'>change.</span>
  <span m='1655260'>It</span> <span m='1655410'>seems</span> <span m='1655710'>like,</span>
  <span m='1655860'>look,</span> <span m='1657780'>I'm</span> <span m='1657930'>now</span>
  <span m='1658080'>defining</span> <span m='1658620'>something</span> <span m='1658890'>in</span>
  <span m='1658980'>a</span> <span m='1659040'>different</span> <span m='1659340'>way.</span>
  <span m='1659580'>I'm</span> <span m='1659730'>removing</span> <span m='1660330'>the</span>
  <span m='1660420'>signatures</span> <span m='1660900'>from</span> <span m='1661020'>the</span>
  <span m='1661110'>txid.</span> </p><p><span m='1661980'>How</span> <span m='1662160'>do</span>
  <span m='1662220'>we</span> <span m='1662340'>make</span> <span m='1662580'>this</span>
  <span m='1662850'>not</span> <span m='1663180'>appear</span> <span m='1663510'>to</span>
  <span m='1663600'>be</span> <span m='1663720'>a</span> <span m='1663780'>hard</span>
  <span m='1664020'>fork?</span> <span m='1665220'>Hard</span> <span m='1665450'>fork's</span>
  <span m='1665610'>easy.</span> <span m='1666490'>You</span> <span m='1666590'>just
  say,</span> <span m='1666690'>look,</span> <span m='1666900'>we're</span> <span
  m='1667020'>changing</span> <span m='1667350'>the</span> <span m='1667410'>entire</span>
  <span m='1667680'>system.</span> <span m='1668520'>From</span> <span m='1668670'>now</span>
  <span m='1668910'>on</span> <span m='1669120'>txids</span> <span m='1671030'>don't</span>
  <span m='1671270'>have</span> <span m='1671390'>signatures.</span> <span m='1672350'>So</span>
  <span m='1672640'>any</span> <span m='1672770'>ideas</span> <span m='1673070'>how</span>
  <span m='1673160'>you</span> <span m='1673280'>do</span> <span m='1673400'>this</span>
  <span m='1673590'>in a</span> <span m='1674150'>backwards</span> <span m='1674570'>compatible</span>
  <span m='1674990'>way</span> <span m='1678520'>or</span> <span m='1678640'>just</span>
  <span m='1678790'>give</span> <span m='1678940'>up</span> <span m='1679490'>hard</span>
  <span m='1679720'>fork?</span> </p><p><span m='1683834'>AUDIENCE:</span> <span m='1684322'>Adding</span>
  <span m='1685790'>restrictions</span> <span m='1686270'>that</span> <span m='1686390'>screw
  with</span> <span m='1686800'>[INAUDIBLE].</span> </p><p><span m='1689520'>PROFESSOR:</span>
  <span m='1689570'>So</span> <span m='1689620'>you</span> <span m='1689690'>can't</span>
  <span m='1689900'>change</span> <span m='1691340'>old</span> <span m='1691520'>transactions,</span>
  <span m='1693830'>but</span> <span m='1693950'>having</span> <span m='1694160'>both</span>
  <span m='1694430'>at</span> <span m='1694490'>the</span> <span m='1694580'>same</span>
  <span m='1694790'>time</span> <span m='1695360'>is</span> <span m='1695510'>tricky.</span>
  <span m='1698500'>So</span> <span m='1698650'>the</span> <span m='1698770'>idea</span>
  <span m='1698960'>is</span> <span m='1699520'>it</span> <span m='1699610'>would</span>
  <span m='1699700'>have</span> <span m='1699790'>been</span> <span m='1699880'>easier</span>
  <span m='1700120'>to</span> <span m='1700240'>start</span> <span m='1700600'>off</span>
  <span m='1700810'>this</span> <span m='1700990'>way.</span> <span m='1701470'>If</span>
  <span m='1701620'>Satoshi had</span> <span m='1702110'>just</span> <span m='1702430'>started</span>
  <span m='1702850'>this</span> <span m='1703030'>way,</span> <span m='1703200'>it
  would have</span> <span m='1703320'>went</span> <span m='1703450'>great.</span>
  <span m='1704410'>He</span> <span m='1704470'>didn't</span> <span m='1704650'>think</span>
  <span m='1704830'>of</span> <span m='1704950'>it.</span> <span m='1705210'>It</span>
  <span m='1705340'>wasn't</span> <span m='1705710'>a</span> <span m='1705810'>super</span>
  <span m='1706180'>obvious</span> <span m='1706570'>thing</span> <span m='1706780'>that--</span>
  <span m='1708090'>so you</span> <span m='1708230'>can do it</span> <span m='1708370'>as
  a soft</span> <span m='1708650'>fork.</span> <span m='1708940'>The</span> <span
  m='1709030'>way</span> <span m='1709180'>you</span> <span m='1709270'>do</span>
  <span m='1709450'>it</span> <span m='1710440'>is</span> <span m='1710590'>you</span>
  <span m='1710680'>make</span> <span m='1711010'>new</span> <span m='1711310'>outputs</span>
  <span m='1712150'>which</span> <span m='1712630'>don't</span> <span m='1712870'>require</span>
  <span m='1713230'>any</span> <span m='1713440'>signatures</span> <span m='1713890'>at</span>
  <span m='1713980'>all</span> <span m='1714580'>and</span> <span m='1714700'>then</span>
  <span m='1714790'>you just</span> <span m='1715060'>don't</span> <span m='1715450'>have</span>
  <span m='1715600'>any</span> <span m='1715750'>signatures.</span> <span m='1717640'>This</span>
  <span m='1717790'>seems</span> <span m='1718030'>kind</span> <span m='1718210'>of</span>
  <span m='1718300'>silly.</span> </p><p><span m='1718690'>Signatures</span> <span
  m='1719140'>are</span> <span m='1719200'>pretty</span> <span m='1719380'>important,</span>
  <span m='1719860'>otherwise</span> <span m='1720610'>any</span> <span m='1720820'>arbitrary</span>
  <span m='1721270'>person</span> <span m='1721630'>could</span> <span m='1721710'>just</span>
  <span m='1721900'>take</span> <span m='1722080'>all</span> <span m='1722170'>the</span>
  <span m='1722230'>money.</span> <span m='1723700'>But</span> <span m='1723880'>you</span>
  <span m='1724030'>redefine</span> <span m='1724660'>things</span> <span m='1724930'>in</span>
  <span m='1725020'>a</span> <span m='1725080'>way</span> <span m='1725230'>that</span>
  <span m='1725380'>new</span> <span m='1725710'>people</span> <span m='1725980'>know</span>
  <span m='1726130'>about</span> <span m='1726490'>and</span> <span m='1726610'>old</span>
  <span m='1726790'>people</span> <span m='1727030'>don't.</span> <span m='1728380'>So</span>
  <span m='1728680'>this</span> <span m='1728860'>is</span> <span m='1728980'>actually</span>
  <span m='1729250'>what</span> <span m='1729370'>a</span> <span m='1729430'>segwit</span>
  <span m='1729760'>output</span> <span m='1730090'>looks</span> <span m='1730270'>like.</span>
  <span m='1731140'>The</span> <span m='1731290'>output</span> <span m='1731560'>script</span>
  <span m='1731860'>is</span> <span m='1732010'>just</span> <span m='1732220'>a</span>
  <span m='1732280'>zero</span> <span m='1733300'>and</span> <span m='1733420'>then</span>
  <span m='1733540'>a</span> <span m='1733570'>pubkey</span> <span m='1733780'>hash,</span>
  <span m='1735300'>and</span> <span m='1735420'>then</span> <span m='1735540'>the</span>
  <span m='1735630'>sig</span> <span m='1736140'>script,</span> <span m='1737070'>the</span>
  <span m='1737220'>field</span> <span m='1737610'>for</span> <span m='1737790'>a</span>
  <span m='1737850'>signature</span> <span m='1738300'>is</span> <span m='1738450'>just</span>
  <span m='1738840'>nothing.</span> <span m='1739500'>You</span> <span m='1739590'>just</span>
  <span m='1739830'>don't</span> <span m='1740040'>put</span> <span m='1740160'>a</span>
  <span m='1740220'>signature</span> <span m='1740520'>there.</span> <span m='1743030'>And</span>
  <span m='1743150'>then</span> <span m='1743390'>when</span> <span m='1743600'>you're</span>
  <span m='1743720'>running</span> <span m='1744020'>the</span> <span m='1744110'>stack</span>
  <span m='1745370'>you</span> <span m='1745520'>end</span> <span m='1745640'>up</span>
  <span m='1745760'>with</span> <span m='1745910'>a</span> <span m='1745940'>pubkey</span>
  <span m='1746360'>hash</span> <span m='1746690'>on</span> <span m='1746780'>the</span>
  <span m='1746840'>top</span> <span m='1747080'>of</span> <span m='1747140'>the</span>
  <span m='1747230'>stack,</span> <span m='1748220'>which</span> <span m='1748430'>is</span>
  <span m='1748520'>some</span> <span m='1749690'>number</span> <span m='1750560'>and</span>
  <span m='1751730'>the</span> <span m='1751820'>interpreter</span> <span m='1752270'>looks</span>
  <span m='1752510'>at</span> <span m='1752600'>a</span> <span m='1752660'>number</span>
  <span m='1752990'>that's</span> <span m='1753180'>non-zero</span> <span m='1753920'>as</span>
  <span m='1754370'>true.</span> <span m='1755480'>Like</span> <span m='1755590'>in</span>
  <span m='1755720'>C</span> <span m='1755920'>or</span> <span m='1756050'>things</span>
  <span m='1756200'>like</span> <span m='1756320'>that.</span> </p><p><span m='1757190'>And</span>
  <span m='1757400'>the bitcoins</span> <span m='1757640'>move.</span> <span m='1757970'>It's</span>
  <span m='1758120'>great.</span> <span m='1759080'>Someone</span> <span m='1759350'>was</span>
  <span m='1759440'>joking</span> <span m='1759770'>that</span> <span m='1760370'>you</span>
  <span m='1760550'>could</span> <span m='1761030'>potentially</span> <span m='1761600'>make</span>
  <span m='1761780'>this</span> <span m='1761990'>into</span> <span m='1762320'>a</span>
  <span m='1762380'>hard</span> <span m='1762590'>fork,</span> <span m='1762860'>because</span>
  <span m='1763850'>what</span> <span m='1764120'>if</span> <span m='1764270'>the</span>
  <span m='1764390'>pubkey</span> <span m='1764870'>hash</span> <span m='1765170'>was</span>
  <span m='1765350'>zero,</span> <span m='1767160'>and</span> <span m='1768360'>you</span>
  <span m='1768480'>found</span> <span m='1770010'>a</span> <span m='1770070'>pubkey</span>
  <span m='1770400'>that</span> <span m='1770520'>hashed</span> <span m='1770740'>to
  zero</span> <span m='1771180'>and</span> <span m='1771300'>then you signed</span>
  <span m='1771390'>signed</span> <span m='1771660'>with</span> <span m='1771810'>it</span>
  <span m='1772060'>and</span> <span m='1772080'>then</span> <span m='1772210'>segwit</span>
  <span m='1772610'>would</span> <span m='1772620'>accept</span> <span m='1772920'>it</span>
  <span m='1773140'>but</span> <span m='1773350'>old nodes</span> <span m='1773470'>wouldn't.</span>
  <span m='1775440'>Actually,</span> <span m='1775800'>that</span> <span m='1775950'>doesn't</span>
  <span m='1776190'>work,</span> <span m='1776520'>but</span> <span m='1776760'>it's</span>
  <span m='1776910'>sort</span> <span m='1777090'>of--</span> </p><p><span m='1778040'>Anyway,</span>
  <span m='1780800'>if</span> <span m='1780920'>you're</span> <span m='1781040'>running</span>
  <span m='1781340'>the</span> <span m='1781400'>regular</span> <span m='1781760'>bitcoin</span>
  <span m='1782090'>software,</span> <span m='1782420'>you</span> <span m='1782570'>see</span>
  <span m='1782840'>this</span> <span m='1784060'>and</span> <span m='1784190'>no</span>
  <span m='1784370'>signature,</span> <span m='1784970'>and</span> <span m='1785090'>you're</span>
  <span m='1785180'>like</span> <span m='1785300'>yeah,</span> <span m='1785570'>this</span>
  <span m='1785720'>doesn't</span> <span m='1785990'>need</span> <span m='1786200'>a</span>
  <span m='1786230'>signature.</span> <span m='1787010'>It's</span> <span m='1787160'>just</span>
  <span m='1787850'>a</span> <span m='1787910'>hash.</span> <span m='1788720'>I</span>
  <span m='1788780'>don't</span> <span m='1788900'>know</span> <span m='1788990'>what</span>
  <span m='1789140'>this</span> <span m='1789380'>is.</span> <span m='1790260'>Fine,</span>
  <span m='1790750'>the</span> <span m='1790850'>coins</span> <span m='1791150'>move.</span>
  <span m='1791690'>It</span> <span m='1792080'>evaluates</span> <span m='1792560'>to</span>
  <span m='1792620'>true.</span> <span m='1794600'>But</span> <span m='1795020'>the</span>
  <span m='1795200'>new</span> <span m='1795560'>version</span> <span m='1796340'>of</span>
  <span m='1796430'>the</span> <span m='1796520'>software</span> <span m='1797600'>sort</span>
  <span m='1797780'>of</span> <span m='1798020'>adds</span> <span m='1798380'>a</span>
  <span m='1798410'>restriction</span> <span m='1799040'>to</span> <span m='1799160'>this</span>
  <span m='1799340'>kind</span> <span m='1799550'>of</span> <span m='1799670'>output.</span>
  <span m='1800180'>It says, look.</span> <span m='1800360'>If</span> <span m='1800480'>you</span>
  <span m='1800630'>see</span> <span m='1800840'>this,</span> <span m='1801290'>this
  is</span> <span m='1801410'>a</span> <span m='1801440'>template.</span> </p><p><span
  m='1802490'>This</span> <span m='1802670'>doesn't</span> <span m='1803120'>actually</span>
  <span m='1803780'>mean</span> <span m='1804380'>put</span> <span m='1804590'>a</span>
  <span m='1804620'>zero</span> <span m='1804950'>on</span> <span m='1805100'>the</span>
  <span m='1805190'>stack</span> <span m='1805850'>and</span> <span m='1805940'>put</span>
  <span m='1806090'>a</span> <span m='1806150'>pubkey</span> <span m='1806450'>hash</span>
  <span m='1806660'>on</span> <span m='1806750'>the</span> <span m='1806840'>stack.</span>
  <span m='1807680'>It</span> <span m='1807770'>means</span> <span m='1807970'>something</span>
  <span m='1808250'>else.</span> <span m='1809690'>Now,</span> <span m='1810050'>it</span>
  <span m='1810140'>means</span> <span m='1811430'>this</span> <span m='1811910'>is</span>
  <span m='1812060'>a</span> <span m='1812090'>pubkey</span> <span m='1812450'>hash</span>
  <span m='1812810'>and</span> <span m='1812930'>look</span> <span m='1813080'>for</span>
  <span m='1813230'>a</span> <span m='1813290'>signature.</span> <span m='1813920'>But</span>
  <span m='1814130'>look</span> <span m='1814310'>for</span> <span m='1814490'>a</span>
  <span m='1814550'>signature</span> <span m='1815330'>in</span> <span m='1815450'>a</span>
  <span m='1815570'>different</span> <span m='1815960'>place.</span> <span m='1816710'>Don't</span>
  <span m='1816980'>actually</span> <span m='1817280'>put</span> <span m='1817460'>it</span>
  <span m='1817610'>in</span> <span m='1817700'>the</span> <span m='1817790'>place</span>
  <span m='1818000'>you're</span> <span m='1818090'>supposed</span> <span m='1818300'>to</span>
  <span m='1818360'>put</span> <span m='1818510'>signatures,</span> <span m='1819500'>put</span>
  <span m='1819680'>it in</span> <span m='1819770'>a</span> <span m='1819830'>new</span>
  <span m='1820010'>place.</span> <span m='1820640'>And</span> <span m='1820970'>don't</span>
  <span m='1821180'>tell</span> <span m='1822110'>the</span> <span m='1822260'>old</span>
  <span m='1822410'>software</span> <span m='1822830'>about</span> <span m='1823040'>this</span>
  <span m='1823190'>place.</span> <span m='1824940'>We</span> <span m='1825450'>add</span>
  <span m='1825570'>a</span> <span m='1825630'>new</span> <span m='1825870'>field</span>
  <span m='1826740'>to</span> <span m='1826890'>the</span> <span m='1827100'>transaction</span>
  <span m='1827670'>inputs.</span> </p><p><span m='1830000'>It's</span> <span m='1831450'>sort</span>
  <span m='1831660'>of</span> <span m='1831720'>in</span> <span m='1831810'>the</span>
  <span m='1831900'>inputs,</span> <span m='1832620'>but</span> <span m='1832800'>they</span>
  <span m='1832890'>put</span> <span m='1833130'>it at</span> <span m='1833220'>the</span>
  <span m='1833370'>end.</span> <span m='1833610'>It's</span> <span m='1833730'>kind</span>
  <span m='1833880'>of</span> <span m='1833940'>weird.</span> <span m='1835110'>Logically,</span>
  <span m='1836010'>it's</span> <span m='1836340'>in</span> <span m='1836490'>the</span>
  <span m='1836610'>input.</span> <span m='1837240'>It's</span> <span m='1837330'>the</span>
  <span m='1837420'>same,</span> <span m='1838110'>but</span> <span m='1839550'>physically</span>
  <span m='1840030'>it's</span> <span m='1840150'>not,</span> <span m='1841170'>which</span>
  <span m='1841380'>is</span> <span m='1841800'>silly.</span> <span m='1842120'>I</span>
  <span m='1842250'>don't</span> <span m='1842670'>like</span> <span m='1842850'>that</span>
  <span m='1843270'>aspect</span> <span m='1843570'>of</span> <span m='1843660'>it.</span>
  <span m='1844720'>But</span> <span m='1844800'>the</span> <span m='1844890'>idea</span>
  <span m='1845070'>is</span> <span m='1845160'>there's</span> <span m='1845310'>this</span>
  <span m='1845430'>new</span> <span m='1845550'>field</span> <span m='1845910'>in</span>
  <span m='1846000'>the</span> <span m='1846120'>inputs</span> <span m='1846510'>called</span>
  <span m='1846720'>the</span> <span m='1846840'>witness</span> <span m='1847260'>field,</span>
  <span m='1848310'>and</span> <span m='1848490'>in</span> <span m='1848670'>cryptography,</span>
  <span m='1849270'>witness</span> <span m='1851340'>sort</span> <span m='1851550'>of</span>
  <span m='1851610'>means</span> <span m='1851790'>signature</span> <span m='1852520'>in</span>
  <span m='1852540'>this</span> <span m='1852690'>case</span> <span m='1852900'>anyway.</span>
  <span m='1853320'>It's</span> <span m='1853440'>a</span> <span m='1853500'>little</span>
  <span m='1853620'>bit</span> <span m='1853740'>more</span> <span m='1853890'>general.</span>
  </p><p><span m='1856300'>But</span> <span m='1856510'>the</span> <span m='1856630'>old</span>
  <span m='1856750'>software</span> <span m='1857050'>never</span> <span m='1857230'>sees</span>
  <span m='1857440'>it.</span> <span m='1857920'>So</span> <span m='1858100'>the</span>
  <span m='1858190'>idea</span> <span m='1858490'>for</span> <span m='1858700'>here's</span>
  <span m='1858910'>the</span> <span m='1859000'>old</span> <span m='1859180'>transaction</span>
  <span m='1859750'>format.</span> <span m='1860410'>You've</span> <span m='1860560'>got</span>
  <span m='1861880'>your</span> <span m='1862000'>tx</span> <span m='1862310'>id</span>
  <span m='1862480'>and index,</span> <span m='1863640'>36</span> <span m='1864030'>bytes</span>
  <span m='1864220'>sort</span> <span m='1864400'>of</span> <span m='1864460'>pointer</span>
  <span m='1864790'>to</span> <span m='1864960'>what</span> <span m='1865300'>you're</span>
  <span m='1865390'>spending,</span> <span m='1866200'>and</span> <span m='1866350'>then</span>
  <span m='1866470'>a</span> <span m='1866530'>signature</span> <span m='1866950'>which</span>
  <span m='1867100'>is</span> <span m='1867160'>100</span> <span m='1867430'>bytes,</span>
  <span m='1868060'>and then</span> <span m='1868130'>this</span> <span m='1868450'>stays</span>
  <span m='1868750'>the</span> <span m='1868840'>same.</span> <span m='1871060'>And</span>
  <span m='1871210'>the</span> <span m='1871270'>new</span> <span m='1871420'>tx</span>
  <span m='1871780'>format.</span> <span m='1872350'>The</span> <span m='1872470'>idea</span>
  <span m='1872700'>is,</span> <span m='1873160'>yeah,</span> <span m='1873310'>the</span>
  <span m='1873400'>signatures</span> <span m='1873850'>field</span> <span m='1874100'>is</span>
  <span m='1874150'>still</span> <span m='1874420'>there.</span> <span m='1874930'>You</span>
  <span m='1875050'>just</span> <span m='1875200'>leave</span> <span m='1875350'>it</span>
  <span m='1875440'>empty.</span> </p><p><span m='1876370'>So you're</span> <span
  m='1876760'>not</span> <span m='1876880'>putting</span> <span m='1877180'>any</span>
  <span m='1877330'>signature.</span> <span m='1877990'>It</span> <span m='1878050'>doesn't</span>
  <span m='1878260'>look</span> <span m='1878410'>like</span> <span m='1878560'>you</span>
  <span m='1878650'>need</span> <span m='1878830'>to</span> <span m='1878920'>put</span>
  <span m='1879070'>a</span> <span m='1879130'>signature</span> <span m='1879880'>to</span>
  <span m='1880000'>the</span> <span m='1880210'>old</span> <span m='1880990'>software.</span>
  <span m='1881680'>And</span> <span m='1881800'>then</span> <span m='1881920'>you</span>
  <span m='1882010'>have</span> <span m='1882130'>this</span> <span m='1882850'>third</span>
  <span m='1883240'>thing,</span> <span m='1883510'>which</span> <span m='1883660'>is</span>
  <span m='1883750'>witness,</span> <span m='1884450'>which</span> <span m='1884560'>is</span>
  <span m='1884680'>the</span> <span m='1884800'>same</span> <span m='1885250'>as</span>
  <span m='1885520'>signature</span> <span m='1886060'>basically.</span> <span m='1888130'>Slightly</span>
  <span m='1888670'>different</span> <span m='1888970'>format.</span> <span m='1889480'>And</span>
  <span m='1889780'>technically,</span> <span m='1890430'>they</span> <span m='1890980'>put</span>
  <span m='1891160'>them</span> <span m='1891280'>all</span> <span m='1891360'>together</span>
  <span m='1891760'>and</span> <span m='1891850'>put</span> <span m='1892030'>it at</span>
  <span m='1892120'>the</span> <span m='1892210'>end,</span> <span m='1892420'>which</span>
  <span m='1892540'>is</span> <span m='1892630'>kind</span> <span m='1892750'>of</span>
  <span m='1892810'>annoying.</span> <span m='1893120'>But</span> <span m='1893410'>anyway,</span>
  <span m='1894700'>logically</span> <span m='1895210'>this</span> <span m='1895360'>is</span>
  <span m='1895450'>how</span> <span m='1895570'>they</span> <span m='1895690'>do</span>
  <span m='1895810'>it.</span> <span m='1896140'>They</span> <span m='1896260'>make</span>
  <span m='1896680'>a</span> <span m='1896740'>new</span> <span m='1897070'>version</span>
  <span m='1897790'>of</span> <span m='1897910'>the</span> <span m='1897970'>transaction</span>
  <span m='1898570'>format.</span> </p><p><span m='1899350'>So</span> <span m='1900400'>the</span>
  <span m='1900550'>old</span> <span m='1900730'>version</span> <span m='1901240'>looks</span>
  <span m='1901660'>like</span> <span m='1902230'>empty</span> <span m='1902500'>signatures.</span>
  <span m='1903160'>The</span> <span m='1903250'>new</span> <span m='1903460'>version</span>
  <span m='1904240'>looks</span> <span m='1904510'>like</span> <span m='1904780'>here's</span>
  <span m='1905050'>this</span> <span m='1905290'>useless</span> <span m='1906040'>empty</span>
  <span m='1906310'>signature</span> <span m='1906730'>field,</span> <span m='1907100'>and</span>
  <span m='1907200'>here's</span> <span m='1907300'>where</span> <span m='1907420'>the</span>
  <span m='1907540'>real</span> <span m='1907780'>signatures</span> <span m='1908260'>are.</span>
  <span m='1911310'>And</span> <span m='1911420'>you</span> <span m='1912220'>omit</span>
  <span m='1912620'>this to</span> <span m='1912770'>the</span> <span m='1912890'>old</span>
  <span m='1913070'>nodes.</span> <span m='1913820'>So</span> <span m='1914780'>when</span>
  <span m='1916010'>people</span> <span m='1916460'>ask</span> <span m='1916970'>for</span>
  <span m='1917150'>witness</span> <span m='1917480'>transactions,</span> <span m='1918710'>when</span>
  <span m='1918830'>people</span> <span m='1919070'>know</span> <span m='1919370'>about</span>
  <span m='1919670'>this</span> <span m='1919910'>new</span> <span m='1920570'>system,</span>
  <span m='1921620'>yeah,</span> <span m='1921770'>you</span> <span m='1921860'>give</span>
  <span m='1922010'>it</span> <span m='1922070'>to</span> <span m='1922160'>them.</span>
  <span m='1922590'>So</span> <span m='1922640'>they</span> <span m='1922730'>say</span>
  <span m='1922850'>hey,</span> <span m='1923100'>yeah, I'm</span> <span m='1924620'>hip</span>
  <span m='1924800'>to</span> <span m='1924890'>this</span> <span m='1925100'>new</span>
  <span m='1925640'>segwit</span> <span m='1926000'>thing.</span> <span m='1926450'>Give</span>
  <span m='1926630'>me</span> <span m='1926750'>a</span> <span m='1926810'>segwit</span>
  <span m='1927110'>transaction.</span> <span m='1928070'>And</span> <span m='1928160'>you're</span>
  <span m='1928250'>like,</span> <span m='1928400'>OK,</span> <span m='1928610'>here's</span>
  <span m='1928820'>the</span> <span m='1928880'>witnesses</span> <span m='1929270'>at</span>
  <span m='1929360'>the</span> <span m='1929420'>end.</span> </p><p><span m='1930680'>But</span>
  <span m='1930830'>when</span> <span m='1930980'>they</span> <span m='1931160'>don't</span>
  <span m='1931490'>seem</span> <span m='1931760'>to</span> <span m='1931850'>know</span>
  <span m='1932120'>about</span> <span m='1932360'>this</span> <span m='1932870'>and</span>
  <span m='1933020'>they're</span> <span m='1933200'>running</span> <span m='1933500'>older</span>
  <span m='1933770'>software</span> <span m='1934250'>and</span> <span m='1934340'>they</span>
  <span m='1934430'>say,</span> <span m='1934610'>hey,</span> <span m='1934860'>just</span>
  <span m='1935000'>give</span> <span m='1935120'>me</span> <span m='1935210'>the</span>
  <span m='1935270'>transaction,</span> <span m='1936170'>you</span> <span m='1936530'>give</span>
  <span m='1936680'>it</span> <span m='1936740'>to</span> <span m='1936830'>them</span>
  <span m='1936980'>without</span> <span m='1937250'>the</span> <span m='1937340'>witness</span>
  <span m='1937610'>at</span> <span m='1937670'>all.</span> <span m='1938400'>It</span>
  <span m='1938450'>still</span> <span m='1938780'>looks</span> <span m='1939050'>valid</span>
  <span m='1939440'>to--</span> <span m='1940340'>either</span> <span m='1940670'>one</span>
  <span m='1940880'>looks</span> <span m='1941090'>valid.</span> <span m='1942170'>However,</span>
  <span m='1942920'>the</span> <span m='1943160'>new</span> <span m='1943760'>people,</span>
  <span m='1945290'>they</span> <span m='1945530'>know</span> <span m='1946580'>that</span>
  <span m='1946760'>if</span> <span m='1946880'>you</span> <span m='1947000'>see</span>
  <span m='1947270'>this,</span> <span m='1948380'>it</span> <span m='1948500'>does</span>
  <span m='1948680'>not</span> <span m='1949040'>mean</span> <span m='1949460'>push</span>
  <span m='1949750'>a zero,</span> <span m='1950030'>push</span> <span m='1950270'>up</span>
  <span m='1950520'>pubkey</span> <span m='1950790'>has.</span> <span m='1951250'>There</span>
  <span m='1951400'>is</span> <span m='1951530'>a</span> <span m='1951590'>new</span>
  <span m='1951770'>rule</span> <span m='1952070'>that</span> <span m='1952190'>no,</span>
  <span m='1952340'>this</span> <span m='1952520'>is</span> <span m='1952610'>a</span>
  <span m='1952640'>template.</span> <span m='1953120'>This</span> <span m='1953300'>is</span>
  <span m='1953360'>segwit.</span> </p><p><span m='1954110'>I</span> <span m='1954260'>need</span>
  <span m='1954530'>a</span> <span m='1954590'>signature,</span> <span m='1955370'>and</span>
  <span m='1955460'>I</span> <span m='1955520'>need</span> <span m='1955700'>it</span>
  <span m='1955760'>to</span> <span m='1955880'>be</span> <span m='1956150'>in</span>
  <span m='1956360'>the</span> <span m='1956480'>witness</span> <span m='1956960'>field.</span>
  <span m='1958890'>So</span> <span m='1959930'>if</span> <span m='1960230'>a</span>
  <span m='1960800'>new</span> <span m='1961250'>node</span> <span m='1962180'>gets</span>
  <span m='1962520'>a</span> <span m='1962600'>transaction</span> <span m='1963290'>without</span>
  <span m='1963830'>a</span> <span m='1963920'>witness</span> <span m='1964250'>that</span>
  <span m='1964460'>they</span> <span m='1964580'>know</span> <span m='1964880'>needs</span>
  <span m='1965210'>a</span> <span m='1965240'>witness,</span> <span m='1965570'>they</span>
  <span m='1965690'>will</span> <span m='1965960'>declare</span> <span m='1966290'>it</span>
  <span m='1966380'>invalid.</span> <span m='1967580'>But</span> <span m='1967700'>the</span>
  <span m='1967820'>old</span> <span m='1968000'>nodes</span> <span m='1968330'>won't</span>
  <span m='1968540'>be</span> <span m='1968630'>able</span> <span m='1968750'>to</span>
  <span m='1968810'>distinguish.</span> <span m='1969710'>They'll</span> <span m='1969800'>say,</span>
  <span m='1969950'>well,</span> <span m='1970340'>it</span> <span m='1970430'>looks</span>
  <span m='1970640'>like</span> <span m='1971280'>no</span> <span m='1971420'>signature
  is</span> <span m='1971810'>needed</span> <span m='1972020'>here.</span> <span m='1972260'>OK.</span>
  <span m='1973250'>So</span> <span m='1973480'>you're</span> <span m='1974180'>sort</span>
  <span m='1974420'>of</span> <span m='1974510'>tricking</span> <span m='1974840'>the</span>
  <span m='1974960'>old</span> <span m='1975080'>software</span> <span m='1976460'>into</span>
  <span m='1976700'>accepting</span> <span m='1977090'>things</span> <span m='1977340'>that</span>
  <span m='1977570'>they</span> <span m='1977750'>shouldn't</span> <span m='1978140'>actually</span>
  <span m='1978530'>accept</span> <span m='1978890'>in</span> <span m='1978980'>some</span>
  <span m='1979160'>cases.</span> </p><p><span m='1980060'>There</span> <span m='1980210'>may</span>
  <span m='1980450'>not</span> <span m='1980810'>be</span> <span m='1980990'>a</span>
  <span m='1981020'>valid</span> <span m='1981380'>signature</span> <span m='1982100'>that</span>
  <span m='1982250'>goes</span> <span m='1982460'>into</span> <span m='1982610'>the</span>
  <span m='1982700'>segwit</span> <span m='1983000'>transaction,</span> <span m='1983990'>but</span>
  <span m='1984530'>old</span> <span m='1984710'>software</span> <span m='1985070'>will</span>
  <span m='1985340'>still</span> <span m='1985610'>think</span> <span m='1985760'>it's</span>
  <span m='1985910'>OK.</span> <span m='1987490'>So</span> <span m='1987640'>this</span>
  <span m='1987790'>is</span> <span m='1987880'>how</span> <span m='1988000'>you</span>
  <span m='1988600'>make</span> <span m='1988900'>it</span> <span m='1989020'>into</span>
  <span m='1989320'>a</span> <span m='1989380'>softfork.</span> <span m='1990610'>It's</span>
  <span m='1990700'>kind</span> <span m='1990820'>of</span> <span m='1990910'>ugly.</span>
  <span m='1991190'>But,</span> <span m='1991410'>yeah.</span> <span m='1992360'>Do
  you have a question?</span> </p><p><span m='1992920'>AUDIENCE:</span> <span m='1992985'>Yeah.</span>
  <span m='1993526'>Is this</span> <span m='1994002'>still implicitly?</span> <span
  m='1994480'>So</span> <span m='1994735'>when</span> <span m='1994990'>the</span>
  <span m='1995050'>signature</span> <span m='1995830'>is</span> <span m='1996330'>zero,</span>
  <span m='1996720'>[INAUDIBLE].</span> </p><p><span m='2000650'>PROFESSOR:</span>
  <span m='2002930'>No,</span> <span m='2003530'>because</span> <span m='2004880'>it's</span>
  <span m='2005060'>based</span> <span m='2005360'>on</span> <span m='2005450'>the</span>
  <span m='2005660'>output</span> <span m='2006500'>script.</span> <span m='2008150'>You</span>
  <span m='2008330'>could</span> <span m='2008690'>make</span> <span m='2010070'>you</span>
  <span m='2010580'>a</span> <span m='2010640'>different</span> <span m='2011030'>output</span>
  <span m='2011270'>script</span> <span m='2011720'>that</span> <span m='2011870'>would</span>
  <span m='2011990'>have</span> <span m='2012140'>a</span> <span m='2012290'>signature</span>
  <span m='2012830'>that</span> <span m='2013010'>no</span> <span m='2013220'>signature</span>
  <span m='2013610'>requirement,</span> <span m='2014570'>and</span> <span m='2014690'>it</span>
  <span m='2014750'>would</span> <span m='2014840'>still</span> <span m='2015050'>work</span>
  <span m='2015440'>even</span> <span m='2015800'>with</span> <span m='2016130'>this</span>
  <span m='2016340'>new</span> <span m='2016460'>system.</span> <span m='2017630'>So</span>
  <span m='2017810'>it's</span> <span m='2017900'>just</span> <span m='2018080'>based</span>
  <span m='2018350'>on--</span> <span m='2019240'>we</span> <span m='2019550'>changed</span>
  <span m='2020030'>the</span> <span m='2020180'>definition</span> <span m='2020840'>of</span>
  <span m='2020930'>an</span> <span m='2021020'>output</span> <span m='2021350'>script.</span>
  <span m='2022750'>So</span> <span m='2022880'>have</span> <span m='2023030'>this</span>
  <span m='2023120'>sort</span> <span m='2023270'>of</span> <span m='2023360'>template.</span>
  <span m='2024980'>You</span> <span m='2025100'>can</span> <span m='2025250'>still</span>
  <span m='2025580'>do</span> <span m='2025760'>weird--</span> <span m='2026060'>like</span>
  <span m='2026240'>you</span> <span m='2026330'>could</span> <span m='2026480'>put</span>
  <span m='2028340'>without</span> <span m='2028700'>a</span> <span m='2028760'>zero</span>
  <span m='2029150'>in</span> <span m='2029240'>front.</span> </p><p><span m='2029750'>You</span>
  <span m='2029840'>could</span> <span m='2029960'>put</span> <span m='2030350'>just</span>
  <span m='2030800'>a</span> <span m='2030830'>pubkey</span> <span m='2031190'>hash,</span>
  <span m='2031900'>and</span> <span m='2032120'>that's</span> <span m='2032330'>not</span>
  <span m='2032510'>defined</span> <span m='2032870'>in</span> <span m='2032990'>segwit.</span>
  <span m='2033380'>That's not</span> <span m='2033650'>defined</span> <span m='2033830'>anywhere.</span>
  <span m='2034580'>It</span> <span m='2034670'>would</span> <span m='2034790'>just</span>
  <span m='2034970'>be,</span> <span m='2035180'>OK,</span> <span m='2036530'>yeah,</span>
  <span m='2036750'>it</span> <span m='2036800'>evaluates</span> <span m='2037250'>to</span>
  <span m='2037310'>true</span> <span m='2037640'>without</span> <span m='2037910'>a</span>
  <span m='2037940'>signature.</span> <span m='2038480'>Anyone</span> <span m='2038750'>can</span>
  <span m='2038870'>spend</span> <span m='2039110'>it.</span> <span m='2040090'>And</span>
  <span m='2040250'>you</span> <span m='2040340'>could</span> <span m='2040490'>do</span>
  <span m='2040670'>that--</span> <span m='2043460'>that</span> <span m='2043610'>would</span>
  <span m='2043910'>have</span> <span m='2044180'>to</span> <span m='2044300'>be</span>
  <span m='2044570'>a</span> <span m='2044690'>non-segwit</span> <span m='2045410'>transaction.</span>
  <span m='2046700'>The only</span> <span m='2047000'>way</span> <span m='2047120'>to</span>
  <span m='2047210'>use</span> <span m='2047360'>a</span> <span m='2047420'>segwit</span>
  <span m='2047720'>transaction</span> <span m='2048199'>is</span> <span m='2048290'>to</span>
  <span m='2048380'>have</span> <span m='2048480'>the</span> <span m='2048560'>special</span>
  <span m='2048980'>format</span> <span m='2049400'>for</span> <span m='2049520'>the</span>
  <span m='2049610'>output</span> <span m='2049880'>script.</span> <span m='2052500'>Any</span>
  <span m='2052620'>other</span> <span m='2052739'>questions</span> <span m='2053070'>about</span>
  <span m='2053940'>network</span> <span m='2054270'>stuff?</span> </p><p><span m='2054620'>Yeah,</span>
  <span m='2057780'>and</span> <span m='2058770'>this</span> <span m='2058980'>solves</span>
  <span m='2059429'>malleability</span> <span m='2060480'>in</span> <span m='2060960'>a</span>
  <span m='2061020'>pretty</span> <span m='2061230'>good</span> <span m='2061350'>way.</span>
  <span m='2062010'>For</span> <span m='2062190'>the</span> <span m='2062340'>old</span>
  <span m='2062610'>software,</span> <span m='2063540'>the</span> <span m='2063630'>old</span>
  <span m='2063780'>nodes,</span> <span m='2064590'>well,</span> <span m='2064739'>they</span>
  <span m='2064860'>can't</span> <span m='2065070'>change</span> <span m='2065310'>the</span>
  <span m='2065370'>signature</span> <span m='2065699'>because</span> <span m='2065880'>there</span>
  <span m='2066000'>isn't</span> <span m='2066239'>one.</span> <span m='2066630'>There's</span>
  <span m='2066810'>nothing</span> <span m='2067409'>to</span> <span m='2067560'>malleate.</span>
  <span m='2069120'>And</span> <span m='2069239'>from</span> <span m='2069449'>the</span>
  <span m='2069510'>new</span> <span m='2069719'>node's</span> <span m='2070080'>perspective,</span>
  <span m='2071070'>yes,</span> <span m='2071400'>the</span> <span m='2071489'>signature</span>
  <span m='2071880'>can</span> <span m='2072330'>change,</span> <span m='2073170'>but</span>
  <span m='2073409'>that</span> <span m='2073679'>doesn't</span> <span m='2073949'>affect</span>
  <span m='2074219'>the</span> <span m='2074310'>transaction</span> <span m='2074820'>ID.</span>
  <span m='2075449'>Both</span> <span m='2076050'>old</span> <span m='2076469'>and</span>
  <span m='2076770'>new</span> <span m='2076949'>nodes</span> <span m='2077250'>still</span>
  <span m='2077699'>agree</span> <span m='2078090'>on</span> <span m='2078210'>the</span>
  <span m='2078300'>exact</span> <span m='2078630'>same</span> <span m='2078840'>transaction</span>
  <span m='2079110'>ID.</span> <span m='2080489'>The</span> <span m='2080610'>transaction</span>
  <span m='2081120'>ID</span> <span m='2081659'>does</span> <span m='2081929'>not</span>
  <span m='2082380'>include</span> <span m='2083760'>the</span> <span m='2083880'>witness</span>
  <span m='2084239'>field.</span> </p><p><span m='2086320'>So</span> <span m='2086530'>when</span>
  <span m='2087219'>you're</span> <span m='2087310'>calculating</span> <span m='2087800'>a</span>
  <span m='2087820'>transaction,</span> <span m='2088520'>you</span> <span m='2088630'>include</span>
  <span m='2088989'>all</span> <span m='2089110'>this</span> <span m='2089409'>for</span>
  <span m='2089560'>backwards.</span> <span m='2090260'>And</span> <span m='2090360'>if</span>
  <span m='2090370'>there's</span> <span m='2090540'>this</span> <span m='2090699'>actual</span>
  <span m='2090969'>signature</span> <span m='2091400'>there,</span> <span m='2091719'>that
  gets</span> <span m='2091960'>into</span> <span m='2092110'>that</span> <span m='2092179'>the</span>
  <span m='2092300'>txid.</span> <span m='2094060'>But</span> <span m='2094210'>if</span>
  <span m='2094300'>you're</span> <span m='2094389'>using</span> <span m='2095110'>empty</span>
  <span m='2095350'>signature</span> <span m='2095860'>and</span> <span m='2095980'>only</span>
  <span m='2096159'>using</span> <span m='2096370'>witness,</span> <span m='2097090'>then</span>
  <span m='2097360'>it</span> <span m='2097480'>doesn't</span> <span m='2097900'>get</span>
  <span m='2098080'>into</span> <span m='2098260'>the</span> <span m='2098350'>txid</span>
  <span m='2098820'>at</span> <span m='2098920'>all.</span> <span m='2100470'>So</span>
  <span m='2101010'>both</span> <span m='2101610'>old</span> <span m='2101850'>and</span>
  <span m='2102000'>new</span> <span m='2102090'>software</span> <span m='2102540'>agree,</span>
  <span m='2103110'>and</span> <span m='2103230'>that's</span> <span m='2103410'>important,</span>
  <span m='2103920'>because</span> <span m='2104190'>if</span> <span m='2104280'>they</span>
  <span m='2104400'>didn't</span> <span m='2105900'>the</span> <span m='2106020'>merkle</span>
  <span m='2106320'>routes</span> <span m='2106530'>would</span> <span m='2106680'>look</span>
  <span m='2106800'>wrong.</span> <span m='2107320'>You</span> <span m='2107400'>take</span>
  <span m='2107550'>all</span> <span m='2107640'>the</span> <span m='2107700'>txids,</span>
  <span m='2108330'>put</span> <span m='2108480'>them</span> <span m='2108570'>into</span>
  <span m='2108720'>a</span> <span m='2108750'>merkle</span> <span m='2109020'>route,</span>
  <span m='2109260'>put</span> <span m='2109470'>that</span> <span m='2109620'>in</span>
  <span m='2109680'>the</span> <span m='2109740'>header.</span> <span m='2110800'>And</span>
  <span m='2110820'>that's</span> <span m='2111000'>really</span> <span m='2111180'>important</span>
  <span m='2111510'>that</span> <span m='2111600'>everyone</span> <span m='2111870'>agrees</span>
  <span m='2112230'>on</span> <span m='2112350'>that.</span> </p><p><span m='2113790'>So</span>
  <span m='2114120'>they</span> <span m='2114270'>do</span> <span m='2114900'>work</span>
  <span m='2115080'>together,</span> <span m='2115480'>So</span> <span m='2115530'>that's</span>
  <span m='2115680'>cool.</span> <span m='2119620'>So</span> <span m='2120430'>this</span>
  <span m='2120580'>is</span> <span m='2120700'>kind</span> <span m='2120880'>of</span>
  <span m='2120970'>interesting.</span> <span m='2121360'>You've</span> <span m='2121480'>got</span>
  <span m='2121690'>two</span> <span m='2122350'>different</span> <span m='2123820'>old</span>
  <span m='2124420'>version,</span> <span m='2124750'>new</span> <span m='2124930'>version</span>
  <span m='2125560'>operating</span> <span m='2126040'>at</span> <span m='2126130'>the</span>
  <span m='2126220'>same</span> <span m='2126490'>time</span> <span m='2127000'>on</span>
  <span m='2127120'>the</span> <span m='2127180'>network.</span> <span m='2128050'>And</span>
  <span m='2128980'>they</span> <span m='2129160'>agree</span> <span m='2129430'>on</span>
  <span m='2129550'>a</span> <span m='2129610'>lot</span> <span m='2129790'>of</span>
  <span m='2129850'>stuff,</span> <span m='2130180'>but</span> <span m='2130270'>they</span>
  <span m='2130360'>also</span> <span m='2130570'>sort</span> <span m='2130720'>of</span>
  <span m='2130810'>disagree</span> <span m='2131290'>on</span> <span m='2131410'>some</span>
  <span m='2131560'>things.</span> <span m='2132475'>So</span> <span m='2133000'>they</span>
  <span m='2133270'>agree</span> <span m='2133780'>on</span> <span m='2134320'>outputs</span>
  <span m='2134680'>of</span> <span m='2134770'>the</span> <span m='2134830'>transactions,</span>
  <span m='2135970'>and</span> <span m='2136060'>they</span> <span m='2136180'>agree</span>
  <span m='2136420'>on</span> <span m='2136600'>which</span> <span m='2137290'>inputs</span>
  <span m='2137710'>there</span> <span m='2138010'>are.</span> <span m='2138670'>But</span>
  <span m='2138820'>they</span> <span m='2138940'>have</span> <span m='2139120'>a</span>
  <span m='2139180'>slightly</span> <span m='2139540'>different</span> <span m='2139840'>view</span>
  <span m='2140110'>of</span> <span m='2140230'>what</span> <span m='2140410'>these</span>
  <span m='2140650'>inputs</span> <span m='2140950'>are.</span> <span m='2141040'>Some</span>
  <span m='2141250'>of</span> <span m='2141340'>them</span> <span m='2141430'>think,</span>
  <span m='2141900'>no</span> <span m='2142080'>signatures</span> <span m='2142320'>here.</span>
  </p><p><span m='2142940'>Some of them</span> <span m='2143410'>think, yeah,</span>
  <span m='2143560'>there's</span> <span m='2143710'>a</span> <span m='2143770'>signature</span>
  <span m='2144100'>here.</span> <span m='2144640'>That's</span> <span m='2144820'>weird.</span>
  <span m='2146170'>They</span> <span m='2146260'>don't</span> <span m='2146410'>agree</span>
  <span m='2146590'>on</span> <span m='2146740'>how</span> <span m='2147100'>things</span>
  <span m='2147370'>got</span> <span m='2147550'>spent.</span> <span m='2148150'>What</span>
  <span m='2148300'>are</span> <span m='2148390'>some</span> <span m='2148570'>other</span>
  <span m='2148750'>things</span> <span m='2149110'>that</span> <span m='2149440'>these</span>
  <span m='2150040'>two</span> <span m='2150340'>different</span> <span m='2150700'>classes</span>
  <span m='2151090'>of</span> <span m='2151180'>nodes</span> <span m='2151450'>would</span>
  <span m='2151600'>not</span> <span m='2152267'>agree on?</span> <span m='2155470'>Any</span>
  <span m='2155650'>ideas?</span> <span m='2156740'>So</span> <span m='2157260'>you</span>
  <span m='2157870'>understand</span> <span m='2158290'>how</span> <span m='2158710'>they</span>
  <span m='2158860'>see</span> <span m='2159100'>different</span> <span m='2159400'>transactions.</span>
  <span m='2160310'>What</span> <span m='2160330'>are</span> <span m='2160390'>some</span>
  <span m='2160570'>other</span> <span m='2160810'>aspects</span> <span m='2161320'>that</span>
  <span m='2162300'>may</span> <span m='2162660'>be</span> <span m='2163150'>sort</span>
  <span m='2163360'>of</span> <span m='2163450'>interesting</span> <span m='2163870'>for</span>
  <span m='2163990'>this</span> <span m='2164140'>consensus</span> <span m='2164590'>system</span>
  <span m='2165470'>that</span> <span m='2166450'>we</span> <span m='2166540'>have</span>
  <span m='2166630'>different</span> <span m='2166930'>views</span> <span m='2167230'>on?</span>
  <span m='2168160'>I</span> <span m='2168220'>forget</span> <span m='2168460'>what</span>
  <span m='2168850'>I</span> <span m='2168910'>put.</span> <span m='2169170'>I put</span>
  <span m='2169230'>two things.</span> <span m='2171660'>Any?</span> </p><p><span
  m='2173604'>Hint.</span> <span m='2175560'>Biggest</span> <span m='2175950'>argument</span>
  <span m='2176730'>since</span> <span m='2177030'>2010</span> <span m='2177780'>in</span>
  <span m='2177930'>bitcoin.</span> <span m='2180360'>What</span> <span m='2180630'>do</span>
  <span m='2180750'>these</span> <span m='2181050'>two</span> <span m='2181350'>different</span>
  <span m='2181710'>classes</span> <span m='2182040'>of</span> <span m='2182130'>nodes</span>
  <span m='2182400'>not</span> <span m='2182700'>agree</span> <span m='2183060'>on?</span>
  <span m='2186603'>Yeah.</span> </p><p><span m='2188010'>AUDIENCE:</span> <span m='2188479'>Size?</span>
  </p><p><span m='2189420'>PROFESSOR:</span> <span m='2189525'>Well,</span> <span
  m='2189630'>the</span> <span m='2189720'>transaction</span> <span m='2190200'>size.</span>
  <span m='2191100'>Yeah.</span> <span m='2191550'>So</span> <span m='2192420'>they</span>
  <span m='2192570'>both</span> <span m='2192840'>see</span> <span m='2193410'>two</span>
  <span m='2193650'>different</span> <span m='2193950'>transactions.</span> <span
  m='2195250'>One</span> <span m='2195300'>of</span> <span m='2195360'>them</span>
  <span m='2195480'>sees</span> <span m='2195690'>it</span> <span m='2195750'>with</span>
  <span m='2195960'>these</span> <span m='2196140'>signatures,</span> <span m='2196700'>one</span>
  <span m='2196740'>of</span> <span m='2196800'>them</span> <span m='2196890'>sees</span>
  <span m='2197070'>it</span> <span m='2197130'>without.</span> <span m='2198030'>They</span>
  <span m='2198210'>don't</span> <span m='2198390'>agree</span> <span m='2198570'>on</span>
  <span m='2198690'>how</span> <span m='2198810'>big</span> <span m='2199050'>the</span>
  <span m='2199140'>transaction</span> <span m='2199680'>is.</span> <span m='2200160'>They</span>
  <span m='2200340'>agree</span> <span m='2200580'>on</span> <span m='2200670'>the</span>
  <span m='2200760'>txid.</span> <span m='2201920'>They</span> <span m='2202260'>agree</span>
  <span m='2202530'>on</span> <span m='2203040'>where</span> <span m='2203280'>the</span>
  <span m='2203370'>money</span> <span m='2203490'>is</span> <span m='2203610'>going,</span>
  <span m='2203850'>where</span> <span m='2204000'>it's</span> <span m='2204090'>coming</span>
  <span m='2204300'>from,</span> <span m='2204960'>but</span> <span m='2205110'>they</span>
  <span m='2205230'>have</span> <span m='2205320'>completely</span> <span m='2205770'>different</span>
  <span m='2206010'>views</span> <span m='2206250'>of</span> <span m='2206340'>how</span>
  <span m='2206700'>big</span> <span m='2207120'>this</span> <span m='2207300'>transaction</span>
  <span m='2207900'>is</span> <span m='2208080'>in</span> <span m='2208170'>terms</span>
  <span m='2208410'>of</span> <span m='2208500'>number</span> <span m='2208740'>of</span>
  <span m='2208860'>bytes.</span> </p><p><span m='2210190'>So</span> <span m='2210270'>this</span>
  <span m='2210510'>is</span> <span m='2210630'>really</span> <span m='2210870'>interesting,</span>
  <span m='2213670'>For</span> <span m='2214430'>many,</span> <span m='2214890'>many</span>
  <span m='2215090'>years</span> <span m='2215780'>since</span> <span m='2216140'>2010,</span>
  <span m='2216860'>everyone's</span> <span m='2217160'>been</span> <span m='2217310'>arguing.</span>
  <span m='2218300'>And</span> <span m='2218720'>one</span> <span m='2218930'>of</span>
  <span m='2218990'>the</span> <span m='2219050'>big</span> <span m='2219260'>aspects</span>
  <span m='2219620'>of,</span> <span m='2219740'>oh,</span> <span m='2219950'>if we</span>
  <span m='2220070'>want</span> <span m='2220220'>to</span> <span m='2220340'>increase</span>
  <span m='2220670'>the</span> <span m='2220760'>block</span> <span m='2221030'>size,</span>
  <span m='2221330'>that's</span> <span m='2221760'>a</span> <span m='2221960'>hard</span>
  <span m='2222180'>fork.</span> <span m='2222980'>Everyone</span> <span m='2224180'>up</span>
  <span m='2224300'>to</span> <span m='2224420'>now,</span> <span m='2225070'>we're</span>
  <span m='2225710'>enforcing.</span> <span m='2226220'>The</span> <span m='2226310'>block</span>
  <span m='2226550'>size</span> <span m='2226790'>must</span> <span m='2227120'>be</span>
  <span m='2227360'>one</span> <span m='2227630'>million</span> <span m='2227960'>bytes</span>
  <span m='2228350'>or</span> <span m='2228470'>less.</span> <span m='2229970'>There's</span>
  <span m='2230180'>no</span> <span m='2230300'>way</span> <span m='2230420'>around</span>
  <span m='2230690'>that,</span> <span m='2230870'>right?</span> <span m='2231110'>You</span>
  <span m='2231170'>can't</span> <span m='2231350'>just</span> <span m='2231500'>increase</span>
  <span m='2231800'>it.</span> </p><p><span m='2232520'>We've</span> <span m='2232640'>got</span>
  <span m='2232820'>this</span> <span m='2233000'>rule.</span> <span m='2233210'>You're</span>
  <span m='2233330'>breaking</span> <span m='2233660'>that</span> <span m='2233810'>rule.</span>
  <span m='2235050'>This</span> <span m='2235160'>is</span> <span m='2235280'>a</span>
  <span m='2235340'>sneaky</span> <span m='2235670'>way</span> <span m='2235880'>to</span>
  <span m='2236030'>break</span> <span m='2236240'>the</span> <span m='2236330'>rule</span>
  <span m='2236930'>but</span> <span m='2237140'>still</span> <span m='2237740'>not</span>
  <span m='2238550'>tell</span> <span m='2238850'>people</span> <span m='2239420'>you're</span>
  <span m='2239540'>breaking</span> <span m='2239900'>the</span> <span m='2240050'>rule.</span>
  <span m='2241170'>Say,</span> <span m='2241310'>OK,</span> <span m='2242210'>I'm</span>
  <span m='2242450'>enforcing</span> <span m='2242930'>a</span> <span m='2242990'>rule</span>
  <span m='2243320'>that</span> <span m='2243440'>there's</span> <span m='2243650'>one</span>
  <span m='2243860'>million</span> <span m='2244160'>bytes.</span> <span m='2245570'>As</span>
  <span m='2245690'>far</span> <span m='2245870'>as</span> <span m='2245960'>I'm</span>
  <span m='2246110'>concerned,</span> <span m='2246510'>there</span> <span m='2246560'>are</span>
  <span m='2246650'>less</span> <span m='2246890'>than</span> <span m='2247040'>one</span>
  <span m='2247160'>million</span> <span m='2247460'>bytes</span> <span m='2247670'>in</span>
  <span m='2247760'>this</span> <span m='2248720'>set</span> <span m='2248930'>of</span>
  <span m='2249020'>transactions.</span> <span m='2250100'>The</span> <span m='2250190'>new</span>
  <span m='2250550'>nodes</span> <span m='2250970'>know,</span> <span m='2251320'>yeah,</span>
  <span m='2251690'>there's</span> <span m='2251870'>more</span> <span m='2252020'>than</span>
  <span m='2252140'>one</span> <span m='2252170'>million.</span> <span m='2252530'>There's</span>
  <span m='2252680'>like</span> <span m='2252770'>two</span> <span m='2252920'>million</span>
  <span m='2253130'>bytes</span> <span m='2253310'>in</span> <span m='2253400'>here.</span>
  </p><p><span m='2254270'>We</span> <span m='2254390'>just</span> <span m='2254510'>didn't</span>
  <span m='2254660'>tell</span> <span m='2257090'>the</span> <span m='2257210'>old</span>
  <span m='2257330'>software</span> <span m='2257690'>about</span> <span m='2257900'>all</span>
  <span m='2257990'>these</span> <span m='2258140'>extra</span> <span m='2258350'>bytes.</span>
  <span m='2259620'>So</span> <span m='2259640'>this</span> <span m='2259820'>is</span>
  <span m='2259910'>kind</span> <span m='2260120'>of</span> <span m='2260180'>an</span>
  <span m='2260270'>interesting</span> <span m='2262760'>thing</span> <span m='2262940'>you</span>
  <span m='2263000'>can do.</span> <span m='2263300'>So</span> <span m='2263540'>you</span>
  <span m='2263630'>can</span> <span m='2263750'>increase</span> <span m='2264170'>the</span>
  <span m='2264260'>transaction</span> <span m='2264830'>size</span> <span m='2266030'>without</span>
  <span m='2266270'>telling</span> <span m='2266600'>the</span> <span m='2266690'>old</span>
  <span m='2267210'>nodes.</span> <span m='2267890'>So</span> <span m='2270040'>yeah,</span>
  <span m='2270190'>the</span> <span m='2270280'>old</span> <span m='2270370'>nodes</span>
  <span m='2270610'>don't</span> <span m='2270760'>see</span> <span m='2271090'>the</span>
  <span m='2271570'>hundred</span> <span m='2271870'>something</span> <span m='2272050'>bytes</span>
  <span m='2272350'>with</span> <span m='2272500'>the</span> <span m='2272660'>pubkey</span>
  <span m='2273000'>signature.</span> <span m='2273870'>So</span> <span m='2274300'>they</span>
  <span m='2274480'>see</span> <span m='2274630'>transactions</span> <span m='2275230'>that</span>
  <span m='2275350'>are</span> <span m='2275410'>much</span> <span m='2275650'>smaller.</span>
  <span m='2276940'>Around</span> <span m='2277330'>half</span> <span m='2277570'>the</span>
  <span m='2277690'>size--</span> <span m='2278380'>depends,</span> <span m='2278770'>but</span>
  <span m='2279430'>half</span> <span m='2279610'>the</span> <span m='2279700'>size</span>
  <span m='2280030'>ish.</span> </p><p><span m='2281770'>So</span> <span m='2281920'>those</span>
  <span m='2282100'>bytes,</span> <span m='2282430'>they</span> <span m='2282550'>won't</span>
  <span m='2282760'>count</span> <span m='2283120'>those</span> <span m='2283810'>bites</span>
  <span m='2284260'>towards</span> <span m='2284800'>the</span> <span m='2284890'>one</span>
  <span m='2285070'>million</span> <span m='2285550'>byte</span> <span m='2286270'>block</span>
  <span m='2286600'>size</span> <span m='2286870'>limit.</span> <span m='2287890'>So</span>
  <span m='2288070'>this</span> <span m='2288280'>ends</span> <span m='2289090'>up</span>
  <span m='2289180'>being</span> <span m='2289660'>a</span> <span m='2289960'>soft</span>
  <span m='2290390'>fork</span> <span m='2290770'>that</span> <span m='2290920'>allows</span>
  <span m='2291310'>you</span> <span m='2291400'>to</span> <span m='2291490'>increase</span>
  <span m='2291880'>the</span> <span m='2291970'>block</span> <span m='2292180'>size.</span>
  <span m='2292960'>In</span> <span m='2293080'>a</span> <span m='2293140'>kind</span>
  <span m='2293350'>of</span> <span m='2293410'>sneaky</span> <span m='2293770'>way,</span>
  <span m='2293980'>right?</span> <span m='2294310'>The</span> <span m='2294490'>old</span>
  <span m='2294670'>nodes</span> <span m='2294910'>don't</span> <span m='2295120'>think</span>
  <span m='2295570'>the</span> <span m='2295660'>block</span> <span m='2295900'>size</span>
  <span m='2296130'>is</span> <span m='2296290'>increased.</span> <span m='2297190'>They</span>
  <span m='2297310'>think</span> <span m='2298300'>it's</span> <span m='2298480'>less</span>
  <span m='2298660'>than</span> <span m='2298780'>a</span> <span m='2298840'>megabyte,</span>
  <span m='2300630'>and</span> <span m='2300760'>they</span> <span m='2300850'>also</span>
  <span m='2301090'>think,</span> <span m='2301360'>this</span> <span m='2301540'>is</span>
  <span m='2301660'>weird.</span> <span m='2301930'>I</span> <span m='2302050'>haven't</span>
  <span m='2302320'>seen</span> <span m='2302500'>any</span> <span m='2302680'>signatures</span>
  <span m='2303190'>for</span> <span m='2303340'>a</span> <span m='2303420'>while.</span>
  </p><p><span m='2304210'>|</span> <span m='2304570'>seems</span> <span m='2304810'>to</span>
  <span m='2304900'>be</span> <span m='2305020'>using</span> <span m='2305590'>these</span>
  <span m='2306190'>transactions</span> <span m='2306760'>that</span> <span m='2306850'>don't</span>
  <span m='2307030'>require</span> <span m='2307420'>signatures,</span> <span m='2308020'>and</span>
  <span m='2308470'>somehow</span> <span m='2308800'>everyone's</span> <span m='2309130'>getting</span>
  <span m='2309340'>along</span> <span m='2310180'>and</span> <span m='2310300'>not</span>
  <span m='2310540'>stealing</span> <span m='2310870'>each</span> <span m='2310990'>other's</span>
  <span m='2311230'>money</span> <span m='2311530'>despite</span> <span m='2311860'>the</span>
  <span m='2313090'>lack</span> <span m='2313300'>of</span> <span m='2313390'>a</span>
  <span m='2313420'>need</span> <span m='2313570'>for</span> <span m='2313690'>signatures.</span>
  <span m='2314830'>But</span> <span m='2316330'>these</span> <span m='2316510'>are</span>
  <span m='2316600'>not</span> <span m='2316930'>intelligent</span> <span m='2317920'>people.</span>
  <span m='2318430'>These</span> <span m='2318670'>are</span> <span m='2318880'>software</span>
  <span m='2319300'>programs,</span> <span m='2319840'>and</span> <span m='2321190'>it'll</span>
  <span m='2321370'>just</span> <span m='2321490'>run.</span> <span m='2321820'>And</span>
  <span m='2321920'>it'll,</span> <span m='2322210'>OK,</span> <span m='2322510'>yup,</span>
  <span m='2322950'>yup, yup.</span> <span m='2323830'>This evaluates</span> <span
  m='2324280'>to</span> <span m='2324340'>true.</span> <span m='2326910'>So it's</span>
  <span m='2327010'>kind of cool.</span> <span m='2327430'>Block size</span> <span
  m='2327600'>entry</span> <span m='2327850'>softfork.</span> </p><p><span m='2329750'>However,</span>
  <span m='2330460'>you</span> <span m='2332080'>Institute</span> <span m='2332530'>a</span>
  <span m='2332590'>new</span> <span m='2332770'>rule</span> <span m='2333010'>with</span>
  <span m='2333130'>segwit.</span> <span m='2334450'>You</span> <span m='2334570'>don't</span>
  <span m='2334690'>want</span> <span m='2334840'>to</span> <span m='2334930'>just</span>
  <span m='2335050'>say</span> <span m='2337150'>for</span> <span m='2337720'>the</span>
  <span m='2337810'>new</span> <span m='2337960'>rules,</span> <span m='2338470'>we</span>
  <span m='2338650'>don't</span> <span m='2338860'>count</span> <span m='2339250'>signatures</span>
  <span m='2339760'>towards</span> <span m='2340000'>the</span> <span m='2340120'>one</span>
  <span m='2340270'>megabyte</span> <span m='2340570'>limit,</span> <span m='2340870'>right?</span>
  <span m='2341770'>You</span> <span m='2341860'>could</span> <span m='2342010'>do</span>
  <span m='2342130'>that,</span> <span m='2342370'>but</span> <span m='2342940'>then</span>
  <span m='2343090'>people</span> <span m='2343300'>might</span> <span m='2343480'>spam</span>
  <span m='2344470'>signatures.</span> <span m='2345310'>Let</span> <span m='2345430'>me</span>
  <span m='2345520'>make</span> <span m='2345700'>a</span> <span m='2345760'>giant</span>
  <span m='2346330'>signature</span> <span m='2346930'>or</span> <span m='2347020'>some</span>
  <span m='2347200'>kind</span> <span m='2347380'>of</span> <span m='2347470'>like</span>
  <span m='2347650'>50</span> <span m='2348010'>out</span> <span m='2348160'>of</span>
  <span m='2348250'>a</span> <span m='2348310'>million</span> <span m='2349180'>pubkeys</span>
  <span m='2350050'>thing</span> <span m='2350830'>and</span> <span m='2350950'>spam</span>
  <span m='2351220'>the</span> <span m='2351310'>network,</span> <span m='2352870'>and</span>
  <span m='2352990'>then</span> <span m='2353110'>it</span> <span m='2353170'>will</span>
  <span m='2353290'>still</span> <span m='2353590'>be</span> <span m='2353830'>under</span>
  <span m='2354310'>a</span> <span m='2354400'>megabyte</span> <span m='2354970'>of</span>
  <span m='2355180'>non</span> <span m='2355660'>witness</span> <span m='2356110'>data.</span>
  </p><p><span m='2357430'>So</span> <span m='2357580'>yes,</span> <span m='2357940'>so
  now I've</span> <span m='2358060'>got</span> <span m='2358180'>two</span> <span
  m='2358420'>classes</span> <span m='2358720'>of</span> <span m='2358810'>data.</span>
  <span m='2359020'>You've</span> <span m='2359100'>got</span> <span m='2359470'>all</span>
  <span m='2359590'>the</span> <span m='2359680'>data</span> <span m='2359920'>that</span>
  <span m='2360640'>everyone</span> <span m='2360970'>sees,</span> <span m='2361720'>and</span>
  <span m='2361870'>all</span> <span m='2361990'>the</span> <span m='2362170'>witness</span>
  <span m='2362590'>data</span> <span m='2362860'>that</span> <span m='2362980'>only</span>
  <span m='2363280'>the</span> <span m='2363370'>new</span> <span m='2363580'>nodes</span>
  <span m='2363820'>see.</span> <span m='2365050'>So</span> <span m='2366340'>what</span>
  <span m='2366460'>they</span> <span m='2366580'>did</span> <span m='2366730'>is</span>
  <span m='2366820'>they</span> <span m='2366910'>said,</span> <span m='2367060'>OK,</span>
  <span m='2367570'>the</span> <span m='2367720'>witness</span> <span m='2368110'>data</span>
  <span m='2368350'>still</span> <span m='2368650'>counts</span> <span m='2369160'>towards</span>
  <span m='2369490'>that</span> <span m='2369700'>limit.</span> <span m='2370460'>But</span>
  <span m='2371080'>each</span> <span m='2371290'>witness</span> <span m='2371590'>byte</span>
  <span m='2371800'>counts</span> <span m='2372070'>as</span> <span m='2372190'>a</span>
  <span m='2372250'>1/4</span> <span m='2373000'>of</span> <span m='2373120'>a</span>
  <span m='2373150'>regular</span> <span m='2373510'>byte.</span> <span m='2374800'>OK,</span>
  <span m='2376390'>kind</span> <span m='2376550'>of</span> <span m='2376600'>weird,</span>
  <span m='2376940'>but yeah.</span> </p><p><span m='2377290'>So</span> <span m='2377890'>in</span>
  <span m='2378040'>practice</span> <span m='2378400'>in</span> <span m='2378490'>the</span>
  <span m='2378550'>software,</span> <span m='2378970'>what</span> <span m='2379090'>they</span>
  <span m='2379210'>do</span> <span m='2379360'>is</span> <span m='2379450'>they</span>
  <span m='2379540'>say,</span> <span m='2379760'>OK.</span> <span m='2380650'>We</span>
  <span m='2380800'>multiply</span> <span m='2382480'>the</span> <span m='2382600'>non</span>
  <span m='2382930'>witness</span> <span m='2383260'>bytes</span> <span m='2383530'>by</span>
  <span m='2383680'>four.</span> <span m='2385240'>So</span> <span m='2385420'>every</span>
  <span m='2386740'>byte in</span> <span m='2386800'>the</span> <span m='2386890'>outputs</span>
  <span m='2387310'>and</span> <span m='2387400'>every</span> <span m='2387550'>byte</span>
  <span m='2387760'>in</span> <span m='2387850'>the</span> <span m='2387930'>txid</span>
  <span m='2388660'>input</span> <span m='2389020'>things</span> <span m='2389620'>counts
  as</span> <span m='2390010'>like</span> <span m='2390130'>four</span> <span m='2390340'>bytes.</span>
  <span m='2391090'>And</span> <span m='2391240'>then,</span> <span m='2391840'>the</span>
  <span m='2391930'>witnesses</span> <span m='2392320'>just</span> <span m='2392470'>count</span>
  <span m='2392650'>as</span> <span m='2392740'>one</span> <span m='2392920'>regular</span>
  <span m='2393250'>byte.</span> <span m='2393790'>And</span> <span m='2393910'>then</span>
  <span m='2394090'>we</span> <span m='2394210'>now</span> <span m='2394390'>say,</span>
  <span m='2394660'>OK,</span> <span m='2394870'>the</span> <span m='2394960'>new</span>
  <span m='2395200'>block</span> <span m='2395470'>size</span> <span m='2395830'>is</span>
  <span m='2395980'>four</span> <span m='2396190'>million</span> <span m='2396490'>bytes.</span>
  </p><p><span m='2398000'>But</span> <span m='2399800'>four</span> <span m='2400070'>million</span>
  <span m='2400690'>weight</span> <span m='2401060'>units,</span> <span m='2401730'>because</span>
  <span m='2401860'>they're</span> <span m='2401980'>sort of,</span> <span m='2402200'>OK,</span>
  <span m='2402410'>we've</span> <span m='2403040'>got</span> <span m='2403160'>different</span>
  <span m='2403400'>weights</span> <span m='2403820'>for</span> <span m='2403940'>things.</span>
  <span m='2404780'>This</span> <span m='2405020'>actually</span> <span m='2405380'>makes</span>
  <span m='2405680'>sense,</span> <span m='2406160'>because</span> <span m='2409220'>the</span>
  <span m='2409340'>utxo</span> <span m='2409760'>set</span> <span m='2409920'>is</span>
  <span m='2410300'>what</span> <span m='2410420'>you</span> <span m='2410780'>really</span>
  <span m='2411080'>want</span> <span m='2411200'>to</span> <span m='2411260'>minimize,</span>
  <span m='2411980'>that</span> <span m='2412130'>database</span> <span m='2412580'>we</span>
  <span m='2412670'>keep</span> <span m='2412880'>updating</span> <span m='2413360'>every</span>
  <span m='2413570'>block.</span> <span m='2414560'>And</span> <span m='2415460'>the</span>
  <span m='2415550'>signatures</span> <span m='2416060'>don't</span> <span m='2416330'>go</span>
  <span m='2416540'>into</span> <span m='2416750'>the</span> <span m='2416840'>utxo</span>
  <span m='2417270'>set.</span> <span m='2418190'>So</span> <span m='2418280'>the</span>
  <span m='2418400'>signatures</span> <span m='2418970'>you</span> <span m='2419030'>don't</span>
  <span m='2419210'>actually</span> <span m='2419600'>have</span> <span m='2419750'>to</span>
  <span m='2419870'>store</span> <span m='2420290'>on</span> <span m='2420800'>a</span>
  <span m='2421040'>fast,</span> <span m='2421590'>low</span> <span m='2421670'>latency</span>
  <span m='2422030'>storage.</span> </p><p><span m='2423600'>So</span> <span m='2424010'>in</span>
  <span m='2424940'>a</span> <span m='2424970'>very</span> <span m='2425210'>real</span>
  <span m='2425420'>sense,</span> <span m='2425660'>the</span> <span m='2425750'>signatures</span>
  <span m='2426200'>are</span> <span m='2426290'>sort</span> <span m='2426440'>of</span>
  <span m='2426560'>OK</span> <span m='2427250'>to</span> <span m='2427430'>make</span>
  <span m='2427670'>bigger.</span> <span m='2428570'>They</span> <span m='2428660'>don't</span>
  <span m='2428840'>really</span> <span m='2429110'>cost</span> <span m='2429620'>as</span>
  <span m='2429710'>much</span> <span m='2429950'>to</span> <span m='2430100'>the</span>
  <span m='2430190'>network</span> <span m='2430520'>to</span> <span m='2430610'>store.</span>
  <span m='2431690'>So</span> <span m='2432200'>having</span> <span m='2432650'>this</span>
  <span m='2432860'>discount</span> <span m='2433370'>where</span> <span m='2433460'>you</span>
  <span m='2433520'>say,</span> <span m='2433770'>OK,</span> <span m='2434150'>the</span>
  <span m='2434660'>signatures,</span> <span m='2435320'>you</span> <span m='2435590'>can</span>
  <span m='2435740'>have</span> <span m='2435860'>a</span> <span m='2435920'>bunch</span>
  <span m='2436190'>of</span> <span m='2436280'>them</span> <span m='2436730'>that
  doesn't</span> <span m='2436940'>really</span> <span m='2437090'>count</span> <span
  m='2437300'>as</span> <span m='2437390'>much.</span> <span m='2437960'>But</span>
  <span m='2438140'>the</span> <span m='2438260'>outputs</span> <span m='2439000'>we</span>
  <span m='2439150'>really</span> <span m='2439370'>need</span> <span m='2439490'>to</span>
  <span m='2439980'>minimize.</span> <span m='2441160'>So</span> <span m='2441680'>this</span>
  <span m='2441920'>one</span> <span m='2442200'>fourth</span> <span m='2442490'>is</span>
  <span m='2442790'>somewhat</span> <span m='2443270'>arbitrary,</span> <span m='2444440'>but</span>
  <span m='2444740'>there</span> <span m='2444950'>are</span> <span m='2444980'>some</span>
  <span m='2445160'>calculations</span> <span m='2445860'>and</span> <span m='2446120'>a</span>
  <span m='2446180'>little</span> <span m='2446390'>handwaving.</span> <span m='2446950'>But
  it's like</span> <span m='2447230'>yeah,</span> <span m='2447370'>this is</span>
  <span m='2447460'>about</span> <span m='2447710'>what</span> <span m='2447860'>it</span>
  <span m='2447950'>should</span> <span m='2448070'>be</span> <span m='2449330'>to</span>
  <span m='2449780'>try</span> <span m='2449960'>to</span> <span m='2450050'>balance</span>
  <span m='2451070'>things.</span> </p><p><span m='2452520'>So</span> <span m='2452680'>the</span>
  <span m='2452780'>end</span> <span m='2452930'>result.</span> <span m='2454110'>If</span>
  <span m='2454450'>you</span> <span m='2454580'>have</span> <span m='2454680'>this</span>
  <span m='2454970'>discount,</span> <span m='2455450'>you</span> <span m='2455570'>can</span>
  <span m='2455720'>put</span> <span m='2455930'>about</span> <span m='2456290'>80%</span>
  <span m='2456950'>more</span> <span m='2457100'>transactions</span> <span m='2457750'>in</span>
  <span m='2457820'>a</span> <span m='2457880'>block.</span> <span m='2458510'>You</span>
  <span m='2458810'>get</span> <span m='2458960'>about</span> <span m='2459560'>1.8</span>
  <span m='2460250'>megs.</span> <span m='2461060'>It</span> <span m='2461180'>depends,</span>
  <span m='2461610'>right?</span> <span m='2461780'>It</span> <span m='2461840'>depends</span>
  <span m='2462110'>how</span> <span m='2462230'>big</span> <span m='2462380'>your</span>
  <span m='2462470'>signatures</span> <span m='2462920'>are.</span> <span m='2465750'>So</span>
  <span m='2465930'>the</span> <span m='2466020'>maximum</span> <span m='2466620'>would</span>
  <span m='2466770'>be</span> <span m='2466890'>you</span> <span m='2467040'>have</span>
  <span m='2467160'>a</span> <span m='2467550'>block</span> <span m='2468120'>that</span>
  <span m='2468360'>has</span> <span m='2469620'>one</span> <span m='2470700'>transaction</span>
  <span m='2471450'>with</span> <span m='2471990'>just</span> <span m='2472350'>a</span>
  <span m='2472410'>giant</span> <span m='2472890'>signature</span> <span m='2473340'>that's</span>
  <span m='2473490'>like</span> <span m='2473670'>almost</span> <span m='2473940'>four</span>
  <span m='2474090'>megabytes.</span> <span m='2475330'>And</span> <span m='2475500'>the</span>
  <span m='2475710'>old</span> <span m='2475980'>software</span> <span m='2476340'>would</span>
  <span m='2476490'>see</span> <span m='2476880'>this</span> <span m='2477090'>block</span>
  <span m='2477390'>as</span> <span m='2477510'>being</span> <span m='2477900'>really</span>
  <span m='2478140'>tiny,</span> <span m='2478590'>like</span> <span m='2478770'>100</span>
  <span m='2479010'>something</span> <span m='2479280'>bytes.</span> <span m='2480030'>And</span>
  <span m='2480180'>the</span> <span m='2480240'>new</span> <span m='2480420'>software</span>
  <span m='2480780'>would</span> <span m='2480860'>see,</span> <span m='2480990'>oh</span>
  <span m='2481110'>yeah,</span> <span m='2481260'>this</span> <span m='2481410'>block</span>
  <span m='2481680'>is</span> <span m='2481860'>almost</span> <span m='2482100'>four</span>
  <span m='2482220'>megabytes.</span> </p><p><span m='2483990'>But</span> <span m='2484320'>that's</span>
  <span m='2484560'>sort</span> <span m='2484710'>of</span> <span m='2484770'>the</span>
  <span m='2484890'>extreme</span> <span m='2485220'>case.</span> <span m='2485730'>I</span>
  <span m='2486330'>remember</span> <span m='2486660'>generating</span> <span m='2487110'>some</span>
  <span m='2487260'>like</span> <span m='2487410'>3.7</span> <span m='2488340'>meg</span>
  <span m='2488550'>transaction</span> <span m='2489420'>blocks</span> <span m='2489930'>and</span>
  <span m='2490320'>testing</span> <span m='2490580'>that</span> <span m='2490710'>awhile</span>
  <span m='2490980'>ago</span> <span m='2491520'>just</span> <span m='2491740'>to</span>
  <span m='2492120'>test</span> <span m='2492360'>it</span> <span m='2492450'>out.</span>
  <span m='2492810'>It</span> <span m='2493050'>works,</span> <span m='2493390'>but</span>
  <span m='2493830'>in</span> <span m='2493950'>practice</span> <span m='2494400'>you're</span>
  <span m='2494490'>seeing</span> <span m='2494760'>about</span> <span m='2494970'>this.</span>
  <span m='2495710'>In</span> <span m='2495930'>practice</span> <span m='2496290'>today,</span>
  <span m='2496710'>as</span> <span m='2497080'>segwit</span> <span m='2497550'>has
  been</span> <span m='2498330'>seeing</span> <span m='2498600'>more</span> <span
  m='2498720'>adoption,</span> <span m='2499860'>you</span> <span m='2499980'>see</span>
  <span m='2500160'>like</span> <span m='2500340'>1.3</span> <span m='2501090'>megabyte</span>
  <span m='2501510'>blocks.</span> <span m='2502410'>Not</span> <span m='2502620'>everyone's</span>
  <span m='2502920'>using</span> <span m='2503220'>it.</span> <span m='2504240'>The</span>
  <span m='2504360'>idea</span> <span m='2504570'>is</span> <span m='2504740'>it's</span>
  <span m='2505080'>backwards</span> <span m='2505380'>compatible,</span> <span m='2505740'>but
  you</span> <span m='2505800'>can</span> <span m='2505920'>still</span> <span m='2506130'>use</span>
  <span m='2506280'>your</span> <span m='2506370'>old</span> <span m='2506490'>software.</span>
  </p><p><span m='2507330'>But</span> <span m='2507900'>it</span> <span m='2508020'>seems</span>
  <span m='2508260'>like</span> <span m='2508380'>more</span> <span m='2508560'>and</span>
  <span m='2508650'>more</span> <span m='2508830'>software</span> <span m='2509130'>is</span>
  <span m='2509220'>using</span> <span m='2509460'>this.</span> <span m='2511020'>You</span>
  <span m='2511140'>get</span> <span m='2511260'>a</span> <span m='2511320'>discount</span>
  <span m='2512100'>on</span> <span m='2512250'>your</span> <span m='2512370'>fees</span>
  <span m='2512970'>because</span> <span m='2513300'>your</span> <span m='2513510'>transaction</span>
  <span m='2514500'>seems</span> <span m='2514770'>to</span> <span m='2514860'>be</span>
  <span m='2514950'>smaller.</span> <span m='2515670'>You</span> <span m='2515760'>can</span>
  <span m='2515880'>fit</span> <span m='2516030'>more</span> <span m='2516180'>of</span>
  <span m='2516270'>them in</span> <span m='2516300'>a</span> <span m='2516480'>block.</span>
  <span m='2517560'>So</span> <span m='2517650'>that's</span> <span m='2517740'>kind</span>
  <span m='2517890'>of</span> <span m='2517950'>cool,</span> <span m='2518420'>and</span>
  <span m='2518550'>that's</span> <span m='2518670'>sort</span> <span m='2518820'>of</span>
  <span m='2518910'>an</span> <span m='2518970'>incentive</span> <span m='2519300'>to</span>
  <span m='2519390'>use</span> <span m='2519500'>it.</span> <span m='2522410'>OK,</span>
  <span m='2522970'>other</span> <span m='2523210'>thing</span> <span m='2523420'>you</span>
  <span m='2523540'>can</span> <span m='2523690'>do.</span> <span m='2524320'>You</span>
  <span m='2524560'>can</span> <span m='2525340'>commit</span> <span m='2525820'>to</span>
  <span m='2525970'>signatures.</span> <span m='2527020'>This</span> <span m='2527260'>is</span>
  <span m='2527380'>a</span> <span m='2527440'>little</span> <span m='2527590'>tricky.</span>
  </p><p><span m='2529570'>If</span> <span m='2529660'>the</span> <span m='2529750'>signatures</span>
  <span m='2530350'>aren't</span> <span m='2530560'>in</span> <span m='2530680'>the</span>
  <span m='2530740'>transaction</span> <span m='2531280'>ID,</span> <span m='2532390'>then</span>
  <span m='2532570'>they</span> <span m='2532750'>aren't</span> <span m='2532990'>in</span>
  <span m='2533110'>the</span> <span m='2533200'>merkle</span> <span m='2533590'>route,</span>
  <span m='2533830'>right?</span> <span m='2535330'>So</span> <span m='2535510'>there's</span>
  <span m='2535720'>nothing</span> <span m='2536110'>really</span> <span m='2536440'>committing</span>
  <span m='2537100'>the</span> <span m='2537250'>signatures</span> <span m='2537850'>into</span>
  <span m='2538120'>the</span> <span m='2538250'>block chain.</span> <span m='2539410'>And</span>
  <span m='2540700'>this</span> <span m='2540850'>would</span> <span m='2540970'>actually</span>
  <span m='2541300'>work.</span> <span m='2541630'>You</span> <span m='2541720'>could</span>
  <span m='2541870'>say,</span> <span m='2541990'>no,</span> <span m='2542170'>I</span>
  <span m='2542320'>have</span> <span m='2542620'>a</span> <span m='2542680'>signature.</span>
  <span m='2543070'>I'll</span> <span m='2543130'>give</span> <span m='2543340'>it</span>
  <span m='2543400'>to</span> <span m='2543460'>you,</span> <span m='2544070'>but</span>
  <span m='2544630'>it</span> <span m='2544780'>could</span> <span m='2545110'>change.</span>
  <span m='2546430'>It</span> <span m='2546580'>could be</span> <span m='2546720'>maleated,</span>
  <span m='2547610'>so</span> <span m='2548110'>it</span> <span m='2548170'>could</span>
  <span m='2548320'>be</span> <span m='2548410'>weird,</span> <span m='2548680'>though.</span>
  <span m='2549100'>You</span> <span m='2549220'>could</span> <span m='2549370'>agree</span>
  <span m='2549610'>on</span> <span m='2549730'>a</span> <span m='2549790'>utxo</span>
  <span m='2550160'>set,</span> <span m='2550840'>but</span> <span m='2550990'>you</span>
  <span m='2551050'>could</span> <span m='2551230'>disagree</span> <span m='2551770'>on</span>
  <span m='2551920'>how</span> <span m='2552220'>exactly</span> <span m='2552610'>you</span>
  <span m='2552730'>got</span> <span m='2552970'>there.</span> </p><p><span m='2553630'>So</span>
  <span m='2553840'>one</span> <span m='2554020'>example</span> <span m='2554440'>would</span>
  <span m='2554650'>be</span> <span m='2556300'>multisig,</span> <span m='2557230'>where</span>
  <span m='2557470'>there's</span> <span m='2557680'>two</span> <span m='2557890'>of</span>
  <span m='2557980'>three</span> <span m='2558160'>multisig,</span> <span m='2558730'>Alice,</span>
  <span m='2559130'>Bob</span> <span m='2559270'>and</span> <span m='2559360'>Carol.</span>
  <span m='2560020'>Two</span> <span m='2560200'>of</span> <span m='2560290'>them</span>
  <span m='2560440'>need</span> <span m='2560590'>to</span> <span m='2560680'>sign.</span>
  <span m='2561610'>And</span> <span m='2561790'>then</span> <span m='2562000'>on</span>
  <span m='2562120'>my</span> <span m='2562300'>computer,</span> <span m='2562750'>it</span>
  <span m='2562840'>says</span> <span m='2563020'>that</span> <span m='2563140'>Alice</span>
  <span m='2563350'>and</span> <span m='2563440'>Bob</span> <span m='2563620'>signed,</span>
  <span m='2564390'>and</span> <span m='2564610'>on</span> <span m='2564700'>your</span>
  <span m='2564820'>computer,</span> <span m='2565120'>it</span> <span m='2565210'>says</span>
  <span m='2565420'>that</span> <span m='2565870'>Alison</span> <span m='2566170'>and
  Carol</span> <span m='2566410'>signed.</span> <span m='2567550'>That's</span> <span
  m='2567790'>weird,</span> <span m='2568300'>right?</span> <span m='2569740'>For</span>
  <span m='2569890'>accountability.</span> <span m='2570640'>If</span> <span m='2570700'>we</span>
  <span m='2570820'>want</span> <span m='2570970'>to</span> <span m='2571030'>know</span>
  <span m='2571210'>who</span> <span m='2571900'>exactly</span> <span m='2572320'>endorsed</span>
  <span m='2572650'>these</span> <span m='2572860'>things,</span> <span m='2573850'>we</span>
  <span m='2574000'>might</span> <span m='2574180'>disagree</span> <span m='2574600'>on</span>
  <span m='2574720'>it.</span> <span m='2575550'>There</span> <span m='2575980'>would</span>
  <span m='2576130'>be</span> <span m='2576250'>no</span> <span m='2576580'>canonical</span>
  <span m='2577540'>here's</span> <span m='2577810'>the</span> <span m='2577900'>blockchain,</span>
  <span m='2578290'>here's</span> <span m='2578560'>who</span> <span m='2578650'>signed.</span>
  </p><p><span m='2579580'>The</span> <span m='2579670'>transactions</span> <span
  m='2580210'>themselves</span> <span m='2580660'>would</span> <span m='2580750'>all</span>
  <span m='2580900'>still</span> <span m='2581080'>be</span> <span m='2581170'>the</span>
  <span m='2581260'>same</span> <span m='2581620'>but</span> <span m='2581770'>not</span>
  <span m='2582280'>the</span> <span m='2582340'>signatures.</span> <span m='2583430'>So</span>
  <span m='2583450'>that's</span> <span m='2583630'>kind</span> <span m='2583840'>of</span>
  <span m='2583900'>weird,</span> <span m='2584620'>but</span> <span m='2585040'>it</span>
  <span m='2585550'>also</span> <span m='2585820'>seems</span> <span m='2586120'>like</span>
  <span m='2586270'>well,</span> <span m='2586480'>maybe</span> <span m='2586780'>that's</span>
  <span m='2587170'>part</span> <span m='2587440'>of</span> <span m='2587500'>the</span>
  <span m='2587590'>price</span> <span m='2587830'>you</span> <span m='2587920'>pay</span>
  <span m='2588220'>for</span> <span m='2589390'>fixing</span> <span m='2589810'>malleability</span>
  <span m='2590380'>in</span> <span m='2590470'>this</span> <span m='2590620'>way.</span>
  <span m='2591100'>If</span> <span m='2591850'>we're</span> <span m='2591940'>not</span>
  <span m='2592180'>putting</span> <span m='2592600'>the</span> <span m='2592690'>signatures</span>
  <span m='2593440'>into</span> <span m='2593770'>the</span> <span m='2594520'>thing</span>
  <span m='2594820'>that</span> <span m='2594940'>gets</span> <span m='2595150'>committed</span>
  <span m='2595420'>to</span> <span m='2595540'>in</span> <span m='2595600'>the</span>
  <span m='2595660'>block chain,</span> <span m='2596210'>then</span> <span m='2596625'>yeah,</span>
  <span m='2598370'>signatures</span> <span m='2598880'>can</span> <span m='2599000'>change.</span>
  <span m='2600170'>So</span> <span m='2600620'>anyway</span> <span m='2600920'>around</span>
  <span m='2601190'>this?</span> </p><p><span m='2603960'>It</span> <span m='2604080'>sort</span>
  <span m='2604290'>of</span> <span m='2604380'>seems</span> <span m='2604650'>like</span>
  <span m='2604800'>yeah,</span> <span m='2605070'>that's</span> <span m='2605340'>the</span>
  <span m='2605430'>trade</span> <span m='2605720'>off.</span> <span m='2608060'>Sneaky</span>
  <span m='2608280'>way</span> <span m='2608460'>around</span> <span m='2608670'>it?</span>
  <span m='2609700'>Sneaky</span> <span m='2609850'>fun?</span> <span m='2610306'>No?</span>
  <span m='2611220'>You</span> <span m='2611460'>know.</span> <span m='2613420'>OK,</span>
  <span m='2613890'>so</span> <span m='2614250'>what</span> <span m='2614430'>you</span>
  <span m='2614490'>do</span> <span m='2614700'>actually,</span> <span m='2620600'>you</span>
  <span m='2620690'>commit</span> <span m='2620800'>the</span> <span m='2620990'>signatures</span>
  <span m='2621410'>but</span> <span m='2621530'>in</span> <span m='2621590'>a</span>
  <span m='2621620'>weird</span> <span m='2621800'>way.</span> <span m='2621970'>OK,</span>
  <span m='2622250'>so here's</span> <span m='2622430'>the</span> <span m='2622490'>regular</span>
  <span m='2622880'>old</span> <span m='2623090'>merkle</span> <span m='2623360'>tree,</span>
  <span m='2623540'>right?</span> <span m='2624350'>This</span> <span m='2624560'>is</span>
  <span m='2624710'>the</span> <span m='2624800'>merkle</span> <span m='2625100'>route</span>
  <span m='2626380'>that</span> <span m='2626480'>you</span> <span m='2626570'>put</span>
  <span m='2626720'>in</span> <span m='2626780'>the</span> <span m='2626840'>header.</span>
  <span m='2627570'>Here's</span> <span m='2627950'>all</span> <span m='2628220'>the</span>
  <span m='2628400'>transaction</span> <span m='2629010'>IDs,</span> <span m='2630710'>and</span>
  <span m='2630950'>so</span> <span m='2631100'>you</span> <span m='2631220'>make</span>
  <span m='2631400'>these</span> <span m='2631580'>intermediate</span> <span m='2632060'>hashes.</span>
  <span m='2633140'>This</span> <span m='2633290'>is</span> <span m='2633380'>the</span>
  <span m='2633470'>hash</span> <span m='2633800'>of</span> <span m='2633920'>these</span>
  <span m='2634130'>two</span> <span m='2634250'>things</span> <span m='2634490'>concatenated</span>
  <span m='2634970'>together,</span> <span m='2635570'>this</span> <span m='2635800'>is</span>
  <span m='2635930'>the</span> <span m='2636050'>hash</span> <span m='2636320'>of</span>
  <span m='2636380'>these</span> <span m='2636770'>two things</span> <span m='2637130'>concatenated</span>
  <span m='2637550'>together.</span> </p><p><span m='2640010'>Now,</span> <span m='2640130'>if</span>
  <span m='2640190'>the</span> <span m='2640280'>txids</span> <span m='2640760'>don't</span>
  <span m='2640880'>have</span> <span m='2640970'>signatures,</span> <span m='2642650'>there's</span>
  <span m='2642800'>no</span> <span m='2643220'>commitment</span> <span m='2643670'>to</span>
  <span m='2643820'>the</span> <span m='2643940'>signatures</span> <span m='2644420'>in</span>
  <span m='2644840'>the</span> <span m='2645020'>top</span> <span m='2645290'>hash.</span>
  <span m='2646000'>What</span> <span m='2646320'>you</span> <span m='2646390'>do</span>
  <span m='2646580'>is this.</span> <span m='2647445'>You</span> <span m='2647870'>say,</span>
  <span m='2648020'>OK.</span> <span m='2648920'>I'm</span> <span m='2649130'>going</span>
  <span m='2649370'>to</span> <span m='2649460'>make</span> <span m='2649670'>these</span>
  <span m='2649880'>new</span> <span m='2650420'>witness</span> <span m='2650860'>txids,</span>
  <span m='2652190'>hashes</span> <span m='2652640'>of</span> <span m='2653030'>transactions</span>
  <span m='2653690'>that</span> <span m='2653900'>do</span> <span m='2654380'>include</span>
  <span m='2654830'>the</span> <span m='2654920'>signatures.</span> <span m='2656330'>In</span>
  <span m='2656480'>practice,</span> <span m='2656900'>you</span> <span m='2656960'>could</span>
  <span m='2657080'>just</span> <span m='2657260'>make</span> <span m='2657440'>a</span>
  <span m='2657500'>hash</span> <span m='2657770'>of</span> <span m='2657860'>just</span>
  <span m='2658090'>the</span> <span m='2658190'>signatures.</span> <span m='2658820'>That</span>
  <span m='2658970'>would</span> <span m='2659090'>also</span> <span m='2659360'>work.</span>
  <span m='2659930'>They</span> <span m='2660170'>just</span> <span m='2660800'>take</span>
  <span m='2661040'>the</span> <span m='2661100'>whole</span> <span m='2661220'>thing.</span>
  </p><p><span m='2662960'>And</span> <span m='2663080'>now</span> <span m='2663230'>I've</span>
  <span m='2663350'>got</span> <span m='2663500'>this</span> <span m='2665000'>other</span>
  <span m='2665930'>reflected</span> <span m='2667100'>merkle</span> <span m='2667460'>tree</span>
  <span m='2667670'>kind</span> <span m='2667910'>of</span> <span m='2668000'>thing,</span>
  <span m='2668220'>where</span> <span m='2668420'>OK,</span> <span m='2669080'>I</span>
  <span m='2669170'>take</span> <span m='2669380'>the</span> <span m='2669470'>hash</span>
  <span m='2670100'>of</span> <span m='2670250'>these</span> <span m='2670490'>two</span>
  <span m='2671150'>witness</span> <span m='2672290'>transaction</span> <span m='2672770'>IDs,</span>
  <span m='2673070'>put</span> <span m='2673250'>it</span> <span m='2673310'>here,</span>
  <span m='2674060'>and</span> <span m='2674150'>this</span> <span m='2674300'>one</span>
  <span m='2674450'>just</span> <span m='2674660'>drops</span> <span m='2674930'>down.</span>
  <span m='2675770'>It's</span> <span m='2676040'>another</span> <span m='2676340'>merkle</span>
  <span m='2676640'>tree,</span> <span m='2677450'>and</span> <span m='2677540'>then</span>
  <span m='2677660'>you</span> <span m='2677720'>get</span> <span m='2677870'>a</span>
  <span m='2677930'>root</span> <span m='2678860'>for</span> <span m='2679040'>all</span>
  <span m='2679160'>those</span> <span m='2679430'>things</span> <span m='2679970'>called</span>
  <span m='2680150'>the</span> <span m='2680240'>witness</span> <span m='2680600'>root.</span>
  <span m='2681500'>And</span> <span m='2681590'>then</span> <span m='2681680'>what</span>
  <span m='2681770'>you</span> <span m='2681830'>do</span> <span m='2682400'>is</span>
  <span m='2682580'>you</span> <span m='2682670'>put</span> <span m='2682850'>the</span>
  <span m='2682940'>witness</span> <span m='2683330'>root</span> <span m='2683900'>in</span>
  <span m='2684200'>the</span> <span m='2684290'>coinbase</span> <span m='2684650'>transaction.</span>
  </p><p><span m='2686420'>Put</span> <span m='2686570'>in</span> <span m='2686690'>an</span>
  <span m='2686810'>opp return.</span> <span m='2687710'>And</span> <span m='2689120'>the</span>
  <span m='2689260'>idea</span> <span m='2689410'>is</span> <span m='2689480'>the</span>
  <span m='2689570'>coinbase</span> <span m='2689960'>transaction</span> <span m='2690410'>doesn't</span>
  <span m='2690620'>have</span> <span m='2690740'>any</span> <span m='2690860'>signatures</span>
  <span m='2691280'>anyway,</span> <span m='2691760'>right?</span> <span m='2692390'>So</span>
  <span m='2693740'>you</span> <span m='2693860'>can</span> <span m='2693950'>put</span>
  <span m='2694130'>it</span> <span m='2694220'>in</span> <span m='2694340'>there.</span>
  <span m='2695720'>You</span> <span m='2695840'>don't</span> <span m='2696020'>need</span>
  <span m='2696350'>to</span> <span m='2696530'>include</span> <span m='2697430'>the</span>
  <span m='2697880'>transaction</span> <span m='2698600'>zero</span> <span m='2699560'>in</span>
  <span m='2699860'>this</span> <span m='2700340'>witness</span> <span m='2700700'>tree.</span>
  <span m='2701415'>Wait,</span> <span m='2702140'>they</span> <span m='2702290'>do</span>
  <span m='2702500'>though,</span> <span m='2702650'>right?</span> <span m='2704180'>But</span>
  <span m='2707210'>maybe</span> <span m='2707420'>this</span> <span m='2707540'>is</span>
  <span m='2707600'>slightly</span> <span m='2707920'>inaccurate</span> <span m='2708410'>in
  that</span> <span m='2708830'>I</span> <span m='2708920'>think</span> <span m='2709220'>they</span>
  <span m='2709340'>actually</span> <span m='2709700'>do</span> <span m='2710090'>make</span>
  <span m='2710510'>a</span> <span m='2710570'>witness</span> <span m='2711110'>txid</span>
  <span m='2712430'>for</span> <span m='2712730'>the</span> <span m='2712820'>coinbase</span>
  <span m='2713210'>transaction,</span> <span m='2713660'>but</span> <span m='2713780'>they</span>
  <span m='2713900'>define</span> <span m='2714350'>it</span> <span m='2714470'>as</span>
  <span m='2714650'>being</span> <span m='2714890'>zero</span> <span m='2715640'>or</span>
  <span m='2715730'>something.</span> <span m='2718264'>I think-- I don't</span> <span
  m='2718725'>remember.</span> </p><p><span m='2720110'>So</span> <span m='2720160'>it's</span>
  <span m='2720460'>weird,</span> <span m='2720670'>right?</span> <span m='2720910'>But</span>
  <span m='2722200'>you</span> <span m='2722350'>could</span> <span m='2722470'>do</span>
  <span m='2722620'>that.</span> <span m='2724010'>They</span> <span m='2724140'>define</span>
  <span m='2724390'>a</span> <span m='2724450'>zero,</span> <span m='2724780'>or</span>
  <span m='2724840'>they</span> <span m='2724960'>let</span> <span m='2725220'>you</span>
  <span m='2725500'>pick</span> <span m='2725770'>anything</span> <span m='2726070'>you</span>
  <span m='2726160'>want.</span> <span m='2726500'>I</span> <span m='2726870'>would</span>
  <span m='2727030'>have to</span> <span m='2727090'>look</span> <span m='2727290'>at
  the code.</span> <span m='2727940'>But</span> <span m='2728080'>anyway,</span> <span
  m='2729220'>the</span> <span m='2729370'>basic</span> <span m='2729760'>idea</span>
  <span m='2730180'>is</span> <span m='2730930'>for</span> <span m='2731110'>these</span>
  <span m='2731380'>anyway,</span> <span m='2732100'>you</span> <span m='2732430'>take</span>
  <span m='2732700'>the</span> <span m='2732790'>hash</span> <span m='2733030'>of</span>
  <span m='2733090'>the</span> <span m='2733180'>whole</span> <span m='2733330'>thing</span>
  <span m='2733790'>including</span> <span m='2734080'>the</span> <span m='2734170'>signatures,</span>
  <span m='2734950'>put</span> <span m='2735160'>it</span> <span m='2735220'>in</span>
  <span m='2735310'>the</span> <span m='2735370'>witness</span> <span m='2735660'>root,</span>
  <span m='2736330'>put</span> <span m='2736540'>the</span> <span m='2736630'>witness</span>
  <span m='2736960'>root</span> <span m='2737260'>in</span> <span m='2737350'>the</span>
  <span m='2737440'>coinbase</span> <span m='2737800'>transaction,</span> <span m='2738790'>and</span>
  <span m='2738880'>the</span> <span m='2738970'>coinbase</span> <span m='2739170'>this</span>
  <span m='2739300'>transaction</span> <span m='2740230'>gets</span> <span m='2740710'>in</span>
  <span m='2740970'>to</span> <span m='2741230'>the</span> <span m='2741310'>merkle
  root.</span> <span m='2742420'>So</span> <span m='2742540'>you</span> <span m='2742870'>are</span>
  <span m='2743170'>committing</span> <span m='2743770'>to</span> <span m='2744190'>all</span>
  <span m='2744370'>the</span> <span m='2744460'>signatures</span> <span m='2745570'>but</span>
  <span m='2745810'>on</span> <span m='2745930'>the</span> <span m='2746020'>block</span>
  <span m='2746410'>level,</span> <span m='2746980'>not</span> <span m='2747190'>the</span>
  <span m='2747250'>transaction</span> <span m='2747820'>level.</span> </p><p><span
  m='2749380'>So</span> <span m='2750520'>in the</span> <span m='2750640'>case</span>
  <span m='2750910'>where</span> <span m='2752400'>I</span> <span m='2752470'>think</span>
  <span m='2752650'>Alice</span> <span m='2752830'>and</span> <span m='2752920'>Bob</span>
  <span m='2753130'>signed.</span> <span m='2753750'>Oh,</span> <span m='2753910'>I</span>
  <span m='2754000'>think</span> <span m='2754390'>Alice and</span> <span m='2754690'>Carol</span>
  <span m='2754930'>signed.</span> <span m='2756010'>You</span> <span m='2756160'>can</span>
  <span m='2756340'>have</span> <span m='2756520'>those</span> <span m='2756700'>two</span>
  <span m='2756850'>transactions</span> <span m='2757480'>floating</span> <span m='2757840'>around</span>
  <span m='2758440'>on</span> <span m='2758560'>the</span> <span m='2758650'>network,</span>
  <span m='2759910'>and</span> <span m='2760510'>they</span> <span m='2760630'>have</span>
  <span m='2760750'>the</span> <span m='2760990'>same</span> <span m='2761080'>txid.</span>
  <span m='2762385'>And</span> <span m='2762820'>so</span> <span m='2763240'>who</span>
  <span m='2763420'>knows</span> <span m='2763630'>which</span> <span m='2763810'>one's</span>
  <span m='2764000'>getting</span> <span m='2764250'>into</span> <span m='2764440'>a</span>
  <span m='2764500'>block?</span> <span m='2765100'>They</span> <span m='2765220'>look</span>
  <span m='2765460'>almost</span> <span m='2765730'>the</span> <span m='2765820'>same.</span>
  <span m='2767040'>Some</span> <span m='2767320'>of</span> <span m='2767380'>the</span>
  <span m='2767440'>software</span> <span m='2767710'>won't</span> <span m='2767920'>be</span>
  <span m='2768010'>able</span> <span m='2768130'>to</span> <span m='2768190'>pick</span>
  <span m='2768460'>between</span> <span m='2768790'>them.</span> <span m='2769490'>However,</span>
  <span m='2770110'>once</span> <span m='2770470'>it</span> <span m='2770560'>gets</span>
  <span m='2770770'>into</span> <span m='2771010'>a</span> <span m='2771070'>block,</span>
  <span m='2771910'>one</span> <span m='2772150'>of</span> <span m='2772300'>them</span>
  <span m='2772480'>will</span> <span m='2772690'>be</span> <span m='2772840'>committed</span>
  <span m='2773200'>to.</span> </p><p><span m='2773700'>It's like,</span> <span m='2774070'>oh,</span>
  <span m='2774540'>ended</span> <span m='2774850'>up being</span> <span m='2775090'>Alice</span>
  <span m='2775300'>and</span> <span m='2775690'>Carol.</span> <span m='2777710'>Those</span>
  <span m='2778060'>two</span> <span m='2778180'>signatures</span> <span m='2778630'>actually</span>
  <span m='2778990'>got</span> <span m='2779170'>into</span> <span m='2779350'>the</span>
  <span m='2779440'>blockchain.</span> <span m='2782340'>However,</span> <span m='2782610'>you</span>
  <span m='2785330'>could</span> <span m='2785780'>prove,</span> <span m='2786050'>hey,</span>
  <span m='2786210'>no</span> <span m='2786380'>I</span> <span m='2786470'>had</span>
  <span m='2786770'>this</span> <span m='2787520'>Alice</span> <span m='2787760'>Bob</span>
  <span m='2788020'>signature,</span> <span m='2788930'>but</span> <span m='2789140'>then</span>
  <span m='2789380'>it</span> <span m='2789470'>never</span> <span m='2789770'>got</span>
  <span m='2789890'>into</span> <span m='2790010'>the</span> <span m='2790070'>blockchain,</span>
  <span m='2790640'>and</span> <span m='2790820'>maybe</span> <span m='2791090'>you</span>
  <span m='2791180'>made</span> <span m='2791360'>it</span> <span m='2791450'>after</span>
  <span m='2791660'>the</span> <span m='2791750'>fact.</span> <span m='2792030'>It</span>
  <span m='2792080'>never</span> <span m='2792260'>gets</span> <span m='2792410'>committed</span>
  <span m='2792680'>to.</span> <span m='2793200'>Yeah.</span> </p><p><span m='2793540'>AUDIENCE:</span>
  <span m='2793880'>Also,</span> <span m='2794310'>a bunch of pool</span> <span m='2794480'>software</span>
  <span m='2794960'>just doesn't always</span> <span m='2795440'>do this.</span> </p><p></p><p><span
  m='2796430'>PROFESSOR:</span> <span m='2796445'>A</span> <span m='2796460'>bunch</span>
  <span m='2796640'>of</span> <span m='2796730'>pool</span> <span m='2797030'>software</span>
  <span m='2797360'>doesn't</span> <span m='2797690'>do</span> <span m='2797810'>this?</span>
  <span m='2798080'>What</span> <span m='2798200'>you</span> <span m='2798250'>mean?</span>
  </p><p><span m='2799240'>AUDIENCE:</span> <span m='2799365'>It's</span> <span m='2799490'>the</span>
  <span m='2800090'>responsibility</span> <span m='2800480'>of</span> <span m='2800870'>the
  pool</span> <span m='2801348'>software</span> <span m='2801826'>to</span> <span
  m='2802304'>make this</span> <span m='2802782'>construction,</span> <span m='2803738'>but</span>
  <span m='2804694'>[INAUDIBLE]</span> </p><p><span m='2807090'>PROFESSOR:</span>
  <span m='2807210'>Have it</span> <span m='2807330'>implemented</span> <span m='2807900'>as</span>
  <span m='2808080'>in</span> <span m='2808290'>they</span> <span m='2808440'>just</span>
  <span m='2808590'>don't</span> <span m='2808710'>support</span> <span m='2809040'>segwit?</span>
  </p><p><span m='2809310'>AUDIENCE:</span> <span m='2809700'>No,</span> <span m='2810030'>so
  they</span> <span m='2810528'>do the first</span> <span m='2811026'>part,</span>
  <span m='2811524'>but</span> <span m='2813018'>[INAUDIBLE]</span> <span m='2815508'>segwit</span>
  <span m='2816006'>support.</span> </p><p><span m='2817510'>PROFESSOR:</span> <span
  m='2817610'>OK,</span> <span m='2818160'>but wouldn't</span> <span m='2818520'>that</span>
  <span m='2818760'>just</span> <span m='2818970'>not</span> <span m='2819300'>work?</span>
  <span m='2820160'>How--</span> </p><p><span m='2820650'>AUDIENCE:</span> <span m='2821070'>It
  works, because--</span> <span m='2821490'>[INAUDIBLE]</span> </p><p><span m='2823170'>PROFESSOR:</span>
  <span m='2823305'>But</span> <span m='2823440'>to</span> <span m='2823560'>the</span>
  <span m='2823650'>new</span> <span m='2823830'>software,</span> <span m='2824460'>if</span>
  <span m='2824610'>you</span> <span m='2824700'>don't</span> <span m='2824880'>have--</span>
  <span m='2837830'>so</span> <span m='2838200'>segwit</span> <span m='2838330'>is</span>
  <span m='2838500'>the</span> <span m='2838700'>software,</span> <span m='2838890'>right?</span>
  <span m='2839330'>You</span> <span m='2839400'>say,</span> <span m='2839550'>OK,</span>
  <span m='2839990'>we</span> <span m='2840230'>define</span> <span m='2840630'>these</span>
  <span m='2840810'>new</span> <span m='2840960'>transaction</span> <span m='2841560'>types.</span>
  <span m='2842370'>We</span> <span m='2842670'>define</span> <span m='2843000'>this</span>
  <span m='2843330'>template</span> <span m='2843930'>where</span> <span m='2844500'>if</span>
  <span m='2844650'>you</span> <span m='2845190'>have</span> <span m='2845310'>a</span>
  <span m='2845340'>zero</span> <span m='2845790'>and</span> <span m='2845880'>then</span>
  <span m='2845970'>this</span> <span m='2846110'>pubkey</span> <span m='2846420'>hash.</span>
  <span m='2847900'>It</span> <span m='2848020'>also</span> <span m='2848230'>says,</span>
  <span m='2849010'>I</span> <span m='2849190'>require</span> <span m='2853870'>the</span>
  <span m='2853990'>coinbase</span> <span m='2854410'>transaction</span> <span m='2854860'>to</span>
  <span m='2854920'>have</span> <span m='2855220'>this</span> <span m='2855430'>output</span>
  <span m='2856300'>that</span> <span m='2856480'>says,</span> <span m='2857110'>op</span>
  <span m='2857320'>return</span> <span m='2858235'>aa9c</span> <span m='2859720'>whatever</span>
  <span m='2860050'>this</span> <span m='2860290'>little</span> <span m='2861610'>four</span>
  <span m='2862030'>random</span> <span m='2862390'>bytes,</span> <span m='2862900'>and</span>
  <span m='2863050'>then</span> <span m='2863680'>I'd</span> <span m='2863890'>require
  it</span> <span m='2864430'>to</span> <span m='2864520'>have</span> <span m='2864700'>the</span>
  <span m='2864790'>witness</span> <span m='2865120'>root</span> <span m='2865230'>in</span>
  <span m='2865390'>here.</span> </p><p><span m='2866550'>AUDIENCE:</span> <span m='2866620'>I'm</span>
  <span m='2866690'>guessing</span> <span m='2867080'>they just</span> <span m='2867240'>don't</span>
  <span m='2867420'>include</span> <span m='2867720'>segwit</span> <span m='2868165'>transactions?</span>
  </p><p><span m='2869500'>PROFESSOR:</span> <span m='2869590'>So</span> <span m='2869680'>I've</span>
  <span m='2869770'>seen</span> <span m='2869950'>that</span> <span m='2870070'>a</span>
  <span m='2870130'>lot.</span> <span m='2870620'>Yeah,</span> <span m='2870810'>so</span>
  <span m='2871240'>a</span> <span m='2871270'>lot</span> <span m='2871450'>of--</span>
  </p><p><span m='2871540'>AUDIENCE:</span> <span m='2871885'>[INAUDIBLE]</span> </p><p><span
  m='2872230'>PROFESSOR:</span> <span m='2872410'>Yeah,</span> <span m='2872590'>a</span>
  <span m='2872620'>lot</span> <span m='2872830'>of</span> <span m='2872890'>the</span>
  <span m='2872980'>software</span> <span m='2874030'>says,</span> <span m='2874510'>I'm</span>
  <span m='2874600'>not</span> <span m='2874690'>going</span> <span m='2874770'>to</span>
  <span m='2874870'>do</span> <span m='2874990'>this.</span> <span m='2877000'>So</span>
  <span m='2877150'>the</span> <span m='2877270'>other</span> <span m='2877420'>thing</span>
  <span m='2877570'>that's</span> <span m='2877690'>nice--</span> <span m='2878140'>segwit</span>
  <span m='2878710'>transactions</span> <span m='2879340'>to</span> <span m='2879490'>old</span>
  <span m='2879670'>software</span> <span m='2880150'>look</span> <span m='2880410'>non-standard.</span>
  <span m='2881320'>So</span> <span m='2881470'>I</span> <span m='2881560'>mentioned</span>
  <span m='2881830'>before</span> <span m='2882130'>that</span> <span m='2882290'>there's</span>
  <span m='2883120'>standardness</span> <span m='2883710'>rules</span> <span m='2883990'>where,</span>
  <span m='2884530'>this</span> <span m='2884770'>looks</span> <span m='2885010'>weird.</span>
  <span m='2885550'>I'm</span> <span m='2885670'>not</span> <span m='2885910'>going</span>
  <span m='2886210'>to</span> <span m='2886420'>mine</span> <span m='2886750'>it.</span>
  <span m='2886930'>I'm</span> <span m='2887020'>not</span> <span m='2887200'>going</span>
  <span m='2887380'>to</span> <span m='2887470'>relay</span> <span m='2887830'>it</span>
  <span m='2887890'>to</span> <span m='2888010'>my</span> <span m='2888160'>peers,</span>
  <span m='2889040'>but</span> <span m='2889090'>if</span> <span m='2889180'>I</span>
  <span m='2889240'>it in</span> <span m='2889500'>a</span> <span m='2889540'>block,</span>
  <span m='2889900'>well,</span> <span m='2890440'>OK,</span> <span m='2890710'>fine.</span>
  </p><p><span m='2891850'>So</span> <span m='2892000'>segwit</span> <span m='2892330'>transactions</span>
  <span m='2892960'>look</span> <span m='2893170'>very</span> <span m='2893470'>non-standard.</span>
  <span m='2894910'>It</span> <span m='2895030'>looks</span> <span m='2895270'>like</span>
  <span m='2895390'>there's</span> <span m='2895540'>no</span> <span m='2895660'>signature.</span>
  <span m='2896200'>That's</span> <span m='2896410'>weird.</span> <span m='2896960'>There's</span>
  <span m='2897070'>this</span> <span m='2897490'>zero.</span> <span m='2899110'>What's</span>
  <span m='2899230'>going</span> <span m='2899440'>on?</span> <span m='2900820'>So</span>
  <span m='2900940'>yeah,</span> <span m='2901090'>you</span> <span m='2901210'>can</span>
  <span m='2901420'>you</span> <span m='2901510'>can</span> <span m='2901660'>still</span>
  <span m='2901870'>run</span> <span m='2902200'>a</span> <span m='2902270'>miner</span>
  <span m='2903670'>and</span> <span m='2903820'>just</span> <span m='2903970'>not</span>
  <span m='2904240'>even</span> <span m='2904420'>know</span> <span m='2904510'>about</span>
  <span m='2904720'>segwit.</span> <span m='2906300'>It's</span> <span m='2907380'>a</span>
  <span m='2907470'>little</span> <span m='2907890'>dangerous,</span> <span m='2908280'>because</span>
  <span m='2908520'>you</span> <span m='2908610'>might</span> <span m='2908790'>see</span>
  <span m='2908970'>a</span> <span m='2909030'>block</span> <span m='2910050'>that</span>
  <span m='2910260'>is</span> <span m='2910620'>segwit</span> <span m='2911070'>invalid,</span>
  <span m='2912360'>but</span> <span m='2912510'>you</span> <span m='2912600'>wouldn't</span>
  <span m='2912810'>know</span> <span m='2913080'>it</span> <span m='2913610'>and</span>
  <span m='2913710'>so</span> <span m='2913800'>you</span> <span m='2913860'>might</span>
  <span m='2914010'>try</span> <span m='2914130'>to</span> <span m='2914220'>mine</span>
  <span m='2914400'>on</span> <span m='2914490'>top</span> <span m='2914700'>of it.</span>
  <span m='2915090'>So</span> <span m='2915270'>there</span> <span m='2915690'>are</span>
  <span m='2915750'>some</span> <span m='2915990'>risks,</span> <span m='2916400'>but</span>
  <span m='2916500'>in</span> <span m='2916620'>general if most</span> <span m='2917220'>people</span>
  <span m='2917460'>are</span> <span m='2917520'>doing</span> <span m='2917700'>the</span>
  <span m='2917760'>right</span> <span m='2917910'>thing,</span> <span m='2918990'>you</span>
  <span m='2919290'>could</span> <span m='2919440'>still</span> <span m='2919650'>mine</span>
  <span m='2920280'>without</span> <span m='2920550'>knowing</span> <span m='2920760'>about</span>
  <span m='2920940'>this</span> <span m='2921030'>stuff.</span> </p><p><span m='2921670'>So</span>
  <span m='2923340'>any</span> <span m='2923520'>questions</span> <span m='2923820'>about</span>
  <span m='2924090'>committing</span> <span m='2924420'>to</span> <span m='2924530'>the</span>
  <span m='2924600'>signatures?</span> <span m='2927090'>What else?</span> <span m='2928280'>Oh</span>
  <span m='2928340'>yeah,</span> <span m='2928520'>so</span> <span m='2928620'>you've</span>
  <span m='2928680'>got</span> <span m='2928800'>this</span> <span m='2928980'>upgrade</span>
  <span m='2929310'>path.</span> <span m='2929670'>That's</span> <span m='2929880'>kind</span>
  <span m='2930030'>of</span> <span m='2930090'>cool.</span> <span m='2932470'>So</span>
  <span m='2932580'>it</span> <span m='2932670'>defined</span> <span m='2934020'>zero</span>
  <span m='2934710'>pubkey</span> <span m='2935160'>hash</span> <span m='2935790'>as</span>
  <span m='2936600'>hey,</span> <span m='2936780'>this</span> <span m='2937020'>is</span>
  <span m='2937170'>now</span> <span m='2939990'>pay to</span> <span m='2940230'>pubkey</span>
  <span m='2940500'>hash,</span> <span m='2940760'>right?</span> <span m='2941220'>Interpret</span>
  <span m='2941790'>this</span> <span m='2942240'>weird</span> <span m='2942630'>template</span>
  <span m='2943230'>as</span> <span m='2944110'>the</span> <span m='2944220'>regular</span>
  <span m='2944610'>hey,</span> <span m='2945030'>verify</span> <span m='2945480'>this</span>
  <span m='2945600'>signature.</span> <span m='2946650'>It</span> <span m='2947320'>also,</span>
  <span m='2947600'>when</span> <span m='2947880'>segwit</span> <span m='2948360'>softfork</span>
  <span m='2948750'>happened,</span> <span m='2949590'>redefined</span> <span m='2950790'>a</span>
  <span m='2950850'>whole</span> <span m='2951000'>bunch</span> <span m='2951210'>of</span>
  <span m='2951480'>other</span> <span m='2951960'>templates</span> <span m='2952410'>like</span>
  <span m='2952590'>this.</span> <span m='2953640'>So</span> <span m='2953960'>one</span>
  <span m='2954660'>and</span> <span m='2954750'>then</span> <span m='2954870'>some</span>
  <span m='2955050'>data,</span> <span m='2955410'>or</span> <span m='2955530'>two</span>
  <span m='2955920'>and</span> <span m='2956040'>then</span> <span m='2956160'>some</span>
  <span m='2956310'>data.</span> </p><p><span m='2957090'>Just</span> <span m='2957240'>put</span>
  <span m='2957420'>a</span> <span m='2957480'>number,</span> <span m='2957900'>and</span>
  <span m='2958020'>then</span> <span m='2958110'>put</span> <span m='2958260'>a</span>
  <span m='2958320'>bunch</span> <span m='2958470'>of</span> <span m='2958530'>data.</span>
  <span m='2959370'>All</span> <span m='2959610'>of</span> <span m='2959760'>these</span>
  <span m='2960390'>are</span> <span m='2960630'>defined</span> <span m='2961860'>as</span>
  <span m='2962010'>future</span> <span m='2962460'>upgrades.</span> <span m='2963940'>So</span>
  <span m='2964390'>if</span> <span m='2964540'>you</span> <span m='2964720'>see</span>
  <span m='2965110'>a</span> <span m='2965620'>three</span> <span m='2966640'>block</span>
  <span m='2966940'>of</span> <span m='2967030'>data,</span> <span m='2968170'>you</span>
  <span m='2968290'>now</span> <span m='2968470'>say,</span> <span m='2968680'>yeah,</span>
  <span m='2968900'>OK.</span> <span m='2969400'>I</span> <span m='2969490'>know</span>
  <span m='2969670'>that's</span> <span m='2969850'>segwit</span> <span m='2970180'>version</span>
  <span m='2970500'>three.</span> <span m='2971080'>My</span> <span m='2971200'>software</span>
  <span m='2971620'>will</span> <span m='2971830'>maybe</span> <span m='2972220'>pop</span>
  <span m='2972550'>up</span> <span m='2972670'>something</span> <span m='2972970'>saying</span>
  <span m='2973150'>hey,</span> <span m='2973520'>people</span> <span m='2973720'>are</span>
  <span m='2973780'>using</span> <span m='2973990'>segwit</span> <span m='2974270'>version</span>
  <span m='2974530'>three.</span> <span m='2975220'>You're</span> <span m='2975400'>only</span>
  <span m='2975640'>aware</span> <span m='2975910'>of</span> <span m='2976000'>segwit</span>
  <span m='2976330'>version</span> <span m='2976600'>zero.</span> <span m='2978250'>But</span>
  <span m='2978750'>you'll</span> <span m='2978880'>consider</span> <span m='2979270'>it</span>
  <span m='2979330'>non-standard.</span> <span m='2980080'>You</span> <span m='2980200'>won't</span>
  <span m='2980380'>relay</span> <span m='2980740'>it.</span> <span m='2981220'>But</span>
  <span m='2981400'>if</span> <span m='2981490'>it's</span> <span m='2981610'>in</span>
  <span m='2981700'>a</span> <span m='2981730'>block,</span> <span m='2982290'>yeah,</span>
  <span m='2982480'>sure.</span> </p><p><span m='2983020'>And</span> <span m='2983140'>you</span>
  <span m='2983200'>don't</span> <span m='2983350'>require</span> <span m='2983680'>anything</span>
  <span m='2985300'>about</span> <span m='2985510'>the</span> <span m='2985600'>signature.</span>
  <span m='2986110'>You'll</span> <span m='2986260'>just</span> <span m='2986380'>say,</span>
  <span m='2986890'>yeah,</span> <span m='2987040'>whatever</span> <span m='2987370'>weird</span>
  <span m='2987610'>witness</span> <span m='2987940'>data</span> <span m='2988180'>you</span>
  <span m='2988300'>provide</span> <span m='2988780'>for</span> <span m='2988990'>these</span>
  <span m='2989230'>outputs,</span> <span m='2990220'>I</span> <span m='2990310'>don't</span>
  <span m='2990460'>know</span> <span m='2990610'>how</span> <span m='2990700'>to</span>
  <span m='2990820'>interpret</span> <span m='2991210'>them.</span> <span m='2991630'>I'm</span>
  <span m='2991750'>just</span> <span m='2991900'>going</span> <span m='2991980'>to</span>
  <span m='2992050'>let</span> <span m='2992200'>it</span> <span m='2992290'>all</span>
  <span m='2992550'>go</span> <span m='2992700'>through.</span> <span m='2994270'>What</span>
  <span m='2994390'>that</span> <span m='2994540'>means</span> <span m='2994810'>is--</span>
  <span m='2996040'>there's</span> <span m='2996220'>no</span> <span m='2996340'>witness</span>
  <span m='2996640'>needed.</span> <span m='2997570'>If</span> <span m='2997690'>a</span>
  <span m='2997720'>witness</span> <span m='2997990'>is</span> <span m='2998080'>provided,</span>
  <span m='2998600'>you</span> <span m='2998700'>just</span> <span m='2998770'>ignore</span>
  <span m='2999040'>it</span> <span m='2999480'>and</span> <span m='2999610'>you</span>
  <span m='2999760'>think</span> <span m='2999940'>everything's</span> <span m='3000270'>fine.</span>
  <span m='3001770'>This</span> <span m='3001980'>allows</span> <span m='3002340'>easier</span>
  <span m='3002670'>upgrades.</span> </p><p><span m='3005840'>You have</span> <span
  m='3006020'>16</span> <span m='3006470'>new</span> <span m='3006650'>versions</span>
  <span m='3007040'>to</span> <span m='3007130'>upgrade</span> <span m='3007460'>to.</span>
  <span m='3010250'>Yeah,</span> <span m='3010490'>you</span> <span m='3010630'>don't</span>
  <span m='3011060'>require</span> <span m='3011480'>any</span> <span m='3011990'>specific</span>
  <span m='3012800'>things</span> <span m='3013010'>about</span> <span m='3013190'>this,</span>
  <span m='3013320'>so</span> <span m='3013430'>you</span> <span m='3013520'>can</span>
  <span m='3013610'>make</span> <span m='3013790'>new</span> <span m='3013940'>scripts,</span>
  <span m='3014720'>you</span> <span m='3014840'>can</span> <span m='3014960'>make</span>
  <span m='3015120'>a</span> <span m='3015200'>completely</span> <span m='3015590'>different</span>
  <span m='3015890'>script</span> <span m='3016190'>interpreter.</span> <span m='3016770'>You</span>
  <span m='3016910'>could</span> <span m='3017030'>say,</span> <span m='3017180'>OK,</span>
  <span m='3017420'>we're</span> <span m='3017510'>going</span> <span m='3017630'>to</span>
  <span m='3017690'>port</span> <span m='3018000'>EVM</span> <span m='3018470'>to</span>
  <span m='3019400'>bitcoin</span> <span m='3020000'>and</span> <span m='3021470'>disable</span>
  <span m='3021840'>some</span> <span m='3021950'>of</span> <span m='3022010'>the</span>
  <span m='3022110'>op codes</span> <span m='3022400'>that</span> <span m='3022490'>don't</span>
  <span m='3022670'>apply,</span> <span m='3023030'>and</span> <span m='3023780'>have</span>
  <span m='3023900'>that</span> <span m='3024020'>kind</span> <span m='3024140'>of</span>
  <span m='3024200'>thing.</span> <span m='3024410'>Have</span> <span m='3024530'>new</span>
  <span m='3024710'>smart</span> <span m='3024920'>contracts.</span> </p><p><span
  m='3025670'>So</span> <span m='3026390'>it's</span> <span m='3026570'>kind</span>
  <span m='3026810'>of</span> <span m='3026930'>a fun,</span> <span m='3027200'>like</span>
  <span m='3027440'>yeah,</span> <span m='3028250'>we will--</span> <span m='3028610'>and</span>
  <span m='3028730'>it's</span> <span m='3029240'>a</span> <span m='3029300'>nice,</span>
  <span m='3029690'>easy</span> <span m='3030020'>upgrade</span> <span m='3030380'>path.</span>
  <span m='3030650'>You</span> <span m='3030740'>could</span> <span m='3030860'>have</span>
  <span m='3030950'>multiple</span> <span m='3031430'>different</span> <span m='3031730'>things,</span>
  <span m='3032210'>things</span> <span m='3032420'>like</span> <span m='3032540'>that.</span>
  <span m='3034010'>The</span> <span m='3034100'>code</span> <span m='3034280'>will</span>
  <span m='3034370'>be</span> <span m='3034490'>easier.</span> <span m='3036500'>Don't</span>
  <span m='3036860'>do</span> <span m='3036980'>it</span> <span m='3037040'>today.</span>
  <span m='3037640'>You</span> <span m='3037760'>could</span> <span m='3038240'>construct</span>
  <span m='3038720'>an</span> <span m='3038810'>output</span> <span m='3039140'>that's</span>
  <span m='3039620'>a</span> <span m='3039680'>two</span> <span m='3039920'>byte</span>
  <span m='3040400'>and</span> <span m='3040520'>then</span> <span m='3040670'>your</span>
  <span m='3040810'>pubkey</span> <span m='3042680'>and</span> <span m='3042800'>send</span>
  <span m='3042980'>it</span> <span m='3043070'>out</span> <span m='3043220'>there.</span>
  <span m='3044060'>It</span> <span m='3044180'>will</span> <span m='3044390'>be</span>
  <span m='3044750'>probably</span> <span m='3045260'>stealing</span> <span m='3046010'>by</span>
  <span m='3046190'>miners,</span> <span m='3047980'>because</span> <span m='3048220'>everyone</span>
  <span m='3048610'>else's</span> <span m='3048910'>node</span> <span m='3049180'>will</span>
  <span m='3049270'>say,</span> <span m='3049450'>yeah,</span> <span m='3049600'>I</span>
  <span m='3049690'>don't</span> <span m='3049870'>know</span> <span m='3050020'>how</span>
  <span m='3050110'>to</span> <span m='3050230'>interpret</span> <span m='3050620'>this</span>
  <span m='3050800'>yet.</span> <span m='3051110'>There's</span> <span m='3051330'>no</span>
  <span m='3052300'>rules</span> <span m='3052540'>about</span> <span m='3052720'>this</span>
  <span m='3052920'>yet.</span> </p><p><span m='3054580'>OK,</span> <span m='3058800'>let</span>
  <span m='3058890'>me</span> <span m='3059010'>show</span> <span m='3059220'>you</span>
  <span m='3059580'>some</span> <span m='3060140'>segwit</span> <span m='3060570'>stuff</span>
  <span m='3061000'>I</span> <span m='3061360'>looked</span> <span m='3061750'>for.</span>
  <span m='3066800'>OK,</span> <span m='3067010'>so</span> <span m='3068000'>there's</span>
  <span m='3068210'>actually</span> <span m='3069590'>nested</span> <span m='3070160'>segwit.</span>
  <span m='3072830'>There's an</span> <span m='3072950'>an</span> <span m='3073070'>ugly--</span>
  <span m='3079370'>I</span> <span m='3079460'>didn't</span> <span m='3079640'>like</span>
  <span m='3079850'>it,</span> <span m='3079940'>but--</span> <span m='3080750'>this</span>
  <span m='3080890'>is</span> <span m='3081020'>like</span> <span m='3081730'>somewhat</span>
  <span m='3082610'>designed</span> <span m='3083060'>by</span> <span m='3083270'>committee</span>
  <span m='3083720'>E.</span> <span m='3083990'>There's</span> <span m='3084230'>also--</span>
  <span m='3085982'>this</span> <span m='3086420'>is</span> <span m='3086770'>2016,</span>
  <span m='3087830'>right?</span> </p><p><span m='3088870'>AUDIENCE:</span> <span
  m='3089070'>People</span> <span m='3089270'>lose</span> <span m='3089530'>so much</span>
  <span m='3090010'>money</span> <span m='3090340'>on</span> <span m='3090450'>segwit</span>
  <span m='3090660'>two years</span> <span m='3090920'>ago.</span> </p><p><span m='3091330'>PROFESSOR:</span>
  <span m='3091525'>So</span> <span m='3092110'>the</span> <span m='3092230'>other</span>
  <span m='3092350'>thing</span> <span m='3092560'>I</span> <span m='3092650'>would</span>
  <span m='3092770'>say</span> <span m='3093040'>with</span> <span m='3093190'>this,</span>
  <span m='3094290'>I</span> <span m='3094360'>was</span> <span m='3094450'>like,</span>
  <span m='3094600'>OK.</span> <span m='3094730'>You've</span> <span m='3094840'>got</span>
  <span m='3094990'>this</span> <span m='3095140'>witness</span> <span m='3095450'>txid.</span>
  <span m='3096550'>And</span> <span m='3096790'>I</span> <span m='3096880'>remember</span>
  <span m='3097930'>people</span> <span m='3098200'>working</span> <span m='3098500'>on</span>
  <span m='3098610'>segwit</span> <span m='3099040'>and</span> <span m='3099160'>I</span>
  <span m='3099250'>said,</span> <span m='3099430'>hey,</span> <span m='3099580'>why</span>
  <span m='3099790'>don't</span> <span m='3099940'>you</span> <span m='3100060'>make</span>
  <span m='3100480'>the</span> <span m='3100630'>transaction</span> <span m='3101290'>IDs</span>
  <span m='3102460'>a</span> <span m='3102580'>merkle</span> <span m='3103060'>tree</span>
  <span m='3103480'>of</span> <span m='3103600'>the</span> <span m='3103750'>inputs</span>
  <span m='3104260'>and</span> <span m='3104440'>outputs</span> <span m='3106220'>instead</span>
  <span m='3106580'>of</span> <span m='3106700'>just</span> <span m='3107540'>the</span>
  <span m='3107660'>hash</span> <span m='3107990'>of</span> <span m='3108080'>everything</span>
  <span m='3108380'>all</span> <span m='3108460'>together?</span> <span m='3109040'>Then,</span>
  <span m='3109190'>if</span> <span m='3109280'>you</span> <span m='3109340'>had</span>
  <span m='3109430'>a</span> <span m='3109490'>really</span> <span m='3109850'>big</span>
  <span m='3110090'>transaction,</span> <span m='3111260'>you</span> <span m='3111380'>could</span>
  <span m='3111590'>prove</span> <span m='3111980'>that</span> <span m='3112100'>an</span>
  <span m='3112220'>input</span> <span m='3112550'>had</span> <span m='3112670'>been</span>
  <span m='3112820'>spent</span> <span m='3113150'>without</span> <span m='3113450'>sending</span>
  <span m='3113690'>the</span> <span m='3113750'>whole</span> <span m='3113840'>transaction</span>
  <span m='3114350'>over.</span> </p><p><span m='3115130'>And</span> <span m='3115550'>I</span>
  <span m='3115640'>thought</span> <span m='3115790'>that</span> <span m='3115880'>was</span>
  <span m='3116000'>a</span> <span m='3116060'>cool</span> <span m='3116240'>idea.</span>
  <span m='3116570'>And</span> <span m='3116720'>then</span> <span m='3117230'>when</span>
  <span m='3117380'>I</span> <span m='3117680'>talked</span> <span m='3117890'>to</span>
  <span m='3117980'>people,</span> <span m='3118250'>they're</span> <span m='3118370'>like</span>
  <span m='3118490'>yeah,</span> <span m='3118710'>Peter</span> <span m='3118940'>Todd</span>
  <span m='3119120'>already</span> <span m='3119360'>said</span> <span m='3119540'>that</span>
  <span m='3119720'>like</span> <span m='3120170'>three</span> <span m='3120350'>weeks</span>
  <span m='3120560'>ago.</span> <span m='3121280'>And</span> <span m='3122150'>whatever,</span>
  <span m='3122610'>we're</span> <span m='3122750'>not</span> <span m='3122870'>going</span>
  <span m='3122990'>to</span> <span m='3123050'>do</span> <span m='3123170'>it.</span>
  <span m='3123620'>It's</span> <span m='3124040'>too</span> <span m='3124130'>late.</span>
  <span m='3124400'>We</span> <span m='3124490'>already</span> <span m='3124670'>coded</span>
  <span m='3124910'>stuff.</span> <span m='3125720'>Oh well.</span> <span m='3128420'>And</span>
  <span m='3128540'>that's</span> <span m='3129020'>the</span> <span m='3129500'>fundamental</span>
  <span m='3130040'>aspect</span> <span m='3130370'>of</span> <span m='3130470'>segwit.</span>
  <span m='3131060'>You</span> <span m='3131120'>can't</span> <span m='3131270'>really</span>
  <span m='3131450'>upgrade</span> <span m='3131750'>that</span> <span m='3131900'>in</span>
  <span m='3131960'>the</span> <span m='3132590'>new</span> <span m='3132710'>script</span>
  <span m='3132950'>versions,</span> <span m='3133850'>so</span> <span m='3134780'>whatever.</span>
  </p><p><span m='3137490'>There's</span> <span m='3137640'>also</span> <span m='3137910'>still</span>
  <span m='3138150'>a</span> <span m='3138210'>hard</span> <span m='3138420'>rule</span>
  <span m='3139070'>on</span> <span m='3139200'>transactions</span> <span m='3139950'>themselves</span>
  <span m='3140550'>being</span> <span m='3140760'>less</span> <span m='3140910'>than</span>
  <span m='3141030'>a</span> <span m='3141100'>megabyte,</span> <span m='3141380'>I</span>
  <span m='3141450'>think.</span> <span m='3142020'>So</span> <span m='3142230'>it's</span>
  <span m='3142380'>not</span> <span m='3142560'>a</span> <span m='3142590'>huge</span>
  <span m='3142860'>deal,</span> <span m='3143100'>but</span> <span m='3143980'>it
  would have</span> <span m='3144140'>been</span> <span m='3144270'>cool.</span> <span
  m='3144990'>Another</span> <span m='3145320'>thing</span> <span m='3145500'>is</span>
  <span m='3146340'>there's</span> <span m='3147900'>actually</span> <span m='3148320'>a</span>
  <span m='3148380'>way--</span> <span m='3149220'>so</span> <span m='3150180'>there's
  no</span> <span m='3150330'>address</span> <span m='3151290'>defined</span> <span
  m='3152010'>for</span> <span m='3152190'>this,</span> <span m='3152460'>right?</span>
  <span m='3152670'>Address is</span> <span m='3153300'>mapped</span> <span m='3153630'>to</span>
  <span m='3154020'>output</span> <span m='3154350'>scripts</span> <span m='3155120'>in</span>
  <span m='3155250'>all</span> <span m='3155370'>the</span> <span m='3155460'>software.</span>
  <span m='3156390'>And</span> <span m='3156510'>so</span> <span m='3156630'>when</span>
  <span m='3156780'>you</span> <span m='3156870'>say,</span> <span m='3157020'>OK,</span>
  <span m='3157230'>I'm</span> <span m='3157320'>sending</span> <span m='3157590'>into</span>
  <span m='3157770'>1aeecc</span> <span m='3159050'>or</span> <span m='3159270'>whatever,</span>
  <span m='3159960'>it</span> <span m='3160110'>knows</span> <span m='3160380'>how</span>
  <span m='3160470'>to</span> <span m='3160590'>interpret</span> <span m='3160950'>that</span>
  <span m='3161130'>address,</span> <span m='3162060'>build</span> <span m='3162450'>the</span>
  <span m='3162570'>20</span> <span m='3162870'>byte</span> <span m='3163110'>pubkey</span>
  <span m='3163440'>hash</span> <span m='3163680'>script,</span> <span m='3164190'>and</span>
  <span m='3164280'>send</span> <span m='3164460'>to</span> <span m='3164580'>it.</span>
  </p><p><span m='3165750'>And</span> <span m='3165870'>vise</span> <span m='3166080'>versa,</span>
  <span m='3166350'>right?</span> <span m='3166530'>So</span> <span m='3166650'>from</span>
  <span m='3166830'>the</span> <span m='3166890'>address,</span> <span m='3167190'>you</span>
  <span m='3167250'>can</span> <span m='3167370'>get</span> <span m='3167520'>this</span>
  <span m='3167760'>output</span> <span m='3168000'>script,</span> <span m='3168590'>and</span>
  <span m='3168750'>from</span> <span m='3168930'>the</span> <span m='3169020'>output</span>
  <span m='3169200'>script</span> <span m='3169470'>you</span> <span m='3169530'>can</span>
  <span m='3169770'>get an</span> <span m='3170130'>address.</span> <span m='3171330'>So</span>
  <span m='3171580'>when</span> <span m='3171920'>an</span> <span m='3172160'>old</span>
  <span m='3172380'>software</span> <span m='3172770'>sees</span> <span m='3173010'>this,</span>
  <span m='3173370'>it's</span> <span m='3173520'>just</span> <span m='3173670'>like,</span>
  <span m='3173820'>there's</span> <span m='3173970'>no</span> <span m='3174120'>address.</span>
  <span m='3174780'>I</span> <span m='3174840'>don't</span> <span m='3174990'>even</span>
  <span m='3175110'>know</span> <span m='3175230'>what</span> <span m='3175350'>that</span>
  <span m='3175500'>is.</span> <span m='3176280'>I've</span> <span m='3176490'>never</span>
  <span m='3176700'>seen</span> <span m='3176940'>that.</span> <span m='3178470'>And</span>
  <span m='3178590'>so</span> <span m='3179730'>people</span> <span m='3180000'>worried</span>
  <span m='3180260'>that</span> <span m='3180570'>oh,</span> <span m='3180750'>it's</span>
  <span m='3180870'>going</span> <span m='3180960'>to</span> <span m='3181050'>be</span>
  <span m='3181140'>weird.</span> <span m='3181510'>People</span> <span m='3181770'>are</span>
  <span m='3181860'>going</span> <span m='3181940'>to</span> <span m='3182010'>have</span>
  <span m='3182100'>to</span> <span m='3182190'>upgrade</span> <span m='3182550'>to</span>
  <span m='3182640'>even</span> <span m='3182910'>send</span> <span m='3183480'>to</span>
  <span m='3183630'>people</span> <span m='3183960'>using</span> <span m='3184270'>segwit.</span>
  </p><p><span m='3185760'>So it's</span> <span m='3185910'>backwards</span> <span
  m='3186270'>compatible,</span> <span m='3186810'>but</span> <span m='3187200'>if</span>
  <span m='3187320'>you</span> <span m='3187410'>want</span> <span m='3187530'>to</span>
  <span m='3187590'>say,</span> <span m='3187680'>hey,</span> <span m='3187890'>send</span>
  <span m='3188100'>me</span> <span m='3188190'>some</span> <span m='3188680'>money</span>
  <span m='3188940'>at</span> <span m='3189020'>the</span> <span m='3189120'>segwit</span>
  <span m='3189450'>address</span> <span m='3189780'>and</span> <span m='3189870'>then</span>
  <span m='3189990'>they</span> <span m='3190050'>can't.</span> <span m='3191940'>And</span>
  <span m='3192060'>so</span> <span m='3192180'>you</span> <span m='3192270'>say,</span>
  <span m='3192420'>OK,</span> <span m='3192660'>fine.</span> <span m='3192930'>Send</span>
  <span m='3193140'>me</span> <span m='3193260'>the</span> <span m='3193350'>money</span>
  <span m='3193590'>with</span> <span m='3193770'>a</span> <span m='3193830'>regular</span>
  <span m='3194160'>address,</span> <span m='3194520'>and</span> <span m='3194640'>then</span>
  <span m='3194850'>we</span> <span m='3195240'>still</span> <span m='3195450'>have</span>
  <span m='3195570'>this</span> <span m='3195690'>malleability</span> <span m='3196230'>problem.</span>
  <span m='3197280'>And</span> <span m='3197370'>then</span> <span m='3197520'>I</span>
  <span m='3197580'>have</span> <span m='3197700'>a</span> <span m='3197760'>wallet</span>
  <span m='3198030'>that</span> <span m='3198180'>supports</span> <span m='3198510'>both,</span>
  <span m='3198870'>and</span> <span m='3198960'>I</span> <span m='3199020'>can</span>
  <span m='3199170'>move</span> <span m='3199410'>money</span> <span m='3199650'>to</span>
  <span m='3199740'>my</span> <span m='3199890'>own</span> <span m='3200040'>addresses,</span>
  <span m='3200580'>and it's</span> <span m='3201030'>kind</span> <span m='3201180'>of</span>
  <span m='3201240'>ugly.</span> </p><p><span m='3201510'>So</span> <span m='3202080'>they</span>
  <span m='3202200'>made</span> <span m='3202380'>this</span> <span m='3202680'>nested</span>
  <span m='3203220'>address</span> <span m='3203580'>thing,</span> <span m='3204660'>which</span>
  <span m='3205080'>I</span> <span m='3205200'>don't</span> <span m='3205350'>like,</span>
  <span m='3205560'>because</span> <span m='3205830'>then</span> <span m='3205980'>it</span>
  <span m='3206100'>actually</span> <span m='3208220'>has</span> <span m='3208520'>both.</span>
  <span m='3209760'>So</span> <span m='3209780'>you've</span> <span m='3209870'>got</span>
  <span m='3210320'>a</span> <span m='3210410'>signature</span> <span m='3210890'>and</span>
  <span m='3211100'>a</span> <span m='3211160'>witness.</span> <span m='3214370'>And</span>
  <span m='3214470'>the</span> <span m='3214530'>signature</span> <span m='3214980'>is</span>
  <span m='3215220'>not</span> <span m='3215400'>a</span> <span m='3215460'>real</span>
  <span m='3215670'>signature.</span> <span m='3216090'>It's</span> <span m='3216180'>just</span>
  <span m='3216330'>pointing</span> <span m='3216690'>to</span> <span m='3216750'>the</span>
  <span m='3216840'>witness.</span> <span m='3217100'>It's</span> <span m='3217380'>really</span>
  <span m='3217590'>ugly.</span> <span m='3218550'>There's</span> <span m='3218730'>a</span>
  <span m='3218790'>bunch</span> <span m='3219000'>of</span> <span m='3219060'>weird</span>
  <span m='3219270'>stuff</span> <span m='3219480'>in</span> <span m='3219570'>the</span>
  <span m='3219640'>segwit</span> <span m='3220060'>code</span> <span m='3220400'>that</span>
  <span m='3221160'>I'm</span> <span m='3221300'>not</span> <span m='3221550'>super</span>
  <span m='3221850'>into.</span> <span m='3222390'>I</span> <span m='3222420'>don't</span>
  <span m='3222540'>have</span> <span m='3222630'>to</span> <span m='3222690'>use</span>
  <span m='3222840'>it</span> <span m='3222930'>though,</span> <span m='3223070'>right?</span>
  </p><p><span m='3223290'>That's</span> <span m='3223470'>the</span> <span m='3223530'>beauty</span>
  <span m='3223800'>of</span> <span m='3224430'>these</span> <span m='3224730'>permission-less</span>
  <span m='3225450'>innovation</span> <span m='3225990'>kind</span> <span m='3226200'>of</span>
  <span m='3226260'>systems.</span> <span m='3226660'>Like</span> <span m='3227150'>ew,</span>
  <span m='3227250'>I don't</span> <span m='3227610'>like</span> <span m='3227880'>that</span>
  <span m='3228000'>code.</span> <span m='3228210'>OK,</span> <span m='3228450'>I'm</span>
  <span m='3228540'>not</span> <span m='3228630'>supporting</span> <span m='3228980'>it.</span>
  <span m='3233740'>OK,</span> <span m='3234010'>so</span> <span m='3240570'>here's</span>
  <span m='3240810'>one</span> <span m='3240960'>that's</span> <span m='3241110'>nested.</span>
  <span m='3245980'>So</span> <span m='3246220'>I</span> <span m='3246580'>was</span>
  <span m='3246700'>just</span> <span m='3247030'>randomly</span> <span m='3247420'>looking</span>
  <span m='3247840'>through</span> <span m='3248860'>a</span> <span m='3249940'>block.</span>
  <span m='3252280'>Here's</span> <span m='3252390'>one,</span> <span m='3252630'>and</span>
  <span m='3252810'>you</span> <span m='3252900'>can</span> <span m='3253020'>see</span>
  <span m='3253440'>it's</span> <span m='3253590'>like,</span> <span m='3253880'>OK.</span>
  <span m='3254080'>The</span> <span m='3255030'>outputs</span> <span m='3255510'>are</span>
  <span m='3255930'>probably</span> <span m='3256530'>also</span> <span m='3256800'>nested</span>
  <span m='3257130'>segwit,</span> <span m='3258480'>and</span> <span m='3258610'>the</span>
  <span m='3258720'>input</span> <span m='3260820'>has</span> <span m='3261210'>got</span>
  <span m='3261360'>both</span> <span m='3261630'>a</span> <span m='3261700'>script</span>
  <span m='3261980'>sig</span> <span m='3262320'>and</span> <span m='3262850'>a</span>
  <span m='3263120'>tx</span> <span m='3263390'>witness,</span> <span m='3264070'>right?</span>
  <span m='3264615'>A tx</span> <span m='3264950'>input</span> <span m='3265230'>witness.</span>
  </p><p><span m='3266760'>A</span> <span m='3267330'>pure one</span> <span m='3270810'>is</span>
  <span m='3271050'>this</span> <span m='3271230'>one</span> <span m='3271530'>f7.</span>
  <span m='3277110'>OK,</span> <span m='3277350'>so</span> <span m='3277470'>you</span>
  <span m='3277560'>can</span> <span m='3277680'>see--</span> <span m='3280365'>oh</span>
  <span m='3280780'>wait,</span> <span m='3281040'>am</span> <span m='3281190'>I</span>
  <span m='3281340'>not</span> <span m='3281580'>running--</span> <span m='3281880'>what</span>
  <span m='3282060'>version</span> <span m='3282360'>am</span> <span m='3282450'>I</span>
  <span m='3282510'>running?</span> <span m='3282840'>I</span> <span m='3282870'>think</span>
  <span m='3282990'>I'm</span> <span m='3283080'>running</span> <span m='3283340'>to</span>
  <span m='3283380'>15-1</span> <span m='3283910'>still.</span> <span m='3284670'>So</span>
  <span m='3284850'>I'm</span> <span m='3284970'>not</span> <span m='3285180'>seeing</span>
  <span m='3285600'>the</span> <span m='3285750'>address.</span> <span m='3286080'>There's</span>
  <span m='3286290'>a</span> <span m='3286350'>new</span> <span m='3286590'>address</span>
  <span m='3286920'>format</span> <span m='3287490'>called</span> <span m='3288270'>beck</span>
  <span m='3288640'>32,</span> <span m='3289070'>bech</span> <span m='3289360'>32,</span>
  <span m='3291550'>which</span> <span m='3292710'>will</span> <span m='3292980'>turn--</span>
  <span m='3293660'>so it's</span> <span m='3294150'>zero</span> <span m='3294750'>and</span>
  <span m='3294900'>then</span> <span m='3297990'>a</span> <span m='3298050'>script</span>
  <span m='3298320'>hash.</span> <span m='3300370'>Zero</span> <span m='3300940'>and</span>
  <span m='3301090'>then</span> <span m='3301540'>a</span> <span m='3301600'>pubkey</span>
  <span m='3302350'>hash.</span> </p><p><span m='3303930'>It says,</span> <span m='3304150'>witness,</span>
  <span m='3304510'>version</span> <span m='3304810'>zero,</span> <span m='3305110'>key</span>
  <span m='3305260'>hash.</span> <span m='3306010'>There's</span> <span m='3306220'>also</span>
  <span m='3306520'>an</span> <span m='3306610'>address</span> <span m='3306940'>associated</span>
  <span m='3307450'>with</span> <span m='3307540'>these.</span> <span m='3308220'>I</span>
  <span m='3308410'>think</span> <span m='3310220'>this</span> <span m='3310580'>version</span>
  <span m='3310940'>of</span> <span m='3311360'>bitcoin</span> <span m='3311840'>CLI</span>
  <span m='3312260'>does</span> <span m='3312410'>not</span> <span m='3312560'>show</span>
  <span m='3312740'>it,</span> <span m='3312850'>but</span> <span m='3313280'>the</span>
  <span m='3313370'>new</span> <span m='3313520'>version</span> <span m='3313820'>does.</span>
  <span m='3314330'>So</span> <span m='3314660'>I</span> <span m='3314780'>think</span>
  <span m='3314930'>if</span> <span m='3315020'>you</span> <span m='3315110'>guys</span>
  <span m='3315320'>have</span> <span m='3315510'>version</span> <span m='3315940'>0.16.0,</span>
  <span m='3317120'>it</span> <span m='3317320'>will</span> <span m='3317480'>show,</span>
  <span m='3318170'>here's</span> <span m='3318350'>the</span> <span m='3318440'>address.</span>
  <span m='3320980'>And</span> <span m='3321110'>then</span> <span m='3321230'>you</span>
  <span m='3321320'>can</span> <span m='3321470'>see</span> <span m='3321860'>in</span>
  <span m='3322220'>the</span> <span m='3323450'>single</span> <span m='3323750'>input</span>
  <span m='3323990'>for</span> <span m='3324110'>this</span> <span m='3324260'>transaction,</span>
  <span m='3325200'>there</span> <span m='3325400'>is</span> <span m='3325580'>a</span>
  <span m='3325760'>tx</span> <span m='3326210'>in</span> <span m='3326330'>witness.</span>
  <span m='3327430'>And</span> <span m='3327530'>there's</span> <span m='3327710'>no</span>
  <span m='3328130'>scripts.</span> </p><p><span m='3328620'>There's</span> <span
  m='3328880'>a</span> <span m='3328910'>script</span> <span m='3329130'>sig</span>
  <span m='3329330'>field,</span> <span m='3330060'>and</span> <span m='3330080'>it's</span>
  <span m='3330200'>just</span> <span m='3330590'>empty.</span> <span m='3331490'>There's</span>
  <span m='3331700'>no</span> <span m='3332090'>actual</span> <span m='3332750'>signature</span>
  <span m='3333320'>traditionally.</span> <span m='3334460'>There's</span> <span m='3334670'>instead</span>
  <span m='3335010'>this</span> <span m='3335180'>big</span> <span m='3335360'>thing.</span>
  <span m='3336260'>Here's</span> <span m='3336410'>the</span> <span m='3336500'>signature,</span>
  <span m='3337160'>and</span> <span m='3337460'>here's</span> <span m='3337850'>the</span>
  <span m='3338140'>pubkey</span> <span m='3338300'>being</span> <span m='3338440'>revealed.</span>
  <span m='3339350'>And</span> <span m='3339500'>then</span> <span m='3339680'>it</span>
  <span m='3339800'>also</span> <span m='3340040'>says,</span> <span m='3340310'>OK,</span>
  <span m='3340520'>here's</span> <span m='3340790'>the</span> <span m='3340880'>txid</span>
  <span m='3343220'>without</span> <span m='3343550'>the</span> <span m='3343640'>signature,</span>
  <span m='3344450'>and</span> <span m='3344540'>then</span> <span m='3344630'>here's</span>
  <span m='3344930'>the</span> <span m='3345050'>hash</span> <span m='3345500'>or</span>
  <span m='3345650'>witness</span> <span m='3346160'>transaction</span> <span m='3346740'>ID.</span>
  <span m='3347450'>The</span> <span m='3347540'>hash</span> <span m='3347750'>of</span>
  <span m='3347810'>the</span> <span m='3347900'>whole</span> <span m='3348050'>thing</span>
  <span m='3348330'>including</span> <span m='3348710'>the</span> <span m='3348780'>signature,</span>
  <span m='3349220'>and</span> <span m='3349310'>they're</span> <span m='3349400'>different,</span>
  <span m='3349810'>right?</span> </p><p><span m='3351110'>Also</span> <span m='3351890'>you've</span>
  <span m='3352010'>got</span> <span m='3352280'>size</span> <span m='3353270'>so</span>
  <span m='3353750'>this</span> <span m='3354020'>is</span> <span m='3354260'>actually</span>
  <span m='3354710'>235</span> <span m='3355520'>bytes,</span> <span m='3355910'>right?</span>
  <span m='3356210'>Because</span> <span m='3356420'>you're</span> <span m='3356510'>including</span>
  <span m='3357110'>the</span> <span m='3357260'>witnesses.</span> <span m='3358410'>And</span>
  <span m='3358510'>then,</span> <span m='3359015'>v</span> <span m='3359610'>size,</span>
  <span m='3360500'>which</span> <span m='3360650'>is</span> <span m='3361520'>virtual</span>
  <span m='3361940'>size.</span> <span m='3363080'>This</span> <span m='3363260'>is</span>
  <span m='3363380'>how</span> <span m='3363530'>big</span> <span m='3363740'>it</span>
  <span m='3363830'>looks</span> <span m='3364190'>to</span> <span m='3364700'>old</span>
  <span m='3364940'>software</span> <span m='3365510'>that</span> <span m='3365690'>doesn't</span>
  <span m='3366050'>know</span> <span m='3366560'>about</span> <span m='3366850'>segwit.</span>
  <span m='3368450'>So</span> <span m='3368600'>the</span> <span m='3368690'>new</span>
  <span m='3368840'>software,</span> <span m='3369390'>this</span> <span m='3369620'>knows</span>
  <span m='3369800'>about</span> <span m='3369980'>both.</span> <span m='3370670'>The</span>
  <span m='3370730'>actual</span> <span m='3370970'>size</span> <span m='3371420'>or</span>
  <span m='3371540'>witness</span> <span m='3371840'>size</span> <span m='3372200'>is</span>
  <span m='3372390'>235,</span> <span m='3372680'>v size</span> <span m='3373205'>is</span>
  <span m='3373940'>153.</span> <span m='3375740'>So</span> <span m='3375860'>yeah,</span>
  <span m='3376070'>it's</span> <span m='3376190'>not</span> <span m='3376370'>quite</span>
  <span m='3378320'>50%,</span> <span m='3379280'>because</span> <span m='3379460'>this</span>
  <span m='3379610'>one</span> <span m='3379760'>has</span> <span m='3379880'>two</span>
  <span m='3380030'>outputs,</span> <span m='3380420'>and</span> <span m='3380510'>the</span>
  <span m='3380570'>outputs</span> <span m='3380850'>don't get</span> <span m='3381170'>any
  smaller,</span> <span m='3381590'>and</span> <span m='3381710'>the</span> <span
  m='3381830'>input</span> <span m='3382040'>just</span> <span m='3382190'>gets</span>
  <span m='3382320'>smaller.</span> </p><p><span m='3383990'>And</span> <span m='3384170'>then,</span>
  <span m='3385660'>size,</span> <span m='3386050'>v</span> <span m='3386200'>size,</span>
  <span m='3386470'>and</span> <span m='3386620'>then</span> <span m='3386770'>you</span>
  <span m='3386860'>can</span> <span m='3386980'>see</span> <span m='3387100'>what</span>
  <span m='3387220'>block</span> <span m='3387520'>it's</span> <span m='3387700'>in</span>
  <span m='3388180'>when</span> <span m='3388270'>we</span> <span m='3388360'>get</span>
  <span m='3388540'>the</span> <span m='3388810'>coinbase</span> <span m='3389170'>transaction.</span>
  <span m='3403300'>OK,</span> <span m='3403980'>so</span> <span m='3404190'>the</span>
  <span m='3404280'>first</span> <span m='3404490'>transaction</span> <span m='3405750'>in</span>
  <span m='3405870'>the</span> <span m='3405930'>list</span> <span m='3406230'>is</span>
  <span m='3406320'>going</span> <span m='3406450'>to</span> <span m='3406500'>be</span>
  <span m='3406560'>the</span> <span m='3406650'>coinbase</span> <span m='3407070'>transaction.</span>
  <span m='3408630'>And</span> <span m='3409140'>I</span> <span m='3409230'>can</span>
  <span m='3409380'>get</span> <span m='3409560'>that</span> <span m='3409740'>one.</span>
  <span m='3411390'>And</span> <span m='3414930'>yeah,</span> <span m='3415170'>the
  coinbase</span> <span m='3415500'>transaction</span> <span m='3415980'>has</span>
  <span m='3416100'>a</span> <span m='3416160'>different</span> <span m='3416430'>txid</span>
  <span m='3416820'>and</span> <span m='3416940'>hash.</span> <span m='3417880'>Its</span>
  <span m='3418050'>size</span> <span m='3418760'>is</span> <span m='3418900'>259,</span>
  <span m='3419300'>its</span> <span m='3419700'>v size</span> <span m='3419930'>232.</span>
  <span m='3421020'>Coinbase</span> <span m='3421440'>has</span> <span m='3422190'>whatever</span>
  <span m='3422520'>random data</span> <span m='3422880'>they</span> <span m='3423000'>want,</span>
  <span m='3423840'>and</span> <span m='3425830'>there's</span> <span m='3426310'>the</span>
  <span m='3427000'>actual</span> <span m='3427420'>output,</span> <span m='3428000'>which</span>
  <span m='3428110'>is</span> <span m='3428180'>sending</span> <span m='3428470'>to</span>
  <span m='3428950'>this</span> <span m='3429220'>address,</span> <span m='3429810'>and</span>
  <span m='3429960'>it's</span> <span m='3430090'>sending</span> <span m='3430450'>12.79</span>
  <span m='3431350'>coins.</span> </p><p><span m='3432280'>And</span> <span m='3432400'>then,</span>
  <span m='3432580'>there's</span> <span m='3432760'>this</span> <span m='3433150'>zero</span>
  <span m='3433570'>value</span> <span m='3433960'>output.</span> <span m='3434530'>So</span>
  <span m='3434650'>you</span> <span m='3434710'>can</span> <span m='3434800'>have</span>
  <span m='3434890'>an</span> <span m='3434980'>output</span> <span m='3435280'>that's</span>
  <span m='3435460'>got</span> <span m='3435580'>an</span> <span m='3436090'>amount</span>
  <span m='3436390'>of</span> <span m='3436480'>coins</span> <span m='3436960'>set</span>
  <span m='3437200'>to</span> <span m='3437290'>zero.</span> <span m='3437760'>It's</span>
  <span m='3437860'>still</span> <span m='3438060'>OK,</span> <span m='3438700'>and</span>
  <span m='3438820'>it's</span> <span m='3438910'>got</span> <span m='3439060'>this</span>
  <span m='3439240'>op return.</span> <span m='3439720'>And</span> <span m='3440210'>the</span>
  <span m='3440320'>op return</span> <span m='3440830'>starts</span> <span m='3441100'>with</span>
  <span m='3441250'>aa21a9ed,</span> <span m='3442840'>and</span> <span m='3443020'>those</span>
  <span m='3443470'>four</span> <span m='3444250'>bytes</span> <span m='3444850'>mean</span>
  <span m='3446260'>here's</span> <span m='3447070'>the</span> <span m='3447160'>segwit</span>
  <span m='3447520'>commitment.</span> <span m='3447910'>Here's</span> <span m='3448120'>the</span>
  <span m='3448240'>witness</span> <span m='3448570'>commitment</span> <span m='3448990'>to</span>
  <span m='3449140'>the</span> <span m='3449740'>segwit</span> <span m='3450760'>transaction</span>
  <span m='3451420'>hashes,</span> <span m='3452220'>the</span> <span m='3452380'>root</span>
  <span m='3452680'>of</span> <span m='3452800'>all</span> <span m='3452920'>those.</span>
  <span m='3455490'>And</span> <span m='3456240'>you</span> <span m='3456420'>have</span>
  <span m='3456600'>to</span> <span m='3456690'>have</span> <span m='3456870'>that</span>
  <span m='3457680'>in</span> <span m='3457950'>order</span> <span m='3458160'>to</span>
  <span m='3458250'>have</span> <span m='3458400'>a</span> <span m='3458460'>valid</span>
  <span m='3458820'>segwit</span> <span m='3459190'>block.</span> </p><p><span m='3460380'>And</span>
  <span m='3460710'>so</span> <span m='3460830'>then</span> <span m='3460950'>we</span>
  <span m='3461040'>can--</span> <span m='3462120'>this</span> <span m='3462390'>is</span>
  <span m='3462780'>segwit</span> <span m='3463500'>in</span> <span m='3463560'>action.</span>
  <span m='3463710'>I think</span> <span m='3463950'>most blocks</span> <span m='3464220'>now</span>
  <span m='3464430'>will</span> <span m='3464670'>have</span> <span m='3465120'>that.</span>
  <span m='3468050'>So</span> <span m='3468200'>there</span> <span m='3468310'>is</span>
  <span m='3468380'>size</span> <span m='3468780'>and</span> <span m='3468900'>v size,</span>
  <span m='3469410'>right?</span> <span m='3469770'>And</span> <span m='3469860'>that</span>
  <span m='3470250'>makes</span> <span m='3470430'>sense.</span> <span m='3471270'>But</span>
  <span m='3471360'>then</span> <span m='3471480'>you</span> <span m='3471600'>have</span>
  <span m='3473580'>strip--</span> <span m='3474270'>no,</span> <span m='3474630'>v</span>
  <span m='3474880'>size</span> <span m='3475170'>is not</span> <span m='3475710'>size.</span>
  <span m='3476250'>It's</span> <span m='3476460'>really</span> <span m='3476820'>confusing.</span>
  <span m='3477390'>And</span> <span m='3479710'>size,</span> <span m='3480090'>weight,</span>
  <span m='3480360'>height,</span> <span m='3480630'>like</span> <span m='3480770'>what?</span>
  <span m='3482600'>So</span> <span m='3483220'>size</span> <span m='3484200'>is--</span>
  <span m='3485850'>I</span> <span m='3485940'>don't</span> <span m='3486090'>actually</span>
  <span m='3486360'>know.</span> <span m='3487300'>I</span> <span m='3487560'>think</span>
  <span m='3487770'>size</span> <span m='3488310'>is</span> <span m='3488520'>interpreted</span>
  <span m='3488870'>the</span> <span m='3489020'>same.</span> <span m='3489210'>This</span>
  <span m='3489360'>is</span> <span m='3489450'>the</span> <span m='3489570'>actual</span>
  <span m='3489990'>number</span> <span m='3490380'>of</span> <span m='3490530'>bytes</span>
  <span m='3490920'>for</span> <span m='3491070'>this</span> <span m='3491250'>block.</span>
  </p><p><span m='3492270'>Weight</span> <span m='3493200'>is</span> <span m='3494700'>you</span>
  <span m='3494850'>multiply</span> <span m='3495600'>all</span> <span m='3495780'>non</span>
  <span m='3496200'>witness</span> <span m='3496560'>bytes</span> <span m='3496860'>by</span>
  <span m='3497040'>four,</span> <span m='3498150'>and</span> <span m='3498270'>you</span>
  <span m='3498390'>leave</span> <span m='3498660'>all</span> <span m='3498780'>witness</span>
  <span m='3499080'>bytes</span> <span m='3499335'>as</span> <span m='3499590'>weight</span>
  <span m='3499880'>one,</span> <span m='3500720'>and</span> <span m='3500910'>that</span>
  <span m='3501030'>has</span> <span m='3501210'>to</span> <span m='3501300'>be</span>
  <span m='3501390'>less</span> <span m='3501570'>than</span> <span m='3501690'>four</span>
  <span m='3501870'>million.</span> <span m='3502300'>And</span> <span m='3502400'>you</span>
  <span m='3502500'>can see</span> <span m='3502620'>here,</span> <span m='3502720'>it's</span>
  <span m='3502920'>just</span> <span m='3503220'>under</span> <span m='3503400'>four</span>
  <span m='3503580'>million.</span> <span m='3505110'>And</span> <span m='3505200'>then</span>
  <span m='3505350'>stripped</span> <span m='3506100'>size</span> <span m='3506730'>is</span>
  <span m='3507180'>the</span> <span m='3507300'>size</span> <span m='3508320'>that</span>
  <span m='3508590'>old</span> <span m='3508770'>nodes</span> <span m='3509040'>see.</span>
  <span m='3510920'>Yeah.</span> <span m='3511330'>Pretty</span> <span m='3511510'>sure.</span>
  <span m='3511880'>Anyway,</span> <span m='3512130'>so</span> <span m='3512760'>it's</span>
  <span m='3513380'>kind</span> <span m='3513530'>of</span> <span m='3513590'>confusing.</span>
  <span m='3515570'>One</span> <span m='3515780'>of</span> <span m='3515840'>the</span>
  <span m='3515900'>biggest</span> <span m='3516140'>problems</span> <span m='3516410'>in</span>
  <span m='3516500'>bitcoin</span> <span m='3516800'>is</span> <span m='3516980'>names,</span>
  <span m='3517970'>where</span> <span m='3518090'>it's</span> <span m='3518180'>like,</span>
  <span m='3518300'>wait.</span> <span m='3518590'>Script</span> <span m='3519170'>pubkey,</span>
  <span m='3519930'>and</span> <span m='3520220'>script</span> <span m='3520700'>sig</span>
  <span m='3521030'>script?</span> <span m='3521610'>Like,</span> <span m='3521750'>what?</span>
  </p><p><span m='3522020'>All</span> <span m='3522320'>these</span> <span m='3522560'>terms</span>
  <span m='3522980'>and</span> <span m='3523070'>names</span> <span m='3523380'>are</span>
  <span m='3523550'>really</span> <span m='3523730'>confusing,</span> <span m='3524150'>and</span>
  <span m='3524270'>it's</span> <span m='3524480'>sort</span> <span m='3524660'>of</span>
  <span m='3524750'>getting</span> <span m='3524960'>worse.</span> <span m='3526740'>So</span>
  <span m='3526790'>yeah.</span> <span m='3528190'>Also,</span> <span m='3530730'>there's</span>
  <span m='3530940'>no</span> <span m='3531060'>v size</span> <span m='3531600'>here.</span>
  <span m='3532980'>I</span> <span m='3533070'>think</span> <span m='3533220'>this</span>
  <span m='3533370'>is</span> <span m='3533430'>actually</span> <span m='3533670'>v
  size.</span> <span m='3533880'>Anyway,</span> <span m='3534180'>so</span> <span
  m='3536160'>that's</span> <span m='3536400'>how</span> <span m='3536520'>segwit</span>
  <span m='3536880'>works</span> <span m='3537660'>in</span> <span m='3537780'>the</span>
  <span m='3537900'>actual</span> <span m='3538170'>thing.</span> <span m='3539010'>But</span>
  <span m='3539190'>it's</span> <span m='3539280'>nice,</span> <span m='3539520'>because</span>
  <span m='3539790'>now</span> <span m='3540180'>you</span> <span m='3540330'>can</span>
  <span m='3540510'>reliably</span> <span m='3541170'>spend</span> <span m='3541470'>from</span>
  <span m='3541650'>things</span> <span m='3541890'>before</span> <span m='3542190'>they're</span>
  <span m='3543621'>confirmed.</span> <span m='3544950'>So</span> <span m='3545190'>segwit</span>
  <span m='3545300'>is</span> <span m='3545520'>cool.</span> <span m='3547260'>Fixes</span>
  <span m='3547440'>malleability.</span> <span m='3548580'>Increases</span> <span
  m='3549020'>the</span> <span m='3549090'>block</span> <span m='3549330'>size.</span>
  </p><p><span m='3550600'>Oh,</span> <span m='3551160'>it</span> <span m='3551250'>does</span>
  <span m='3551400'>a</span> <span m='3551460'>whole</span> <span m='3551580'>bunch</span>
  <span m='3551790'>of</span> <span m='3551910'>other</span> <span m='3552060'>stuff,</span>
  <span m='3552420'>too.</span> <span m='3555790'>OK,</span> <span m='3556020'>so</span>
  <span m='3556140'>one</span> <span m='3556260'>of</span> <span m='3556320'>the</span>
  <span m='3556410'>aspects</span> <span m='3556770'>that</span> <span m='3556910'>it</span>
  <span m='3557030'>fixes.</span> <span m='3558990'>When</span> <span m='3559260'>you're</span>
  <span m='3559530'>signing</span> <span m='3560100'>a</span> <span m='3560160'>transaction,</span>
  <span m='3562220'>let's</span> <span m='3562530'>say</span> <span m='3562680'>you</span>
  <span m='3562800'>have</span> <span m='3563790'>five</span> <span m='3564090'>inputs.</span>
  <span m='3567360'>Each</span> <span m='3567440'>time</span> <span m='3567650'>you</span>
  <span m='3567770'>sign,</span> <span m='3568400'>you</span> <span m='3568490'>need</span>
  <span m='3568670'>to</span> <span m='3569060'>hash</span> <span m='3569420'>the</span>
  <span m='3569510'>whole</span> <span m='3569720'>transaction,</span> <span m='3570230'>because</span>
  <span m='3570440'>it's</span> <span m='3570560'>slightly</span> <span m='3570890'>different,</span>
  <span m='3571300'>right?</span> <span m='3571460'>You</span> <span m='3571610'>zero</span>
  <span m='3572030'>out</span> <span m='3572270'>all</span> <span m='3572390'>the</span>
  <span m='3572480'>signature</span> <span m='3572930'>fields,</span> <span m='3573530'>but</span>
  <span m='3573710'>in</span> <span m='3573800'>the</span> <span m='3573860'>signature</span>
  <span m='3574280'>field</span> <span m='3574520'>for</span> <span m='3574640'>the</span>
  <span m='3574730'>one</span> <span m='3574880'>you're</span> <span m='3575000'>actually</span>
  <span m='3575300'>signing,</span> <span m='3575780'>you</span> <span m='3575900'>don't</span>
  <span m='3576080'>zero</span> <span m='3576280'>it</span> <span m='3576410'>out.</span>
  <span m='3576770'>You</span> <span m='3576890'>put</span> <span m='3577130'>the</span>
  <span m='3577250'>previous</span> <span m='3579530'>script</span> <span m='3579860'>there.</span>
  </p><p><span m='3580480'>So</span> <span m='3580920'>it's</span> <span m='3581180'>slightly</span>
  <span m='3581540'>different.</span> <span m='3581960'>It's</span> <span m='3582320'>totally</span>
  <span m='3583280'>redundant.</span> <span m='3583980'>There's</span> <span m='3584030'>no</span>
  <span m='3584180'>reason</span> <span m='3584600'>to</span> <span m='3584660'>put</span>
  <span m='3584810'>it</span> <span m='3584900'>there</span> <span m='3585020'>because</span>
  <span m='3585200'>it's</span> <span m='3585320'>already</span> <span m='3585560'>in</span>
  <span m='3585660'>the</span> <span m='3585800'>txid,</span> <span m='3586340'>but</span>
  <span m='3586520'>you</span> <span m='3587210'>change</span> <span m='3587480'>things</span>
  <span m='3587630'>around</span> <span m='3587930'>a</span> <span m='3587960'>little</span>
  <span m='3588110'>bit.</span> <span m='3589160'>So</span> <span m='3589310'>the</span>
  <span m='3589430'>idea</span> <span m='3589630'>is,</span> <span m='3591110'>I'm</span>
  <span m='3591200'>going</span> <span m='3591320'>to</span> <span m='3591380'>put</span>
  <span m='3591530'>a</span> <span m='3591560'>signature</span> <span m='3591920'>here,</span>
  <span m='3592870'>I'm going to</span> <span m='3593000'>put</span> <span m='3593150'>a</span>
  <span m='3593180'>signature</span> <span m='3593510'>here,</span> <span m='3593810'>put</span>
  <span m='3593960'>a</span> <span m='3593990'>signature--</span> <span m='3594590'>all</span>
  <span m='3594740'>five</span> <span m='3594980'>of</span> <span m='3595040'>them.</span>
  <span m='3595640'>Each</span> <span m='3595880'>time</span> <span m='3596120'>I</span>
  <span m='3596180'>put</span> <span m='3596390'>a</span> <span m='3596450'>signature</span>
  <span m='3596840'>here,</span> <span m='3597440'>I</span> <span m='3597590'>hash</span>
  <span m='3597980'>the</span> <span m='3598100'>transaction</span> <span m='3599690'>to</span>
  <span m='3599840'>get</span> <span m='3599990'>a</span> <span m='3600050'>slightly</span>
  <span m='3600410'>different</span> <span m='3600740'>thing</span> <span m='3600920'>to</span>
  <span m='3601010'>sign</span> <span m='3601310'>for</span> <span m='3601430'>each</span>
  <span m='3601580'>one.</span> </p><p><span m='3603530'>It</span> <span m='3603650'>might</span>
  <span m='3603860'>not</span> <span m='3604040'>jump</span> <span m='3604280'>out</span>
  <span m='3604430'>at</span> <span m='3604550'>you,</span> <span m='3604790'>but</span>
  <span m='3604940'>this</span> <span m='3605150'>is</span> <span m='3605330'>actually</span>
  <span m='3606800'>o</span> <span m='3607200'>and</span> <span m='3607400'>squared,</span>
  <span m='3608760'>which</span> <span m='3609380'>is</span> <span m='3610040'>bad.</span>
  <span m='3611690'>Because</span> <span m='3612020'>the</span> <span m='3612140'>idea</span>
  <span m='3612390'>is,</span> <span m='3612650'>as</span> <span m='3612890'>I</span>
  <span m='3613040'>extend</span> <span m='3613790'>the</span> <span m='3613910'>number</span>
  <span m='3614330'>of</span> <span m='3614510'>signatures</span> <span m='3615080'>required</span>
  <span m='3615470'>in</span> <span m='3615560'>a</span> <span m='3615620'>transaction,</span>
  <span m='3616310'>the</span> <span m='3616370'>number</span> <span m='3616550'>of</span>
  <span m='3616640'>inputs</span> <span m='3617060'>in</span> <span m='3617180'>a</span>
  <span m='3617210'>transaction,</span> <span m='3619100'>the</span> <span m='3619250'>amount</span>
  <span m='3619580'>of</span> <span m='3619700'>data</span> <span m='3620060'>that</span>
  <span m='3620180'>needs</span> <span m='3620420'>to</span> <span m='3620510'>be</span>
  <span m='3620600'>processed</span> <span m='3621350'>goes</span> <span m='3621560'>up</span>
  <span m='3621680'>with</span> <span m='3621770'>the</span> <span m='3621860'>square</span>
  <span m='3622670'>of</span> <span m='3622790'>the</span> <span m='3622850'>number</span>
  <span m='3623090'>of</span> <span m='3623180'>inputs.</span> <span m='3624580'>Because</span>
  <span m='3625090'>I</span> <span m='3625180'>had</span> <span m='3625300'>an</span>
  <span m='3625390'>input.</span> <span m='3626420'>Now,</span> <span m='3627580'>the</span>
  <span m='3627700'>total</span> <span m='3628030'>size</span> <span m='3628300'>of</span>
  <span m='3628360'>the</span> <span m='3628420'>transaction</span> <span m='3628960'>gets</span>
  <span m='3629140'>bigger,</span> <span m='3629470'>so</span> <span m='3629770'>each</span>
  <span m='3630010'>time</span> <span m='3630580'>I</span> <span m='3630700'>sign,</span>
  <span m='3631210'>I</span> <span m='3631300'>need</span> <span m='3631450'>to</span>
  <span m='3631840'>take</span> <span m='3632110'>a</span> <span m='3632170'>bigger</span>
  <span m='3632470'>amount</span> <span m='3632650'>of</span> <span m='3632740'>data</span>
  <span m='3632980'>through</span> <span m='3633130'>my</span> <span m='3633250'>hash</span>
  <span m='3633460'>function.</span> </p><p><span m='3634180'>Also,</span> <span m='3634480'>the</span>
  <span m='3634570'>number</span> <span m='3634870'>of</span> <span m='3634960'>signatures</span>
  <span m='3635380'>gets</span> <span m='3635560'>bigger.</span> <span m='3636000'>Or</span>
  <span m='3636100'>the</span> <span m='3636190'>number of inputs.</span> <span m='3636800'>So</span>
  <span m='3637270'>this</span> <span m='3637450'>is</span> <span m='3637590'>in squared.</span>
  <span m='3638770'>It</span> <span m='3638920'>seems</span> <span m='3639310'>fine,</span>
  <span m='3639580'>right?</span> <span m='3639730'>You</span> <span m='3639790'>never</span>
  <span m='3640010'>notice,</span> <span m='3640570'>except</span> <span m='3640990'>when
  you</span> <span m='3641230'>do.</span> <span m='3642710'>So</span> <span m='3643330'>there's</span>
  <span m='3643750'>pathological</span> <span m='3644470'>block.</span> <span m='3644830'>There</span>
  <span m='3644920'>was</span> <span m='3645040'>one</span> <span m='3645250'>like</span>
  <span m='3645400'>2015</span> <span m='3646660'>early</span> <span m='3646960'>in</span>
  <span m='3647050'>the</span> <span m='3647110'>year</span> <span m='3647500'>where</span>
  <span m='3647860'>some</span> <span m='3648070'>miner</span> <span m='3648370'>was</span>
  <span m='3648460'>like,</span> <span m='3648740'>I'm</span> <span m='3648840'>going</span>
  <span m='3648940'>to</span> <span m='3649040'>make</span> <span m='3649140'>this</span>
  <span m='3649150'>block</span> <span m='3649390'>that's</span> <span m='3649570'>one</span>
  <span m='3649990'>giant</span> <span m='3650380'>transaction</span> <span m='3651430'>with</span>
  <span m='3651730'>thousands</span> <span m='3652150'>and</span> <span m='3652240'>thousands</span>
  <span m='3652600'>of</span> <span m='3652720'>inputs.</span> <span m='3653950'>And</span>
  <span m='3654070'>a</span> <span m='3654130'>lot</span> <span m='3654310'>of</span>
  <span m='3654400'>software</span> <span m='3654700'>choked</span> <span m='3655060'>on</span>
  <span m='3655210'>it,</span> <span m='3655500'>and</span> <span m='3655840'>it</span>
  <span m='3655930'>took</span> <span m='3656560'>gigs</span> <span m='3656920'>of</span>
  <span m='3657040'>RAM</span> <span m='3657340'>to</span> <span m='3657520'>process</span>
  <span m='3657970'>the</span> <span m='3658060'>transaction,</span> <span m='3658660'>and</span>
  <span m='3658750'>things</span> <span m='3658930'>like</span> <span m='3659080'>that.</span>
  </p><p><span m='3660350'>So</span> <span m='3660370'>that</span> <span m='3660490'>was</span>
  <span m='3660610'>bad.</span> <span m='3661930'>Just</span> <span m='3662170'>in</span>
  <span m='3662260'>general,</span> <span m='3662650'>if</span> <span m='3662800'>you</span>
  <span m='3662950'>have</span> <span m='3663070'>a</span> <span m='3663100'>lot</span>
  <span m='3663250'>of</span> <span m='3663340'>little</span> <span m='3663550'>dust</span>
  <span m='3663880'>outputs,</span> <span m='3664720'>if</span> <span m='3664870'>you're</span>
  <span m='3664960'>trying</span> <span m='3665170'>to</span> <span m='3665230'>aggregate</span>
  <span m='3665680'>them</span> <span m='3665830'>into</span> <span m='3665980'>one</span>
  <span m='3666400'>big--</span> <span m='3667210'>I'm</span> <span m='3667270'>going</span>
  <span m='3667390'>to</span> <span m='3667450'>have</span> <span m='3667780'>100</span>
  <span m='3668110'>inputs</span> <span m='3668530'>and</span> <span m='3668740'>one</span>
  <span m='3668980'>output,</span> <span m='3669850'>it</span> <span m='3670030'>takes</span>
  <span m='3670600'>forever</span> <span m='3671050'>to</span> <span m='3671140'>sign.</span>
  <span m='3672410'>And</span> <span m='3672520'>it</span> <span m='3672580'>also</span>
  <span m='3672790'>takes</span> <span m='3672970'>forever</span> <span m='3673150'>to</span>
  <span m='3673240'>verify.</span> <span m='3673630'>So</span> <span m='3673810'>it's</span>
  <span m='3674470'>pretty</span> <span m='3674650'>bad.</span> <span m='3675220'>I</span>
  <span m='3676690'>remember</span> <span m='3678640'>sort</span> <span m='3678880'>of</span>
  <span m='3678940'>a silly</span> <span m='3679150'>story.</span> <span m='3680020'>Tim</span>
  <span m='3680230'>Draper's</span> <span m='3680590'>coins.</span> <span m='3681220'>He
  had all this</span> <span m='3681400'>dust.</span> <span m='3682390'>And</span>
  <span m='3682860'>it was</span> <span m='3683230'>nerve</span> <span m='3683530'>wracking,</span>
  <span m='3683860'>because</span> <span m='3684040'>it was</span> <span m='3684280'>way</span>
  <span m='3684430'>more</span> <span m='3684580'>money</span> <span m='3684820'>than</span>
  <span m='3684970'>I'm</span> <span m='3685050'>going</span> <span m='3685120'>to</span>
  <span m='3685210'>make</span> <span m='3685360'>in</span> <span m='3685420'>my</span>
  <span m='3685540'>life.</span> <span m='3685930'>And</span> <span m='3686230'>moving</span>
  <span m='3686590'>Tim</span> <span m='3686800'>Draper's</span> <span m='3687280'>coins</span>
  <span m='3687640'>to</span> <span m='3687730'>somewhere</span> <span m='3687970'>else.</span>
  </p><p><span m='3688810'>And</span> <span m='3689500'>the</span> <span m='3689620'>software</span>
  <span m='3689950'>by</span> <span m='3690100'>default</span> <span m='3690430'>just</span>
  <span m='3690970'>swept</span> <span m='3691390'>all</span> <span m='3691540'>the</span>
  <span m='3691660'>inputs</span> <span m='3692730'>with</span> <span m='3693070'>that</span>
  <span m='3693520'>wallet</span> <span m='3693820'>controlled.</span> <span m='3694670'>And</span>
  <span m='3694810'>they</span> <span m='3694890'>were</span> <span m='3694960'>looking</span>
  <span m='3695230'>at</span> <span m='3695290'>me</span> <span m='3695470'>like,</span>
  <span m='3695650'>why</span> <span m='3695800'>doesn't</span> <span m='3696010'>this</span>
  <span m='3696160'>work?</span> <span m='3697210'>Is</span> <span m='3697330'>it</span>
  <span m='3697390'>frozen?</span> <span m='3697810'>I'm</span> <span m='3697900'>like,</span>
  <span m='3698680'>no,</span> <span m='3698770'>I'm</span> <span m='3698860'>not</span>
  <span m='3699010'>trying</span> <span m='3699190'>to</span> <span m='3699250'>steal</span>
  <span m='3699430'>the money,</span> <span m='3699650'>guys.</span> <span m='3700810'>Because</span>
  <span m='3701860'>everyone</span> <span m='3702160'>was</span> <span m='3702220'>sending</span>
  <span m='3702670'>all</span> <span m='3702790'>these</span> <span m='3702940'>little</span>
  <span m='3703240'>outputs</span> <span m='3703660'>to</span> <span m='3703810'>Tim</span>
  <span m='3704050'>Draper's</span> <span m='3704970'>30,000</span> <span m='3705520'>coins</span>
  <span m='3705790'>or</span> <span m='3705820'>whatever,</span> <span m='3706120'>because</span>
  <span m='3706300'>he's--</span> <span m='3707350'>and</span> <span m='3707740'>then</span>
  <span m='3707800'>when</span> <span m='3707890'>he</span> <span m='3707950'>tried</span>
  <span m='3708130'>to</span> <span m='3708190'>spend</span> <span m='3708430'>it,</span>
  <span m='3708520'>it</span> <span m='3708580'>took</span> <span m='3709000'>five</span>
  <span m='3709180'>minutes</span> <span m='3709480'>to</span> <span m='3709600'>sign.</span>
  </p><p><span m='3710213'>AUDIENCE:</span> <span m='3710616'>When</span> <span m='3711020'>people</span>
  <span m='3711480'>use</span> <span m='3711870'>P2 pool,</span> <span m='3712180'>the</span>
  <span m='3712536'>software really</span> <span m='3712892'>struggles with this.</span>
  </p><p><span m='3713250'>PROFESSOR:</span> <span m='3713405'>Yeah,</span> <span
  m='3713560'>so</span> <span m='3715200'>it's</span> <span m='3715490'>bad.</span>
  <span m='3716520'>Any</span> <span m='3716860'>o</span> <span m='3717200'>event</span>
  <span m='3717490'>squared,</span> <span m='3717720'>this</span> <span m='3717900'>is</span>
  <span m='3718330'>sort</span> <span m='3718560'>of</span> <span m='3718650'>a bug.</span>
  <span m='3719370'>Segwit</span> <span m='3719700'>actually</span> <span m='3719970'>fixed</span>
  <span m='3720210'>this.</span> <span m='3720750'>The</span> <span m='3720900'>way</span>
  <span m='3721140'>they</span> <span m='3721290'>do</span> <span m='3721500'>it</span>
  <span m='3722820'>is</span> <span m='3722970'>they</span> <span m='3723090'>say,</span>
  <span m='3723400'>OK,</span> <span m='3724560'>we</span> <span m='3724800'>sort</span>
  <span m='3725040'>of</span> <span m='3725190'>pre</span> <span m='3725700'>compute</span>
  <span m='3726780'>these</span> <span m='3727110'>three</span> <span m='3728310'>intermediate</span>
  <span m='3728970'>hashes.</span> <span m='3730830'>Take</span> <span m='3731265'>the
  whole</span> <span m='3731580'>transaction.</span> <span m='3734240'>This</span>
  <span m='3734490'>is</span> <span m='3734560'>sort</span> <span m='3734700'>of</span>
  <span m='3734760'>the</span> <span m='3734850'>global</span> <span m='3735300'>transaction</span>
  <span m='3735990'>data,</span> <span m='3736350'>and</span> <span m='3736920'>pre</span>
  <span m='3737130'>compute</span> <span m='3737430'>these</span> <span m='3737550'>three</span>
  <span m='3737730'>things.</span> <span m='3738300'>And</span> <span m='3738420'>then</span>
  <span m='3738570'>for</span> <span m='3738810'>each</span> <span m='3739230'>of</span>
  <span m='3739350'>the</span> <span m='3739440'>inputs,</span> <span m='3740550'>add</span>
  <span m='3740790'>another</span> <span m='3741180'>thing.</span> <span m='3741860'>Here's</span>
  <span m='3742080'>this</span> <span m='3742260'>input</span> <span m='3742590'>specific.</span>
  </p><p><span m='3743010'>So</span> <span m='3743130'>this</span> <span m='3743280'>is</span>
  <span m='3743490'>global.</span> <span m='3745340'>It's</span> <span m='3746130'>the</span>
  <span m='3746220'>hash</span> <span m='3746580'>of</span> <span m='3746730'>all</span>
  <span m='3746940'>the</span> <span m='3747050'>tx</span> <span m='3747360'>ends,</span>
  <span m='3747660'>the</span> <span m='3747750'>hash</span> <span m='3747960'>of</span>
  <span m='3748050'>all</span> <span m='3748170'>the</span> <span m='3748290'>outputs,</span>
  <span m='3748680'>the</span> <span m='3748770'>hash</span> <span m='3748950'>of</span>
  <span m='3749010'>this.</span> <span m='3750450'>And</span> <span m='3750570'>then</span>
  <span m='3750780'>here</span> <span m='3750980'>is</span> <span m='3751170'>that</span>
  <span m='3751530'>the</span> <span m='3751830'>input</span> <span m='3752190'>specific.</span>
  <span m='3757190'>Input specific.</span> <span m='3758270'>And</span> <span m='3758420'>then</span>
  <span m='3759110'>hash</span> <span m='3759410'>all</span> <span m='3759560'>these</span>
  <span m='3759740'>things</span> <span m='3760010'>into</span> <span m='3760220'>one</span>
  <span m='3761060'>thing</span> <span m='3761300'>and</span> <span m='3761420'>then</span>
  <span m='3761500'>sign</span> <span m='3761750'>that.</span> <span m='3762530'>So</span>
  <span m='3762620'>the</span> <span m='3762710'>idea</span> <span m='3762980'>is</span>
  <span m='3763100'>it's</span> <span m='3763570'>o of n</span> <span m='3764420'>in
  that</span> <span m='3764630'>you</span> <span m='3764720'>compute</span> <span
  m='3765020'>these</span> <span m='3765200'>three</span> <span m='3765530'>and</span>
  <span m='3765680'>then</span> <span m='3765830'>you</span> <span m='3765950'>sort</span>
  <span m='3766130'>of</span> <span m='3766340'>go down</span> <span m='3766560'>and</span>
  <span m='3766640'>keep</span> <span m='3766820'>changing</span> <span m='3767150'>this</span>
  <span m='3767360'>for</span> <span m='3767480'>each</span> <span m='3767600'>one.</span>
  <span m='3768530'>So</span> <span m='3768860'>that</span> <span m='3769070'>saves</span>
  <span m='3769670'>a</span> <span m='3769700'>lot</span> <span m='3769880'>of</span>
  <span m='3769970'>time.</span> <span m='3770630'>It's</span> <span m='3770750'>a</span>
  <span m='3770780'>much</span> <span m='3770990'>nicer--</span> <span m='3771470'>oh,</span>
  <span m='3771710'>you</span> <span m='3771860'>also</span> <span m='3772580'>put</span>
  <span m='3772880'>in</span> <span m='3774860'>the</span> <span m='3774950'>amount</span>
  <span m='3775310'>being</span> <span m='3775730'>spent</span> <span m='3776720'>in</span>
  <span m='3776840'>your</span> <span m='3776960'>signature</span> <span m='3777490'>hash,</span>
  <span m='3778380'>which</span> <span m='3778460'>is</span> <span m='3778580'>also</span>
  <span m='3778910'>redundant,</span> <span m='3779540'>because</span> <span m='3779720'>that's</span>
  <span m='3779870'>committed</span> <span m='3780200'>to</span> <span m='3780350'>in</span>
  <span m='3780410'>the</span> <span m='3780500'>txid</span> <span m='3781010'>that</span>
  <span m='3781100'>you're</span> <span m='3781190'>sending.</span> </p><p><span m='3782120'>But</span>
  <span m='3782720'>it's</span> <span m='3782930'>really</span> <span m='3783170'>nice</span>
  <span m='3783350'>for</span> <span m='3783470'>hardware</span> <span m='3783890'>wallets,</span>
  <span m='3784400'>because</span> <span m='3784580'>a</span> <span m='3784610'>lot</span>
  <span m='3784760'>of</span> <span m='3784820'>times</span> <span m='3785030'>hardware</span>
  <span m='3785340'>wallets</span> <span m='3785870'>are</span> <span m='3786020'>essentially</span>
  <span m='3786500'>presented</span> <span m='3787010'>with</span> <span m='3788300'>here's</span>
  <span m='3788510'>a</span> <span m='3788570'>hash.</span> <span m='3789050'>Sign</span>
  <span m='3789290'>it.</span> <span m='3790160'>And</span> <span m='3791030'>it's</span>
  <span m='3791360'>a</span> <span m='3791390'>very</span> <span m='3791660'>small</span>
  <span m='3792080'>system.</span> <span m='3792570'>It's</span> <span m='3792680'>a</span>
  <span m='3792740'>little</span> <span m='3793040'>chip</span> <span m='3793310'>somewhere,</span>
  <span m='3793565'>and</span> <span m='3794030'>it</span> <span m='3794120'>doesn't</span>
  <span m='3794330'>really</span> <span m='3794600'>know</span> <span m='3794960'>too</span>
  <span m='3795200'>much</span> <span m='3795380'>about</span> <span m='3795560'>bitcoin.</span>
  <span m='3795870'>It's</span> <span m='3795950'>just,</span> <span m='3796250'>here's</span>
  <span m='3796430'>a</span> <span m='3796490'>hash.</span> <span m='3796640'>Sign</span>
  <span m='3796850'>it.</span> <span m='3797540'>OK,</span> <span m='3798950'>and</span>
  <span m='3799070'>they</span> <span m='3799130'>don't</span> <span m='3799280'>know</span>
  <span m='3799400'>how</span> <span m='3799610'>much</span> <span m='3799880'>they're</span>
  <span m='3800030'>spending,</span> <span m='3800600'>so</span> <span m='3800720'>there</span>
  <span m='3800810'>could</span> <span m='3800960'>be</span> <span m='3801060'>attacks</span>
  <span m='3801560'>on</span> <span m='3801680'>hardware</span> <span m='3802010'>wallets,</span>
  <span m='3802310'>where</span> <span m='3802730'>they</span> <span m='3802850'>get</span>
  <span m='3802970'>a</span> <span m='3803030'>hardware</span> <span m='3803360'>wallet</span>
  <span m='3803510'>to</span> <span m='3803630'>sign</span> <span m='3803900'>something</span>
  <span m='3804260'>where</span> <span m='3804590'>it's</span> <span m='3804710'>actually</span>
  <span m='3804950'>moving</span> <span m='3805190'>too</span> <span m='3805370'>much</span>
  <span m='3805580'>money.</span> </p><p><span m='3806120'>So</span> <span m='3806210'>it's</span>
  <span m='3806330'>nice</span> <span m='3806540'>to</span> <span m='3806600'>be</span>
  <span m='3806690'>able</span> <span m='3806810'>to</span> <span m='3807140'>have</span>
  <span m='3807350'>the</span> <span m='3807470'>actual</span> <span m='3807770'>amount.</span>
  <span m='3809100'>So</span> <span m='3809200'>there's</span> <span m='3809240'>a</span>
  <span m='3809300'>bunch</span> <span m='3809450'>of</span> <span m='3809510'>stuff</span>
  <span m='3809660'>like</span> <span m='3809810'>that.</span> <span m='3810830'>It
  was</span> <span m='3811100'>a</span> <span m='3811160'>giant</span> <span m='3811610'>grab</span>
  <span m='3811940'>bag</span> <span m='3812300'>of</span> <span m='3812600'>all</span>
  <span m='3812810'>these</span> <span m='3812960'>different</span> <span m='3813230'>little</span>
  <span m='3813380'>fixes,</span> <span m='3813860'>things</span> <span m='3814070'>like</span>
  <span m='3814220'>that.</span> <span m='3815420'>Fixes</span> <span m='3815690'>malleability.</span>
  <span m='3816920'>It</span> <span m='3817040'>increases</span> <span m='3817490'>the</span>
  <span m='3817580'>block</span> <span m='3817850'>size.</span> <span m='3818520'>Does</span>
  <span m='3818720'>all</span> <span m='3818810'>these</span> <span m='3818930'>other</span>
  <span m='3819110'>cool</span> <span m='3819260'>things.</span> <span m='3820430'>People</span>
  <span m='3820700'>didn't</span> <span m='3820880'>like</span> <span m='3821180'>it.</span>
  <span m='3822900'>I</span> <span m='3823310'>never</span> <span m='3823790'>really</span>
  <span m='3824090'>understood</span> <span m='3824450'>why.</span> </p><p><span m='3826940'>AUDIENCE:</span>
  <span m='3827000'>For</span> <span m='3827060'>the reasons</span> <span m='3827390'>you've</span>
  <span m='3827720'>been</span> <span m='3827890'>telling</span> <span m='3828110'>everyone</span>
  <span m='3828320'>about?</span> </p><p><span m='3829450'>PROFESSOR:</span> <span
  m='3829500'>All</span> <span m='3829550'>these</span> <span m='3829730'>reasons?</span>
  <span m='3830050'>Wait,</span> <span m='3830630'>these</span> <span m='3830810'>seem</span>
  <span m='3831020'>like</span> <span m='3831140'>good</span> <span m='3831350'>things,</span>
  <span m='3831620'>right?</span> </p><p></p><p><span m='3832220'>AUDIENCE:</span>
  <span m='3832280'>Well,</span> <span m='3832340'>yeah,</span> <span m='3833070'>but</span>
  <span m='3833540'>[INAUDIBLE]</span> </p><p><span m='3836010'>PROFESSOR:</span>
  <span m='3836185'>Oh.</span> <span m='3836360'>No,</span> <span m='3836540'>that</span>
  <span m='3836720'>wasn't</span> <span m='3836960'>what--</span> <span m='3837860'>it</span>
  <span m='3837980'>wasn't</span> <span m='3838250'>like</span> <span m='3838400'>people</span>
  <span m='3838670'>were</span> <span m='3838760'>like,</span> <span m='3839630'>oh,</span>
  <span m='3839900'>here's</span> <span m='3840110'>some</span> <span m='3840290'>little</span>
  <span m='3840530'>things</span> <span m='3840800'>I</span> <span m='3840860'>don't</span>
  <span m='3841100'>like</span> <span m='3841310'>about</span> <span m='3841580'>it.</span>
  <span m='3841640'>Because</span> <span m='3841790'>that</span> <span m='3841910'>was</span>
  <span m='3842030'>what</span> <span m='3842150'>I</span> <span m='3842300'>said.</span>
  <span m='3842900'>That was like what</span> <span m='3843050'>everyone</span> <span
  m='3843380'>working</span> <span m='3843680'>on</span> <span m='3844040'>Bitcoin</span>
  <span m='3844370'>was</span> <span m='3844490'>like.</span> <span m='3845230'>No</span>
  <span m='3845400'>one</span> <span m='3845870'>thinks</span> <span m='3846410'>it's</span>
  <span m='3846530'>perfect.</span> <span m='3847250'>Everyone was like,</span> <span
  m='3847690'>oh,</span> <span m='3847820'>but this</span> <span m='3848260'>thing</span>
  <span m='3848410'>is</span> <span m='3848510'>weird.</span> <span m='3848930'>Why</span>
  <span m='3849100'>did you</span> <span m='3849230'>do</span> <span m='3849350'>that?</span>
  <span m='3849600'>Or</span> <span m='3849950'>why</span> <span m='3850070'>didn't</span>
  <span m='3850210'>you</span> <span m='3850280'>put</span> <span m='3850430'>this</span>
  <span m='3850670'>in</span> <span m='3850970'>kind</span> <span m='3851150'>of</span>
  <span m='3851210'>things.</span> </p><p><span m='3852560'>But</span> <span m='3852710'>no,</span>
  <span m='3852860'>the</span> <span m='3852950'>people</span> <span m='3853180'>who</span>
  <span m='3853220'>didn't</span> <span m='3853400'>like</span> <span m='3853580'>it</span>
  <span m='3853670'>really</span> <span m='3854150'>didn't</span> <span m='3854360'>like</span>
  <span m='3854660'>it.</span> <span m='3856210'>There's</span> <span m='3857510'>still</span>
  <span m='3857780'>a</span> <span m='3857810'>bounty</span> <span m='3858170'>on</span>
  <span m='3858500'>[INAUDIBLE]</span> <span m='3858620'>head,</span> <span m='3858950'>right?</span>
  <span m='3860310'>There's</span> <span m='3860810'>death</span> <span m='3861050'>threats.</span>
  <span m='3861400'>Someone's</span> <span m='3861680'>like,</span> <span m='3861830'>I'll</span>
  <span m='3861920'>pay</span> <span m='3862160'>someone</span> <span m='3862370'>to</span>
  <span m='3862430'>kill</span> <span m='3862610'>this</span> <span m='3862760'>guy.</span>
  <span m='3866780'>It's</span> <span m='3867020'>all,</span> <span m='3867410'>this</span>
  <span m='3867590'>is</span> <span m='3867710'>going</span> <span m='3867890'>to</span>
  <span m='3867950'>destroy</span> <span m='3868310'>Bitcoin,</span> <span m='3868730'>that</span>
  <span m='3869330'>segwit</span> <span m='3870080'>isn't</span> <span m='3870920'>bitcoin</span>
  <span m='3871370'>anymore,</span> <span m='3871760'>because</span> <span m='3872030'>there</span>
  <span m='3872150'>aren't</span> <span m='3872390'>any</span> <span m='3872540'>signatures.</span>
  <span m='3873380'>It's like</span> <span m='3873540'>no,</span> <span m='3873800'>signatures</span>
  <span m='3874240'>are</span> <span m='3874330'>still</span> <span m='3874520'>committed</span>
  <span m='3874820'>to,</span> <span m='3875390'>just</span> <span m='3875570'>in</span>
  <span m='3875660'>a</span> <span m='3875690'>different</span> <span m='3875930'>way.</span>
  <span m='3876440'>You have</span> <span m='3876530'>to</span> <span m='3876620'>build</span>
  <span m='3876800'>this</span> <span m='3876920'>other</span> <span m='3877100'>tree.</span>
  </p><p></p><p><span m='3879350'>So</span> <span m='3879530'>lots</span> <span m='3879800'>of</span>
  <span m='3879860'>weird</span> <span m='3880310'>conspiracies.</span> <span m='3880840'>I</span>
  <span m='3880960'>don't</span> <span m='3881100'>know.</span> <span m='3881360'>It</span>
  <span m='3881960'>became</span> <span m='3882710'>this</span> <span m='3882890'>really</span>
  <span m='3883820'>sticking</span> <span m='3884270'>point,</span> <span m='3884900'>and</span>
  <span m='3886100'>so</span> <span m='3886970'>that</span> <span m='3887270'>sort</span>
  <span m='3887510'>of</span> <span m='3887600'>led</span> <span m='3887750'>to</span>
  <span m='3887870'>Bitcoin</span> <span m='3888170'>Cash.</span> <span m='3888970'>The</span>
  <span m='3889050'>whole</span> <span m='3889250'>idea</span> <span m='3889440'>is</span>
  <span m='3889730'>segwit</span> <span m='3890270'>is</span> <span m='3890390'>bad.</span>
  <span m='3891110'>We're</span> <span m='3891260'>making</span> <span m='3891560'>Bitcoin</span>
  <span m='3891860'>Cash.</span> <span m='3892590'>And</span> <span m='3892730'>Bitcoin</span>
  <span m='3893060'>Cash</span> <span m='3893330'>forked</span> <span m='3893720'>off</span>
  <span m='3893960'>before</span> <span m='3894470'>segwit</span> <span m='3894680'>activated</span>
  <span m='3895520'>in</span> <span m='3896420'>the</span> <span m='3896510'>main</span>
  <span m='3896660'>network.</span> <span m='3897680'>Interestingly,</span> <span
  m='3898190'>Bitcoin</span> <span m='3898490'>Cash</span> <span m='3898740'>uses</span>
  <span m='3899600'>this.</span> <span m='3900900'>So</span> <span m='3900920'>they</span>
  <span m='3901010'>took</span> <span m='3901220'>a</span> <span m='3901520'>bunch</span>
  <span m='3901700'>of</span> <span m='3901760'>the</span> <span m='3901850'>code</span>
  <span m='3902000'>from</span> <span m='3902230'>segwit,</span> <span m='3902560'>because</span>
  <span m='3903080'>this</span> <span m='3903230'>is</span> <span m='3903440'>a really</span>
  <span m='3903560'>good</span> <span m='3904520'>improvement</span> <span m='3905010'>to</span>
  <span m='3905110'>signing</span> <span m='3905815'>that</span> <span m='3906200'>Bitcoin</span>
  <span m='3906500'>Cash</span> <span m='3906800'>used,</span> <span m='3906950'>but
  they</span> <span m='3907070'>didn't</span> <span m='3907370'>like</span> <span
  m='3907610'>segwit.</span> </p><p><span m='3909680'>Yeah,</span> <span m='3909950'>I'm</span>
  <span m='3910130'>still</span> <span m='3910370'>not</span> <span m='3910580'>like--</span>
  <span m='3912370'>I don't know.</span> <span m='3912760'>There's</span> <span m='3912990'>problems</span>
  <span m='3913440'>I</span> <span m='3913500'>have</span> <span m='3913680'>with</span>
  <span m='3913790'>it,</span> <span m='3913850'>too,</span> <span m='3914070'>but</span>
  <span m='3914190'>it's</span> <span m='3914730'>an</span> <span m='3914820'>upgrade,</span>
  <span m='3915340'>and</span> <span m='3915790'>it's</span> <span m='3916030'>cool.</span>
  <span m='3916890'>I</span> <span m='3917100'>think</span> <span m='3917280'>a</span>
  <span m='3917340'>lot</span> <span m='3917490'>of</span> <span m='3917610'>it</span>
  <span m='3917670'>was</span> <span m='3917880'>people</span> <span m='3918120'>wanted</span>
  <span m='3918510'>a</span> <span m='3918600'>hard</span> <span m='3918870'>fork,</span>
  <span m='3919526'>and</span> <span m='3920240'>this</span> <span m='3920420'>was</span>
  <span m='3920540'>a</span> <span m='3920600'>softfork.</span> <span m='3921080'>And</span>
  <span m='3921170'>so</span> <span m='3921320'>there's</span> <span m='3921520'>backwards</span>
  <span m='3921890'>compatibility,</span> <span m='3922490'>and</span> <span m='3922580'>they</span>
  <span m='3922670'>wanted</span> <span m='3922910'>to</span> <span m='3923240'>show</span>
  <span m='3923540'>that</span> <span m='3925180'>people</span> <span m='3925480'>have</span>
  <span m='3925630'>more</span> <span m='3925780'>control</span> <span m='3926230'>over</span>
  <span m='3926620'>bitcoin</span> <span m='3927320'>than</span> <span m='3927490'>they</span>
  <span m='3927820'>maybe</span> <span m='3928150'>do.</span> <span m='3928600'>It</span>
  <span m='3929080'>might</span> <span m='3929380'>never</span> <span m='3929680'>be</span>
  <span m='3929830'>possible</span> <span m='3930280'>to</span> <span m='3930370'>have</span>
  <span m='3930520'>a</span> <span m='3930550'>hard</span> <span m='3930730'>fork</span>
  <span m='3931180'>to</span> <span m='3931300'>get</span> <span m='3931540'>everyone</span>
  <span m='3931870'>on</span> <span m='3931960'>board</span> <span m='3932260'>to</span>
  <span m='3932560'>really</span> <span m='3932770'>switch.</span> <span m='3933190'>So</span>
  <span m='3933340'>who</span> <span m='3933430'>knows.</span> </p><p><span m='3934540'>So</span>
  <span m='3935020'>yeah,</span> <span m='3935290'>it</span> <span m='3935380'>was</span>
  <span m='3935500'>interesting.</span> <span m='3936430'>It</span> <span m='3936580'>took</span>
  <span m='3936790'>forever,</span> <span m='3938650'>and</span> <span m='3938770'>that</span>
  <span m='3938890'>was</span> <span m='3939010'>the</span> <span m='3939070'>last</span>
  <span m='3939940'>change</span> <span m='3940420'>to</span> <span m='3940540'>the</span>
  <span m='3940630'>bitcoin</span> <span m='3940930'>code</span> <span m='3941530'>in</span>
  <span m='3941650'>terms</span> <span m='3941890'>of</span> <span m='3942750'>consensus</span>
  <span m='3943290'>code.</span> <span m='3944170'>And</span> <span m='3945130'>it</span>
  <span m='3945220'>was</span> <span m='3945550'>initially</span> <span m='3946120'>announced</span>
  <span m='3948130'>late</span> <span m='3948310'>2015</span> <span m='3949240'>in</span>
  <span m='3949360'>Hong</span> <span m='3949540'>Kong,</span> <span m='3950980'>and</span>
  <span m='3951160'>then</span> <span m='3952060'>all</span> <span m='3952270'>of</span>
  <span m='3952360'>2016</span> <span m='3953120'>it</span> <span m='3953200'>never--</span>
  <span m='3953500'>so</span> <span m='3953650'>it</span> <span m='3953710'>activated</span>
  <span m='3954880'>in</span> <span m='3955120'>August</span> <span m='3955480'>of</span>
  <span m='3955570'>last</span> <span m='3955840'>year.</span> <span m='3956050'>And</span>
  <span m='3956520'>now</span> <span m='3956650'>you</span> <span m='3956710'>can</span>
  <span m='3956800'>use</span> <span m='3956950'>it.</span> </p><p><span m='3957410'>AUDIENCE:</span>
  <span m='3957525'>People</span> <span m='3957640'>had</span> <span m='3957800'>big</span>
  <span m='3958030'>interest</span> <span m='3958540'>in</span> <span m='3958630'>stopping</span>
  <span m='3959020'>it,</span> <span m='3959110'>though.</span> <span m='3960000'>At</span>
  <span m='3960260'>one point</span> <span m='3960560'>they</span> <span m='3960880'>were</span>
  <span m='3961000'>spending</span> <span m='3962020'>hundreds</span> <span m='3962410'>of</span>
  <span m='3962530'>thousands</span> <span m='3962950'>of</span> <span m='3963040'>dollars</span>
  <span m='3963400'>a</span> <span m='3963460'>day</span> <span m='3964380'>to stop
  it from</span> <span m='3964730'>activating.</span> </p><p><span m='3965740'>PROFESSOR:</span>
  <span m='3965900'>Yeah,</span> <span m='3966060'>so</span> <span m='3966310'>on</span>
  <span m='3966500'>your</span> <span m='3967270'>vert</span> <span m='3967660'>coin,</span>
  <span m='3968650'>you're</span> <span m='3968860'>like,</span> <span m='3969100'>I'll</span>
  <span m='3969250'>just</span> <span m='3969370'>take</span> <span m='3969550'>the</span>
  <span m='3969610'>segwit</span> <span m='3969900'>code</span> <span m='3970150'>and</span>
  <span m='3970300'>activate</span> <span m='3970720'>it,</span> <span m='3970810'>and</span>
  <span m='3970900'>like</span> <span m='3971020'>cool.</span> <span m='3971380'>And</span>
  <span m='3971500'>then</span> <span m='3971710'>people</span> <span m='3971980'>tried</span>
  <span m='3972190'>to</span> <span m='3972280'>stop</span> <span m='3972520'>it</span>
  <span m='3972830'>and</span> <span m='3972970'>spend</span> <span m='3973180'>a</span>
  <span m='3973210'>lot</span> <span m='3973330'>of</span> <span m='3973390'>money</span>
  <span m='3973570'>to</span> <span m='3973660'>stop</span> <span m='3973930'>it.</span>
  <span m='3977050'>OK,</span> <span m='3977410'>I</span> <span m='3977590'>want to</span>
  <span m='3977650'>say</span> <span m='3977800'>unclear</span> <span m='3978130'>why,</span>
  <span m='3978280'>because</span> <span m='3978520'>I</span> <span m='3978640'>don't</span>
  <span m='3978790'>know.</span> <span m='3979420'>It's</span> <span m='3979540'>sort</span>
  <span m='3979720'>of</span> <span m='3979810'>weird.</span> <span m='3980600'>There's</span>
  <span m='3980680'>a</span> <span m='3980770'>whole</span> <span m='3980920'>lot</span>
  <span m='3981100'>of</span> <span m='3981190'>opinions.</span> </p><p><span m='3981970'>One</span>
  <span m='3983140'>theory</span> <span m='3985230'>is</span> <span m='3985380'>that</span>
  <span m='3985830'>this</span> <span m='3987180'>breaks</span> <span m='3987720'>some</span>
  <span m='3988170'>mining</span> <span m='3988590'>chips</span> <span m='3989790'>optimizations.</span>
  <span m='3991560'>One</span> <span m='3991860'>of</span> <span m='3992010'>the</span>
  <span m='3992220'>optimizations--</span> <span m='3993810'>it</span> <span m='3993960'>doesn't</span>
  <span m='3994140'>work</span> <span m='3994320'>with</span> <span m='3994440'>a</span>
  <span m='3994500'>tree</span> <span m='3994690'>of</span> <span m='3994820'>height</span>
  <span m='3994980'>two.</span> <span m='3995960'>But</span> <span m='3996060'>if</span>
  <span m='3996120'>you</span> <span m='3996180'>have</span> <span m='3996270'>a</span>
  <span m='3996330'>really</span> <span m='3996690'>tall</span> <span m='3996930'>tree,</span>
  <span m='3997710'>you</span> <span m='3997860'>can</span> <span m='3998100'>swap</span>
  <span m='3999060'>txids,</span> <span m='4000710'>or</span> <span m='4000800'>you</span>
  <span m='4000890'>can</span> <span m='4001040'>swap</span> <span m='4001430'>intermediate</span>
  <span m='4002000'>nodes</span> <span m='4002480'>of</span> <span m='4002630'>the</span>
  <span m='4002690'>tree</span> <span m='4003380'>and</span> <span m='4003680'>you'll</span>
  <span m='4003860'>get</span> <span m='4003980'>a</span> <span m='4004040'>different</span>
  <span m='4005030'>merkle</span> <span m='4005370'>route.</span> <span m='4006140'>So</span>
  <span m='4006710'>you</span> <span m='4006800'>can</span> <span m='4006920'>see--</span>
  <span m='4008720'>so it</span> <span m='4008910'>doesn't</span> <span m='4009110'>work</span>
  <span m='4009230'>here,</span> <span m='4009350'>because</span> <span m='4009620'>this</span>
  <span m='4009800'>has</span> <span m='4009950'>to</span> <span m='4010040'>stay</span>
  <span m='4010250'>in</span> <span m='4010310'>place.</span> <span m='4011270'>But</span>
  <span m='4011420'>in</span> <span m='4011510'>many</span> <span m='4011750'>cases,</span>
  <span m='4012440'>the</span> <span m='4012590'>order</span> <span m='4013100'>of</span>
  <span m='4013430'>the</span> <span m='4013550'>transactions</span> <span m='4014210'>is</span>
  <span m='4014330'>arbitrary.</span> </p><p><span m='4015440'>So</span> <span m='4015660'>I</span>
  <span m='4016250'>could</span> <span m='4016370'>flip</span> <span m='4016550'>these</span>
  <span m='4016760'>two.</span> <span m='4017450'>It's</span> <span m='4017570'>still</span>
  <span m='4017750'>valid.</span> <span m='4020240'>So</span> <span m='4020840'>what</span>
  <span m='4020960'>I</span> <span m='4021020'>might</span> <span m='4021230'>do</span>
  <span m='4021380'>is</span> <span m='4021440'>say,</span> <span m='4021750'>OK.</span>
  <span m='4022430'>I</span> <span m='4022520'>have</span> <span m='4022730'>this</span>
  <span m='4022910'>merkle</span> <span m='4023230'>route</span> <span m='4023720'>I'm</span>
  <span m='4023840'>mining,</span> <span m='4025130'>and</span> <span m='4025250'>then</span>
  <span m='4025700'>I</span> <span m='4025850'>want</span> <span m='4026150'>to</span>
  <span m='4026660'>flip</span> <span m='4027170'>these</span> <span m='4027530'>two,</span>
  <span m='4028130'>calculate</span> <span m='4028700'>a</span> <span m='4028760'>different</span>
  <span m='4029090'>merkle</span> <span m='4029360'>route,</span> <span m='4029540'>and</span>
  <span m='4029660'>mine.</span> <span m='4030290'>And</span> <span m='4030380'>there</span>
  <span m='4030500'>were</span> <span m='4030590'>some</span> <span m='4031100'>chips</span>
  <span m='4031430'>that</span> <span m='4031580'>maybe</span> <span m='4031850'>did</span>
  <span m='4032120'>this</span> <span m='4032840'>and</span> <span m='4032930'>had</span>
  <span m='4033110'>these</span> <span m='4033320'>kinds</span> <span m='4033560'>of</span>
  <span m='4033650'>optimizations.</span> <span m='4034610'>There</span> <span m='4034790'>was</span>
  <span m='4034910'>also</span> <span m='4035210'>a</span> <span m='4035270'>patent</span>
  <span m='4035780'>on</span> <span m='4035930'>it</span> <span m='4036140'>and</span>
  <span m='4036530'>all</span> <span m='4036650'>this</span> <span m='4036800'>weird</span>
  <span m='4036980'>stuff</span> <span m='4037130'>going</span> <span m='4037340'>on.</span>
  </p><p><span m='4039510'>It</span> <span m='4040150'>doesn't</span> <span m='4040640'>break,</span>
  <span m='4040940'>but</span> <span m='4041060'>it</span> <span m='4041180'>essentially</span>
  <span m='4042080'>loses</span> <span m='4042470'>the</span> <span m='4042590'>optimization</span>
  <span m='4043220'>if</span> <span m='4043310'>you</span> <span m='4043400'>have</span>
  <span m='4043550'>this.</span> <span m='4043940'>Because</span> <span m='4044180'>you're</span>
  <span m='4044240'>saying,</span> <span m='4044420'>OK,</span> <span m='4045050'>I'm</span>
  <span m='4045200'>going</span> <span m='4045320'>to</span> <span m='4046160'>have</span>
  <span m='4046280'>this</span> <span m='4046430'>big</span> <span m='4046730'>tree.</span>
  <span m='4047780'>I'm</span> <span m='4047870'>going</span> <span m='4047990'>to</span>
  <span m='4048080'>swap</span> <span m='4048980'>something</span> <span m='4049370'>near</span>
  <span m='4049550'>the</span> <span m='4049640'>top,</span> <span m='4050570'>and</span>
  <span m='4050660'>it</span> <span m='4050750'>only</span> <span m='4050930'>has</span>
  <span m='4051050'>to</span> <span m='4051140'>recompute</span> <span m='4051830'>two</span>
  <span m='4052070'>hashes</span> <span m='4052610'>to</span> <span m='4052760'>get</span>
  <span m='4052880'>a</span> <span m='4052940'>new</span> <span m='4053230'>merkle</span>
  <span m='4053470'>route.</span> <span m='4054770'>However,</span> <span m='4055340'>if</span>
  <span m='4055970'>I</span> <span m='4056060'>now</span> <span m='4056180'>have</span>
  <span m='4056330'>this</span> <span m='4057230'>mirror</span> <span m='4057530'>image</span>
  <span m='4058550'>witness</span> <span m='4059840'>merkle</span> <span m='4060260'>tree</span>
  <span m='4060680'>underneath,</span> <span m='4062000'>if</span> <span m='4062150'>I</span>
  <span m='4062240'>say,</span> <span m='4062420'>OK,</span> <span m='4062600'>I'm</span>
  <span m='4062660'>going</span> <span m='4062780'>to</span> <span m='4062840'>swap</span>
  <span m='4063110'>this,</span> <span m='4063770'>I'm</span> <span m='4063920'>also</span>
  <span m='4064250'>swapping</span> <span m='4064610'>all</span> <span m='4064700'>these.</span>
  </p><p><span m='4065090'>And</span> <span m='4065210'>I</span> <span m='4065240'>have</span>
  <span m='4065360'>to</span> <span m='4065480'>recompute</span> <span m='4067070'>this.</span>
  <span m='4069050'>Maybe</span> <span m='4069320'>I</span> <span m='4069410'>can</span>
  <span m='4069560'>swap</span> <span m='4069800'>some</span> <span m='4069980'>of</span>
  <span m='4070100'>it,</span> <span m='4070190'>but</span> <span m='4070310'>I</span>
  <span m='4070340'>have</span> <span m='4070430'>to</span> <span m='4070520'>recompute</span>
  <span m='4071060'>what</span> <span m='4071240'>this.</span> <span m='4071780'>This
  is</span> <span m='4071850'>going</span> <span m='4071920'>to</span> <span m='4072020'>change</span>
  <span m='4072530'>just</span> <span m='4072740'>as</span> <span m='4072830'>well.</span>
  <span m='4073590'>And</span> <span m='4073690'>then</span> <span m='4073700'>I</span>
  <span m='4073730'>have</span> <span m='4073820'>to</span> <span m='4073910'>put</span>
  <span m='4074060'>that</span> <span m='4074240'>in</span> <span m='4074330'>here,</span>
  <span m='4074660'>and</span> <span m='4074780'>this</span> <span m='4074930'>is</span>
  <span m='4074990'>going</span> <span m='4075100'>to</span> <span m='4075170'>be</span>
  <span m='4075230'>at</span> <span m='4075290'>the</span> <span m='4075350'>bottom.</span>
  <span m='4076090'>And</span> <span m='4076220'>then,</span> <span m='4076310'>I'm</span>
  <span m='4076370'>going</span> <span m='4076490'>to</span> <span m='4076670'>have
  to recompute</span> <span m='4077090'>everything</span> <span m='4077570'>all</span>
  <span m='4077690'>the</span> <span m='4077750'>way</span> <span m='4077900'>up</span>
  <span m='4078020'>to</span> <span m='4078110'>the</span> <span m='4078170'>merkle
  route.</span> <span m='4079830'>So</span> <span m='4079880'>this</span> <span m='4080030'>was</span>
  <span m='4080150'>called</span> <span m='4080750'>AsicBoost,</span> <span m='4081570'>and</span>
  <span m='4081590'>then</span> <span m='4081710'>there</span> <span m='4081800'>was</span>
  <span m='4081920'>a</span> <span m='4082670'>post--</span> <span m='4084140'>Greg</span>
  <span m='4084380'>Maxwell</span> <span m='4084710'>posted</span> <span m='4085800'>this</span>
  <span m='4086900'>sort of like, you</span> <span m='4087200'>guys,</span> <span
  m='4088760'>like</span> <span m='4088940'>accusatory</span> <span m='4090170'>mail</span>
  <span m='4090530'>on</span> <span m='4090650'>the</span> <span m='4090710'>mailing</span>
  <span m='4091070'>list</span> <span m='4091340'>last</span> <span m='4091580'>spring</span>
  <span m='4092390'>saying,</span> <span m='4092690'>look.</span> </p><p><span m='4093590'>We</span>
  <span m='4093830'>were</span> <span m='4093950'>trying</span> <span m='4094280'>to</span>
  <span m='4094850'>figure</span> <span m='4095210'>out</span> <span m='4095330'>a</span>
  <span m='4095390'>way</span> <span m='4095780'>to</span> <span m='4096020'>break</span>
  <span m='4096590'>AsicBoost,</span> <span m='4097490'>because</span> <span m='4097819'>we</span>
  <span m='4097970'>think</span> <span m='4098180'>miners</span> <span m='4098779'>have</span>
  <span m='4098930'>this</span> <span m='4099260'>patented</span> <span m='4099710'>algorithm</span>
  <span m='4100609'>that</span> <span m='4100790'>optimizes</span> <span m='4101600'>and</span>
  <span m='4101720'>it</span> <span m='4101779'>gives</span> <span m='4101990'>a 20%,</span>
  <span m='4102500'>30%</span> <span m='4102979'>speed</span> <span m='4103220'>up.</span>
  <span m='4103819'>And</span> <span m='4104029'>we're</span> <span m='4104180'>worried</span>
  <span m='4104479'>that</span> <span m='4104630'>the</span> <span m='4104720'>patents</span>
  <span m='4105109'>will</span> <span m='4105229'>make</span> <span m='4105649'>one</span>
  <span m='4105729'>miner,</span> <span m='4106340'>have</span> <span m='4106490'>a</span>
  <span m='4106550'>monopoly,</span> <span m='4107060'>and</span> <span m='4107330'>everyone</span>
  <span m='4107720'>else</span> <span m='4107899'>won't</span> <span m='4108050'>be</span>
  <span m='4108140'>competitive.</span> <span m='4108930'>So</span> <span m='4108979'>we're</span>
  <span m='4109100'>trying</span> <span m='4109310'>to</span> <span m='4109370'>think,</span>
  <span m='4109550'>is</span> <span m='4109700'>there</span> <span m='4109850'>a</span>
  <span m='4109880'>way</span> <span m='4110090'>we</span> <span m='4111790'>make</span>
  <span m='4111970'>software</span> <span m='4112300'>to</span> <span m='4112390'>prevent</span>
  <span m='4112720'>this</span> <span m='4113140'>from</span> <span m='4113479'>this</span>
  <span m='4113960'>optimization?</span> </p><p><span m='4115149'>And</span> <span
  m='4115300'>then</span> <span m='4116080'>once</span> <span m='4116319'>they</span>
  <span m='4116439'>tried</span> <span m='4116680'>to</span> <span m='4116770'>look</span>
  <span m='4116950'>at</span> <span m='4117069'>it,</span> <span m='4117220'>they
  were like,</span> <span m='4117399'>oh,</span> <span m='4117490'>wait.</span> <span
  m='4118300'>Segwit</span> <span m='4118720'>does</span> <span m='4118960'>that.</span>
  <span m='4119640'>We</span> <span m='4120010'>want</span> <span m='4120189'>to</span>
  <span m='4120250'>make</span> <span m='4120430'>it</span> <span m='4120609'>costly</span>
  <span m='4121180'>to</span> <span m='4121330'>swap</span> <span m='4121960'>things</span>
  <span m='4122229'>in</span> <span m='4122319'>the</span> <span m='4122410'>tree,</span>
  <span m='4123310'>and</span> <span m='4123670'>segwit</span> <span m='4123970'>does</span>
  <span m='4124180'>that.</span> <span m='4124450'>Oh,</span> <span m='4124640'>so</span>
  <span m='4124870'>basically,</span> <span m='4125350'>we're</span> <span m='4125890'>good.</span>
  <span m='4126220'>And</span> <span m='4126370'>then</span> <span m='4126490'>he</span>
  <span m='4126580'>was</span> <span m='4126670'>like,</span> <span m='4126970'>oh,</span>
  <span m='4127210'>wait.</span> <span m='4127630'>Maybe</span> <span m='4127990'>that's</span>
  <span m='4128380'>why</span> <span m='4128620'>all</span> <span m='4128740'>these</span>
  <span m='4128890'>people</span> <span m='4129160'>hate</span> <span m='4129340'>segwit.</span>
  <span m='4130210'>Maybe</span> <span m='4130600'>this</span> <span m='4130840'>is</span>
  <span m='4131680'>these</span> <span m='4132100'>miners</span> <span m='4132550'>who</span>
  <span m='4132670'>have</span> <span m='4132880'>billions</span> <span m='4133960'>of</span>
  <span m='4134050'>dollars</span> <span m='4134439'>worth</span> <span m='4134590'>of</span>
  <span m='4134680'>equipment</span> <span m='4135520'>with</span> <span m='4135670'>these</span>
  <span m='4135880'>optimizations</span> <span m='4136600'>in</span> <span m='4136720'>it,</span>
  <span m='4137170'>which</span> <span m='4137350'>would</span> <span m='4137500'>be</span>
  <span m='4137590'>rendered</span> <span m='4138910'>unusable</span> <span m='4139689'>by</span>
  <span m='4139870'>this</span> <span m='4140050'>new</span> <span m='4140200'>software</span>
  <span m='4140560'>change,</span> <span m='4141609'>maybe</span> <span m='4141970'>they're</span>
  <span m='4142120'>trying</span> <span m='4142330'>to</span> <span m='4142420'>prevent</span>
  <span m='4142689'>it</span> <span m='4142779'>from</span> <span m='4142930'>activating.</span>
  </p><p><span m='4144580'>It's</span> <span m='4144790'>a</span> <span m='4144850'>theory,</span>
  <span m='4145390'>and</span> <span m='4145740'>the</span> <span m='4146020'>mining</span>
  <span m='4146439'>companies</span> <span m='4146899'>said,</span> <span m='4147010'>oh,</span>
  <span m='4147450'>no</span> <span m='4148060'>that's</span> <span m='4148720'>a</span>
  <span m='4148779'>bunch</span> <span m='4148960'>of</span> <span m='4149020'>nonsense.</span>
  <span m='4149319'>Although,</span> <span m='4149950'>the</span> <span m='4150040'>way</span>
  <span m='4150160'>they</span> <span m='4150279'>said</span> <span m='4150490'>it</span>
  <span m='4150550'>was</span> <span m='4150670'>sort</span> <span m='4150880'>of</span>
  <span m='4150939'>suspicious.</span> <span m='4151590'>They were like,</span> <span
  m='4151770'>yeah,</span> <span m='4152350'>we</span> <span m='4152470'>put</span>
  <span m='4152710'>circuitry</span> <span m='4153189'>in</span> <span m='4153310'>our</span>
  <span m='4153399'>chips</span> <span m='4153700'>to</span> <span m='4153819'>do</span>
  <span m='4153970'>this,</span> <span m='4154210'>but</span> <span m='4154390'>we</span>
  <span m='4154540'>never</span> <span m='4154720'>used</span> <span m='4154960'>it.</span>
  <span m='4155500'>That's</span> <span m='4155920'>strange.</span> <span m='4157210'>So</span>
  <span m='4158229'>who</span> <span m='4158380'>knows.</span> <span m='4159520'>But</span>
  <span m='4160000'>that's</span> <span m='4160270'>one</span> <span m='4161050'>theory.</span>
  <span m='4161560'>I'm</span> <span m='4161649'>not</span> <span m='4161920'>sure</span>
  <span m='4162100'>how</span> <span m='4162220'>much</span> <span m='4162460'>I</span>
  <span m='4162520'>believe</span> <span m='4163090'>that's</span> <span m='4163330'>the</span>
  <span m='4163420'>real</span> <span m='4163600'>reason,</span> <span m='4164130'>but
  yeah.</span> </p><p><span m='4164410'>AUDIENCE:</span> <span m='4164880'>but if
  they want to calculate Merkle roots</span> <span m='4165590'>in</span> <span m='4166010'>bitcoin,</span>
  <span m='4166840'>don't just--</span> <span m='4168240'>order</span> <span m='4168689'>all</span>
  <span m='4169129'>of</span> <span m='4169569'>the</span> <span m='4170010'>transaction</span>
  <span m='4170370'>fees</span> <span m='4170762'>by</span> <span m='4171154'>transaction</span>
  <span m='4171546'>ID?</span> </p><p><span m='4171939'>PROFESSOR:</span> <span m='4172044'>You</span>
  <span m='4172149'>can't,</span> <span m='4172560'>because</span> <span m='4174250'>the</span>
  <span m='4174490'>order</span> <span m='4174790'>matters.</span> <span m='4175359'>Because</span>
  <span m='4175660'>when</span> <span m='4175810'>you</span> <span m='4175930'>validate,</span>
  <span m='4177460'>this</span> <span m='4178149'>transaction</span> <span m='4178779'>might</span>
  <span m='4178930'>create</span> <span m='4179260'>an</span> <span m='4179380'>output</span>
  <span m='4179710'>that</span> <span m='4179939'>this</span> <span m='4180160'>transaction</span>
  <span m='4180430'>spends.</span> <span m='4181484'>And</span> <span m='4181990'>so</span>
  <span m='4182080'>if</span> <span m='4182140'>you</span> <span m='4182229'>swap</span>
  <span m='4182649'>them,</span> <span m='4184060'>so</span> <span m='4184210'>if</span>
  <span m='4184330'>you</span> <span m='4184390'>didn't</span> <span m='4184630'>have</span>
  <span m='4184840'>intra</span> <span m='4186550'>block</span> <span m='4186910'>dependencies,</span>
  <span m='4187990'>then</span> <span m='4188109'>it</span> <span m='4188170'>would</span>
  <span m='4188260'>all</span> <span m='4188380'>be</span> <span m='4188500'>arbitrary</span>
  <span m='4189069'>and</span> <span m='4189189'>you</span> <span m='4189250'>could</span>
  <span m='4189370'>put</span> <span m='4189520'>in</span> <span m='4189670'>ordering.</span>
  <span m='4190450'>But</span> <span m='4190870'>there</span> <span m='4191140'>are</span>
  <span m='4191529'>intra</span> <span m='4191830'>block</span> <span m='4192069'>dependencies,</span>
  <span m='4192729'>and</span> <span m='4192850'>so</span> <span m='4193000'>the</span>
  <span m='4193090'>order</span> <span m='4193359'>does</span> <span m='4193569'>matter.</span>
  </p><p><span m='4194530'>In</span> <span m='4194650'>many</span> <span m='4194950'>cases,</span>
  <span m='4195410'>it</span> <span m='4195510'>doesn't.</span> <span m='4195790'>In</span>
  <span m='4195850'>many</span> <span m='4196090'>cases,</span> <span m='4196350'>these</span>
  <span m='4196510'>are</span> <span m='4196570'>two</span> <span m='4196960'>separate</span>
  <span m='4197320'>transactions.</span> <span m='4197830'>You</span> <span m='4197920'>can</span>
  <span m='4198040'>swap</span> <span m='4198280'>them.</span> <span m='4199060'>But</span>
  <span m='4199390'>the</span> <span m='4199820'>software</span> <span m='4200110'>does</span>
  <span m='4200350'>use</span> <span m='4200500'>the</span> <span m='4200590'>ordering.</span>
  <span m='4202350'>And</span> <span m='4202480'>there's</span> <span m='4202660'>all</span>
  <span m='4202930'>sorts</span> <span m='4203470'>of</span> <span m='4203560'>other</span>
  <span m='4203710'>things</span> <span m='4203920'>that would</span> <span m='4204030'>be</span>
  <span m='4204120'>better.</span> <span m='4205100'>What</span> <span m='4205150'>I</span>
  <span m='4205240'>would</span> <span m='4205360'>want</span> <span m='4205720'>is</span>
  <span m='4206665'>prepend</span> <span m='4207970'>or</span> <span m='4208330'>append</span>
  <span m='4208990'>the</span> <span m='4209650'>height</span> <span m='4211150'>at</span>
  <span m='4211270'>each</span> <span m='4211930'>stage</span> <span m='4212530'>of</span>
  <span m='4212650'>the</span> <span m='4212710'>merkle</span> <span m='4212980'>tree.</span>
  <span m='4213430'>That</span> <span m='4213580'>would</span> <span m='4213670'>have</span>
  <span m='4213760'>helped</span> <span m='4213940'>me</span> <span m='4214180'>out</span>
  <span m='4214450'>for</span> <span m='4214630'>some</span> <span m='4214800'>things.</span>
  <span m='4216760'>Because</span> <span m='4217060'>then,</span> <span m='4217210'>it's</span>
  <span m='4217330'>like</span> <span m='4217450'>you</span> <span m='4217540'>know,</span>
  <span m='4217720'>since</span> <span m='4217960'>you're</span> <span m='4218080'>at</span>
  <span m='4218140'>the</span> <span m='4218230'>bottom</span> <span m='4218800'>just</span>
  <span m='4218980'>put</span> <span m='4219130'>a</span> <span m='4219190'>zero</span>
  <span m='4219430'>at</span> <span m='4219520'>the</span> <span m='4219640'>end</span>
  <span m='4220420'>of</span> <span m='4220570'>each</span> <span m='4220720'>hash.</span>
  <span m='4221440'>And</span> <span m='4221530'>then</span> <span m='4221620'>when</span>
  <span m='4221710'>you</span> <span m='4221800'>get</span> <span m='4221920'>up</span>
  <span m='4222010'>here,</span> <span m='4222220'>put</span> <span m='4222370'>a</span>
  <span m='4222430'>one</span> <span m='4222580'>at</span> <span m='4222670'>the</span>
  <span m='4222790'>end</span> <span m='4222910'>of</span> <span m='4223000'>each</span>
  <span m='4223150'>hash.</span> </p><p><span m='4224830'>Doesn't</span> <span m='4225070'>really</span>
  <span m='4225310'>change</span> <span m='4225610'>anything.</span> <span m='4226750'>But</span>
  <span m='4226960'>one</span> <span m='4227200'>problem</span> <span m='4227680'>is</span>
  <span m='4228610'>what</span> <span m='4228880'>if</span> <span m='4229030'>I</span>
  <span m='4229570'>request--</span> <span m='4231790'>so</span> <span m='4232010'>what</span>
  <span m='4232130'>I</span> <span m='4232220'>want</span> <span m='4232370'>to</span>
  <span m='4232460'>do</span> <span m='4232570'>in</span> <span m='4232640'>my</span>
  <span m='4232760'>software.</span> <span m='4233330'>I want to</span> <span m='4233540'>request</span>
  <span m='4233900'>all</span> <span m='4234050'>the</span> <span m='4234110'>transaction</span>
  <span m='4234650'>IDs</span> <span m='4235100'>in</span> <span m='4235220'>a</span>
  <span m='4235250'>block.</span> <span m='4235910'>I</span> <span m='4235970'>don't</span>
  <span m='4236120'>actually</span> <span m='4236330'>care</span> <span m='4236510'>about</span>
  <span m='4236690'>the</span> <span m='4236820'>transactions.</span> <span m='4237320'>I</span>
  <span m='4237380'>just</span> <span m='4237530'>want</span> <span m='4237650'>to</span>
  <span m='4237710'>see</span> <span m='4237820'>all</span> <span m='4237920'>the</span>
  <span m='4238020'>txids.</span> <span m='4241360'>Like</span> <span m='4241520'>this.</span>
  <span m='4242230'>If I</span> <span m='4242990'>get</span> <span m='4243140'>rid</span>
  <span m='4243260'>of</span> <span m='4243320'>the</span> <span m='4243380'>head</span>
  <span m='4243560'>20,</span> <span m='4244010'>I</span> <span m='4244130'>get</span>
  <span m='4244320'>a</span> <span m='4245030'>giant</span> <span m='4245360'>list</span>
  <span m='4245540'>of</span> <span m='4245620'>txids.</span> <span m='4246830'>The</span>
  <span m='4246890'>thing</span> <span m='4247130'>is,</span> <span m='4248420'>what</span>
  <span m='4248920'>this</span> <span m='4249120'>let</span> <span m='4249260'>me</span>
  <span m='4249350'>do</span> <span m='4249470'>is</span> <span m='4249590'>to</span>
  <span m='4249680'>look</span> <span m='4249830'>for</span> <span m='4249950'>transactions.</span>
  </p><p><span m='4250610'>If</span> <span m='4250730'>I</span> <span m='4250850'>have</span>
  <span m='4250990'>a</span> <span m='4251070'>txid</span> <span m='4251510'>I</span>
  <span m='4251600'>know</span> <span m='4251760'>I'm</span> <span m='4251900'>looking,</span>
  <span m='4252140'>I can say,</span> <span m='4252380'>oh,</span> <span m='4252530'>I</span>
  <span m='4252610'>can</span> <span m='4252840'>look</span> <span m='4253100'>for</span>
  <span m='4253210'>it</span> <span m='4253310'>in here.</span> <span m='4254600'>The</span>
  <span m='4254690'>problem</span> <span m='4255020'>is,</span> <span m='4255620'>what</span>
  <span m='4255860'>if</span> <span m='4256040'>the</span> <span m='4256160'>person</span>
  <span m='4256520'>I'm</span> <span m='4256640'>asking</span> <span m='4257120'>is</span>
  <span m='4257270'>giving</span> <span m='4257540'>me</span> <span m='4257960'>this</span>
  <span m='4258830'>instead</span> <span m='4259280'>of</span> <span m='4259730'>this?</span>
  <span m='4261080'>I</span> <span m='4261140'>won't</span> <span m='4261290'>know.</span>
  <span m='4262680'>They</span> <span m='4263040'>all</span> <span m='4263160'>look</span>
  <span m='4263340'>like</span> <span m='4263490'>random</span> <span m='4263760'>numbers.</span>
  <span m='4265470'>If</span> <span m='4266070'>I</span> <span m='4266160'>do</span>
  <span m='4266460'>the</span> <span m='4266580'>merkle</span> <span m='4266910'>tree</span>
  <span m='4267810'>algo, I'll</span> <span m='4268560'>get</span> <span m='4268770'>to</span>
  <span m='4268890'>the</span> <span m='4268980'>merkle</span> <span m='4269280'>route.</span>
  <span m='4269890'>That's</span> <span m='4270090'>good.</span> <span m='4270540'>But</span>
  <span m='4270690'>I</span> <span m='4270750'>don't</span> <span m='4270930'>really</span>
  <span m='4271200'>know</span> <span m='4271530'>that</span> <span m='4271680'>I'm</span>
  <span m='4271770'>at</span> <span m='4271860'>the</span> <span m='4271950'>bottom.</span>
  <span m='4273960'>It's OK</span> <span m='4274320'>if</span> <span m='4274680'>I'm</span>
  <span m='4274800'>running</span> <span m='4275010'>a</span> <span m='4275040'>full</span>
  <span m='4275210'>node</span> <span m='4275430'>and</span> <span m='4275520'>I</span>
  <span m='4275820'>actually</span> <span m='4276180'>download</span> <span m='4276570'>all</span>
  <span m='4276690'>the</span> <span m='4276780'>transactions</span> <span m='4277480'>and</span>
  <span m='4277590'>look,</span> <span m='4277870'>and</span> <span m='4278090'>OK,</span>
  <span m='4278280'>it</span> <span m='4278340'>works.</span> </p><p><span m='4279210'>But</span>
  <span m='4280080'>to</span> <span m='4280260'>have</span> <span m='4280440'>a</span>
  <span m='4280500'>way</span> <span m='4280650'>to</span> <span m='4280740'>say,</span>
  <span m='4280990'>hey,</span> <span m='4281470'>give</span> <span m='4281550'>me</span>
  <span m='4281670'>a</span> <span m='4281730'>list</span> <span m='4282000'>of</span>
  <span m='4282090'>all</span> <span m='4282180'>the</span> <span m='4282270'>txids</span>
  <span m='4283320'>and</span> <span m='4283440'>I</span> <span m='4283500'>can</span>
  <span m='4283620'>verify</span> <span m='4284010'>that</span> <span m='4284130'>it's</span>
  <span m='4284220'>correct,</span> <span m='4284490'>I</span> <span m='4284850'>can't</span>
  <span m='4285060'>do</span> <span m='4285180'>that</span> <span m='4285300'>right</span>
  <span m='4285420'>now.</span> <span m='4286230'>There's</span> <span m='4286440'>ways</span>
  <span m='4286620'>around</span> <span m='4286830'>it.</span> <span m='4286920'>But</span>
  <span m='4287040'>it</span> <span m='4287130'>would</span> <span m='4287210'>have</span>
  <span m='4287310'>been</span> <span m='4287370'>nice</span> <span m='4287700'>if</span>
  <span m='4287820'>then</span> <span m='4287960'>they</span> <span m='4288330'>appended</span>
  <span m='4288840'>a</span> <span m='4288900'>zero</span> <span m='4289260'>or</span>
  <span m='4289350'>something.</span> <span m='4290250'>Or</span> <span m='4290700'>even,</span>
  <span m='4290910'>all</span> <span m='4291030'>you</span> <span m='4291080'>have</span>
  <span m='4291170'>to</span> <span m='4291240'>do</span> <span m='4291360'>is</span>
  <span m='4291420'>just</span> <span m='4291630'>append</span> <span m='4292110'>something</span>
  <span m='4292860'>at</span> <span m='4292950'>the</span> <span m='4293070'>bottom</span>
  <span m='4293520'>row</span> <span m='4293970'>or</span> <span m='4294860'>just</span>
  <span m='4295010'>append</span> <span m='4295170'>higher</span> <span m='4295230'>or</span>
  <span m='4295290'>something.</span> <span m='4295980'>Then,</span> <span m='4296100'>it</span>
  <span m='4296150'>would've</span> <span m='4296280'>been</span> <span m='4296370'>kind</span>
  <span m='4296550'>of</span> <span m='4296610'>cool.</span> <span m='4296850'>It</span>
  <span m='4296910'>would've</span> <span m='4297070'>been</span> <span m='4297180'>easier</span>
  <span m='4297450'>for</span> <span m='4297570'>me.</span> </p><p><span m='4297750'>But</span>
  <span m='4298660'>oh</span> <span m='4299010'>well.</span> <span m='4299625'>And</span>
  <span m='4299910'>there's</span> <span m='4300090'>people</span> <span m='4300330'>who've</span>
  <span m='4300420'>written</span> <span m='4300660'>about</span> <span m='4300840'>this.</span>
  <span m='4301180'>Yeah.</span> </p><p><span m='4301820'>AUDIENCE:</span> <span m='4301965'>Did</span>
  <span m='4302110'>James</span> <span m='4302400'>say</span> <span m='4302700'>that's</span>
  <span m='4302880'>pool</span> <span m='4303210'>operators</span> <span m='4303870'>are</span>
  <span m='4303960'>leaving</span> <span m='4304410'>off</span> <span m='4304650'>the</span>
  <span m='4304750'>[? whipper? ?]</span> <span m='4305820'>And</span> <span m='4306030'>if</span>
  <span m='4306250'>so,</span> <span m='4306780'>does</span> <span m='4307020'>it</span>
  <span m='4307140'>weaken</span> <span m='4307530'>the</span> <span m='4307620'>whole</span>
  <span m='4307830'>system?</span> </p><p><span m='4308660'>PROFESSOR:</span> <span
  m='4308830'>I</span> <span m='4309000'>think</span> <span m='4309150'>what</span>
  <span m='4309270'>they</span> <span m='4309390'>really</span> <span m='4309630'>do</span>
  <span m='4309780'>is</span> <span m='4309870'>they</span> <span m='4309960'>just</span>
  <span m='4310140'>don't</span> <span m='4310350'>support</span> <span m='4310710'>segwit.</span>
  <span m='4311400'>So</span> <span m='4311550'>I've</span> <span m='4311640'>seen,</span>
  <span m='4312010'>especially--</span> </p><p><span m='4312600'>AUDIENCE:</span>
  <span m='4312670'>[INAUDIBLE]</span> <span m='4313690'>it's</span> <span m='4313800'>expensive</span>
  <span m='4313860'>but</span> <span m='4314100'>then they--</span> </p><p><span m='4315130'>PROFESSOR:</span>
  <span m='4315275'>Yeah,</span> <span m='4315420'>they</span> <span m='4315570'>say</span>
  <span m='4315930'>they're</span> <span m='4316050'>going</span> <span m='4316120'>to</span>
  <span m='4316230'>support</span> <span m='4316590'>it,</span> <span m='4316710'>and</span>
  <span m='4316830'>then</span> <span m='4316980'>they</span> <span m='4317100'>don't.</span>
  <span m='4318990'>So</span> <span m='4319210'>they</span> <span m='4319560'>sort</span>
  <span m='4319740'>of</span> <span m='4319800'>flag</span> <span m='4320130'>their</span>
  <span m='4320250'>transactions,</span> <span m='4320770'>yeah,</span> <span m='4321050'>segwit,</span>
  <span m='4321570'>and then</span> <span m='4321750'>they</span> <span m='4322140'>haven't</span>
  <span m='4322380'>actually</span> <span m='4322650'>upgraded</span> <span m='4322980'>their</span>
  <span m='4323100'>software,</span> <span m='4323410'>so</span> <span m='4323460'>they</span>
  <span m='4323550'>can't</span> <span m='4323730'>use</span> <span m='4323910'>it.</span>
  <span m='4324330'>They</span> <span m='4324420'>can't</span> <span m='4324600'>mine</span>
  <span m='4324780'>it.</span> <span m='4325250'>So you</span> <span m='4325350'>see</span>
  <span m='4325650'>this</span> <span m='4325830'>a</span> <span m='4325860'>lot</span>
  <span m='4326040'>on</span> <span m='4326130'>TestNet</span> <span m='4326490'>as</span>
  <span m='4326580'>well.</span> <span m='4327210'>If</span> <span m='4327330'>you're</span>
  <span m='4327450'>making</span> <span m='4327870'>TestNet</span> <span m='4328790'>segwit</span>
  <span m='4329110'>transactions,</span> <span m='4330000'>sometimes</span> <span
  m='4330480'>they</span> <span m='4330540'>just</span> <span m='4330660'>don't</span>
  <span m='4330840'>get</span> <span m='4330960'>confirmed</span> <span m='4331260'>for</span>
  <span m='4331360'>a</span> <span m='4331380'>few</span> <span m='4331530'>hours,</span>
  <span m='4332220'>because</span> <span m='4332460'>all</span> <span m='4332790'>the</span>
  <span m='4332880'>blocks</span> <span m='4333240'>that</span> <span m='4333330'>come</span>
  <span m='4333540'>out</span> <span m='4334620'>don't</span> <span m='4334920'>support</span>
  <span m='4335280'>it,</span> <span m='4335410'>and</span> <span m='4335500'>so</span>
  <span m='4335610'>they</span> <span m='4335700'>won't</span> <span m='4335880'>use</span>
  <span m='4336060'>it.</span> </p><p><span m='4336330'>AUDIENCE:</span> <span m='4336525'>The
  badly</span> <span m='4336720'>written</span> <span m='4336990'>pool</span> <span
  m='4337180'>software,</span> <span m='4338010'>if they use</span> <span m='4338820'>segwit</span>
  <span m='4339370'>supporting</span> <span m='4340320'>full load</span> <span m='4340666'>with
  it,</span> <span m='4341012'>it</span> <span m='4341360'>will</span> <span m='4342130'>give</span>
  <span m='4342470'>them</span> <span m='4343005'>segwit</span> <span m='4343830'>transactions,</span>
  <span m='4344640'>and they'll</span> <span m='4345105'>try to</span> <span m='4345570'>include</span>
  <span m='4346035'>it but</span> <span m='4346500'>it won't do this,</span> <span
  m='4346965'>so--</span> </p><p><span m='4347430'>PROFESSOR:</span> <span m='4347580'>So</span>
  <span m='4347730'>it's</span> <span m='4348060'>invalid.</span> <span m='4348310'>Yes,</span>
  <span m='4348560'>so it's</span> <span m='4348690'>invalid.</span> </p><p><span
  m='4349660'>AUDIENCE:</span> <span m='4349690'>I</span> <span m='4349720'>guess</span>
  <span m='4349860'>my</span> <span m='4350010'>question</span> <span m='4350280'>is</span>
  <span m='4350430'>does</span> <span m='4350610'>it</span> <span m='4350670'>weaken</span>
  <span m='4351240'>the</span> <span m='4352410'>security</span> <span m='4353070'>in</span>
  <span m='4353190'>the</span> <span m='4353250'>system</span> <span m='4353990'>if</span>
  <span m='4354330'>for</span> <span m='4354540'>six</span> <span m='4354930'>months</span>
  <span m='4355300'>they're</span> <span m='4355320'>not</span> <span m='4355470'>supporting</span>
  <span m='4355980'>this?</span> </p><p><span m='4356940'>PROFESSOR:</span> <span
  m='4357090'>No,</span> <span m='4357540'>no.</span> <span m='4357870'>It</span>
  <span m='4358560'>hurts</span> <span m='4358800'>the</span> <span m='4358890'>usability.</span>
  <span m='4359820'>If</span> <span m='4359940'>I want</span> <span m='4360150'>to</span>
  <span m='4360210'>use</span> <span m='4360360'>a</span> <span m='4360420'>segwit</span>
  <span m='4360750'>transact--</span> <span m='4361350'>but</span> <span m='4361830'>as</span>
  <span m='4361980'>me</span> <span m='4362190'>running</span> <span m='4362490'>a</span>
  <span m='4362550'>segwit</span> <span m='4363120'>compatible</span> <span m='4363720'>node,</span>
  <span m='4364710'>I</span> <span m='4364860'>require</span> <span m='4365700'>signatures.</span>
  <span m='4366810'>I</span> <span m='4366900'>require</span> <span m='4367440'>all</span>
  <span m='4367620'>this</span> <span m='4368100'>whole</span> <span m='4368220'>construction.</span>
  <span m='4369060'>If</span> <span m='4369180'>you</span> <span m='4369300'>make</span>
  <span m='4370320'>something</span> <span m='4370650'>that</span> <span m='4370770'>looks</span>
  <span m='4371040'>like</span> <span m='4371190'>it</span> <span m='4371280'>spends</span>
  <span m='4371490'>the</span> <span m='4371580'>segwit</span> <span m='4371910'>transaction</span>
  <span m='4372480'>without</span> <span m='4372780'>this,</span> <span m='4373350'>I</span>
  <span m='4373410'>just</span> <span m='4373560'>reject</span> <span m='4373860'>it.</span>
  <span m='4374820'>So</span> <span m='4374940'>security</span> <span m='4375330'>wise,</span>
  <span m='4375760'>it's</span> <span m='4376040'>fine.</span> <span m='4376360'>Yes.</span>
  </p><p><span m='4376790'>AUDIENCE:</span> <span m='4376945'>I think it might be</span>
  <span m='4377100'>important</span> <span m='4377520'>to</span> <span m='4377640'>note</span>
  <span m='4378030'>that</span> <span m='4378360'>the</span> <span m='4378450'>way</span>
  <span m='4378840'>that</span> <span m='4379440'>these</span> <span m='4379680'>things</span>
  <span m='4379890'>are</span> <span m='4379950'>designed,</span> <span m='4380380'>and</span>
  <span m='4380450'>in</span> <span m='4380520'>particular</span> <span m='4380790'>that</span>
  <span m='4381060'>softforks</span> <span m='4381360'>are</span> <span m='4381660'>designed,</span>
  <span m='4382530'>is</span> <span m='4382680'>that</span> <span m='4383040'>anyone</span>
  <span m='4383580'>who</span> <span m='4383700'>doesn't</span> <span m='4384210'>update</span>
  <span m='4384810'>the</span> <span m='4384910'>new</span> <span m='4385110'>functionality</span>
  <span m='4386880'>can't</span> <span m='4387330'>hurt</span> <span m='4387960'>the</span>
  <span m='4388080'>security</span> <span m='4388740'>of</span> <span m='4388890'>the</span>
  <span m='4388980'>new</span> <span m='4389100'>functionality.</span> <span m='4389970'>That's</span>
  <span m='4390180'>sort</span> <span m='4390320'>of</span> <span m='4390960'>part</span>
  <span m='4391260'>of</span> <span m='4391350'>the</span> <span m='4391440'>design</span>
  <span m='4392130'>process.</span> </p><p><span m='4393510'>PROFESSOR:</span> <span
  m='4393705'>Although,</span> <span m='4393900'>their</span> <span m='4394290'>security</span>
  <span m='4394680'>might</span> <span m='4394860'>get</span> <span m='4395010'>hurt.</span>
  <span m='4396315'>Not</span> <span m='4397590'>a</span> <span m='4397650'>ton,</span>
  <span m='4397950'>but</span> <span m='4398100'>yeah.</span> <span m='4398320'>If</span>
  <span m='4398460'>you</span> <span m='4398970'>haven't</span> <span m='4399180'>upgraded,</span>
  <span m='4400140'>you</span> <span m='4400290'>might</span> <span m='4400500'>see</span>
  <span m='4400740'>these</span> <span m='4400890'>segwit</span> <span m='4401250'>transactions,</span>
  <span m='4402510'>and--</span> </p><p><span m='4402600'>AUDIENCE:</span> <span m='4402855'>[INAUDIBLE]</span>
  </p><p><span m='4403290'>PROFESSOR:</span> <span m='4403580'>Yeah,</span> <span
  m='4403710'>they</span> <span m='4404400'>look</span> <span m='4404580'>weird,</span>
  <span m='4405060'>but</span> <span m='4405210'>you're</span> <span m='4405300'>like,</span>
  <span m='4405470'>OK,</span> <span m='4405690'>fine.</span> <span m='4406070'>But</span>
  <span m='4406190'>you</span> <span m='4406290'>can't</span> <span m='4406470'>actually</span>
  <span m='4406740'>verify</span> <span m='4407070'>the</span> <span m='4407130'>whole</span>
  <span m='4407280'>thing.</span> <span m='4408810'>Given</span> <span m='4409320'>an</span>
  <span m='4409710'>invalid</span> <span m='4410610'>and</span> <span m='4410730'>a</span>
  <span m='4410790'>valid</span> <span m='4411240'>segwit</span> <span m='4411600'>transaction,</span>
  <span m='4412380'>the</span> <span m='4412500'>old</span> <span m='4412650'>software</span>
  <span m='4413010'>can't</span> <span m='4413190'>distinguish</span> <span m='4413710'>but</span>
  <span m='4413830'>the</span> <span m='4413910'>new</span> <span m='4414030'>software</span>
  <span m='4414340'>can.</span> </p><p><span m='4416180'>AUDIENCE:</span> <span m='4416430'>That's
  even though the pool</span> <span m='4416680'>operators,</span> <span m='4417290'>whether</span>
  <span m='4417730'>there's</span> <span m='4418170'>six</span> <span m='4418530'>or</span>
  <span m='4418650'>eight</span> <span m='4418980'>key</span> <span m='4419250'>pool</span>
  <span m='4419520'>operators,</span> <span m='4420210'>might</span> <span m='4420450'>not</span>
  <span m='4420600'>be</span> <span m='4420750'>supporting</span> <span m='4421320'>the
  witrootsub</span> </p><p><span m='4422330'>PROFESSOR:</span> <span m='4422430'>If</span>
  <span m='4422790'>they</span> <span m='4422880'>don't</span> <span m='4423000'>support</span>
  <span m='4423360'>it,</span> <span m='4424350'>you</span> <span m='4424410'>have</span>
  <span m='4424500'>to</span> <span m='4424560'>wait</span> <span m='4425100'>until</span>
  <span m='4425310'>someone</span> <span m='4425580'>that</span> <span m='4425700'>does</span>
  <span m='4425910'>support</span> <span m='4426150'>it</span> <span m='4426210'>mines
  the</span> <span m='4426410'>block.</span> <span m='4428790'>So</span> <span m='4429240'>if</span>
  <span m='4429780'>they</span> <span m='4430170'>try</span> <span m='4430470'>to</span>
  <span m='4430560'>support</span> <span m='4430860'>it</span> <span m='4430920'>and</span>
  <span m='4431040'>support</span> <span m='4431340'>it</span> <span m='4431430'>wrong,</span>
  <span m='4432630'>you</span> <span m='4433080'>ignore</span> <span m='4433440'>them.</span>
  <span m='4434360'>You don't</span> <span m='4435030'>use</span> <span m='4435240'>their</span>
  <span m='4435450'>data.</span> <span m='4435840'>You</span> <span m='4435930'>don't</span>
  <span m='4436050'>use</span> <span m='4436170'>their</span> <span m='4436290'>block.</span>
  </p><p><span m='4437030'>AUDIENCE:</span> <span m='4437260'>you just want</span>
  <span m='4437490'>segwit</span> <span m='4437815'>transactions</span> <span m='4438140'>stay
  in the</span> <span m='4438556'>node pool</span> <span m='4438972'>a bit longer.</span>
  </p><p><span m='4439390'>PROFESSOR:</span> <span m='4439540'>Yeah.</span> <span
  m='4439690'>So</span> <span m='4440800'>I</span> <span m='4440860'>think</span>
  <span m='4441010'>in</span> <span m='4441100'>bitcoin</span> <span m='4441460'>now,</span>
  <span m='4441760'>it's</span> <span m='4441910'>OK.</span> <span m='4443010'>TestNet</span>
  <span m='4443710'>is</span> <span m='4443950'>kind</span> <span m='4444130'>of</span>
  <span m='4444190'>weird,</span> <span m='4444610'>but</span> <span m='4445120'>there's</span>
  <span m='4445330'>segwit.party,</span> <span m='4446980'>and</span> <span m='4447250'>you</span>
  <span m='4447340'>can</span> <span m='4447520'>see</span> <span m='4448780'>what</span>
  <span m='4448960'>people</span> <span m='4449260'>are</span> <span m='4449320'>doing</span>
  <span m='4449620'>with</span> <span m='4449740'>segwit.</span> <span m='4452710'>So</span>
  <span m='4452920'>yeah,</span> <span m='4453130'>it's</span> <span m='4453280'>about</span>
  <span m='4453490'>30.</span> <span m='4454180'>This</span> <span m='4454360'>is</span>
  <span m='4454450'>by</span> <span m='4454570'>transaction,</span> <span m='4455200'>it's</span>
  <span m='4455290'>somewhere</span> <span m='4455650'>around</span> <span m='4455860'>30</span>
  <span m='4456850'>something</span> <span m='4457240'>percent</span> <span m='4457900'>of</span>
  <span m='4458020'>the</span> <span m='4458110'>transactions</span> <span m='4458680'>are</span>
  <span m='4458740'>using</span> <span m='4459010'>segwit,</span> <span m='4459910'>and</span>
  <span m='4460090'>then</span> <span m='4460210'>you</span> <span m='4460300'>can</span>
  <span m='4460450'>see</span> <span m='4461350'>witness</span> <span m='4461680'>size</span>
  <span m='4461950'>percentage,</span> <span m='4462550'>block</span> <span m='4462850'>size.</span>
  <span m='4463410'>OK,</span> <span m='4463630'>so</span> <span m='4463750'>sometimes</span>
  <span m='4464110'>you</span> <span m='4464170'>got--</span> <span m='4464800'>oh</span>
  <span m='4464890'>wow,</span> <span m='4465320'>I</span> <span m='4465420'>had</span>
  <span m='4465520'>no</span> <span m='4465580'>idea.</span> <span m='4466720'>Blocks</span>
  <span m='4466920'>are</span> <span m='4467020'>way</span> <span m='4467170'>under
  a</span> <span m='4467380'>megabyte</span> <span m='4467710'>now.</span> </p><p><span
  m='4469260'>Oh,</span> <span m='4469540'>OK,</span> <span m='4469870'>well</span>
  <span m='4470320'>free</span> <span m='4471010'>transactions</span> <span m='4471610'>for</span>
  <span m='4471700'>everyone.</span> <span m='4472060'>If</span> <span m='4472440'>you</span>
  <span m='4472520'>want to</span> <span m='4472660'>use</span> <span m='4472810'>bitcoin,</span>
  <span m='4473130'>now's</span> <span m='4473290'>the</span> <span m='4473350'>time.</span>
  <span m='4474040'>You don't</span> <span m='4474460'>have to pay</span> <span m='4474670'>anything.</span>
  <span m='4476530'>That</span> <span m='4476680'>looks</span> <span m='4476890'>very</span>
  <span m='4477250'>different</span> <span m='4477910'>a</span> <span m='4477970'>month</span>
  <span m='4478210'>ago</span> <span m='4479620'>where</span> <span m='4479950'>you</span>
  <span m='4480130'>had</span> <span m='4480340'>a</span> <span m='4480400'>solid</span>
  <span m='4481000'>red</span> <span m='4481300'>line.</span> <span m='4481780'>You</span>
  <span m='4481930'>had</span> <span m='4482060'>to</span> <span m='4482140'>sort</span>
  <span m='4482350'>of--</span> <span m='4483220'>nothing</span> <span m='4484090'>went</span>
  <span m='4484330'>below</span> <span m='4484780'>a</span> <span m='4484840'>million,</span>
  <span m='4485380'>and</span> <span m='4485500'>then</span> <span m='4485620'>you</span>
  <span m='4485710'>had</span> <span m='4485890'>a</span> <span m='4485950'>little</span>
  <span m='4486250'>bit</span> <span m='4486400'>of</span> <span m='4486520'>segwit</span>
  <span m='4486910'>stuff</span> <span m='4487120'>going</span> <span m='4487330'>on</span>
  <span m='4487450'>here.</span> <span m='4487840'>But</span> <span m='4487990'>now</span>
  <span m='4488140'>you've</span> <span m='4488260'>got</span> <span m='4489640'>most</span>
  <span m='4489910'>things</span> <span m='4490120'>are</span> <span m='4490180'>below</span>
  <span m='4490360'>a</span> <span m='4490390'>million.</span> <span m='4490680'>So</span>
  <span m='4491290'>interesting.</span> </p><p><span m='4492020'>OK,</span> <span
  m='4492260'>so yeah.</span> <span m='4492730'>So</span> <span m='4493300'>that's</span>
  <span m='4494500'>the</span> <span m='4494680'>basic</span> <span m='4495100'>idea</span>
  <span m='4495550'>of</span> <span m='4495670'>segwit.</span> <span m='4496240'>And</span>
  <span m='4496600'>if</span> <span m='4496690'>people</span> <span m='4496900'>have</span>
  <span m='4497080'>any</span> <span m='4497230'>questions,</span> <span m='4498790'>stick</span>
  <span m='4498970'>around</span> <span m='4499210'>and ask.</span> <span m='4501310'>There's</span>
  <span m='4501580'>office</span> <span m='4501820'>hours</span> <span m='4502060'>tomorrow</span>
  <span m='4502460'>at</span> <span m='4502560'>4:00</span> <span m='4502690'>to</span>
  <span m='4502770'>6:00</span> <span m='4502990'>over</span> <span m='4503140'>there.</span>
  <span m='4503770'>Look</span> <span m='4503950'>at</span> <span m='4504040'>the</span>
  <span m='4504100'>homework,</span> <span m='4504460'>and</span> <span m='4505030'>next</span>
  <span m='4505240'>time</span> <span m='4505450'>I'll</span> <span m='4505540'>talk</span>
  <span m='4505690'>about</span> <span m='4505960'>lightning</span> <span m='4506230'>network</span>
  <span m='4506840'>payment--</span> <span m='4507320'>I'll</span> <span m='4507420'>try</span>
  <span m='4507430'>to</span> <span m='4507520'>get</span> <span m='4507760'>into</span>
  <span m='4507970'>payment</span> <span m='4508300'>channels</span> <span m='4508990'>and</span>
  <span m='4509730'>see</span> <span m='4509910'>how</span> <span m='4510010'>far</span>
  <span m='4510190'>we</span> <span m='4510310'>get into</span> <span m='4510610'>lightning</span>
  <span m='4510910'>network</span> <span m='4511210'>stuff.</span> </p>
type: course
uid: 4a77377a8272fe153ff770c8b2089735

---
None